var pI=Object.defineProperty;var mI=(n,e,t)=>e in n?pI(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var $e=(n,e,t)=>mI(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function jw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var rp={exports:{}},kl={},sp={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function gI(){if(W_)return Me;W_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function w(B){return B===null||typeof B!="object"?null:(B=v&&B[v]||B["@@iterator"],typeof B=="function"?B:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,A={};function b(B,X,fe){this.props=B,this.context=X,this.refs=A,this.updater=fe||T}b.prototype.isReactComponent={},b.prototype.setState=function(B,X){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,X,"setState")},b.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function D(){}D.prototype=b.prototype;function V(B,X,fe){this.props=B,this.context=X,this.refs=A,this.updater=fe||T}var $=V.prototype=new D;$.constructor=V,I($,b.prototype),$.isPureReactComponent=!0;var G=Array.isArray,Y=Object.prototype.hasOwnProperty,J={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function C(B,X,fe){var xe,Te={},Ie=null,Ve=null;if(X!=null)for(xe in X.ref!==void 0&&(Ve=X.ref),X.key!==void 0&&(Ie=""+X.key),X)Y.call(X,xe)&&!R.hasOwnProperty(xe)&&(Te[xe]=X[xe]);var Pe=arguments.length-2;if(Pe===1)Te.children=fe;else if(1<Pe){for(var He=Array(Pe),ht=0;ht<Pe;ht++)He[ht]=arguments[ht+2];Te.children=He}if(B&&B.defaultProps)for(xe in Pe=B.defaultProps,Pe)Te[xe]===void 0&&(Te[xe]=Pe[xe]);return{$$typeof:n,type:B,key:Ie,ref:Ve,props:Te,_owner:J.current}}function P(B,X){return{$$typeof:n,type:B.type,key:X,ref:B.ref,props:B.props,_owner:B._owner}}function O(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function L(B){var X={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(fe){return X[fe]})}var F=/\/+/g;function N(B,X){return typeof B=="object"&&B!==null&&B.key!=null?L(""+B.key):X.toString(36)}function Ne(B,X,fe,xe,Te){var Ie=typeof B;(Ie==="undefined"||Ie==="boolean")&&(B=null);var Ve=!1;if(B===null)Ve=!0;else switch(Ie){case"string":case"number":Ve=!0;break;case"object":switch(B.$$typeof){case n:case e:Ve=!0}}if(Ve)return Ve=B,Te=Te(Ve),B=xe===""?"."+N(Ve,0):xe,G(Te)?(fe="",B!=null&&(fe=B.replace(F,"$&/")+"/"),Ne(Te,X,fe,"",function(ht){return ht})):Te!=null&&(O(Te)&&(Te=P(Te,fe+(!Te.key||Ve&&Ve.key===Te.key?"":(""+Te.key).replace(F,"$&/")+"/")+B)),X.push(Te)),1;if(Ve=0,xe=xe===""?".":xe+":",G(B))for(var Pe=0;Pe<B.length;Pe++){Ie=B[Pe];var He=xe+N(Ie,Pe);Ve+=Ne(Ie,X,fe,He,Te)}else if(He=w(B),typeof He=="function")for(B=He.call(B),Pe=0;!(Ie=B.next()).done;)Ie=Ie.value,He=xe+N(Ie,Pe++),Ve+=Ne(Ie,X,fe,He,Te);else if(Ie==="object")throw X=String(B),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Ve}function Se(B,X,fe){if(B==null)return B;var xe=[],Te=0;return Ne(B,xe,"","",function(Ie){return X.call(fe,Ie,Te++)}),xe}function De(B){if(B._status===-1){var X=B._result;X=X(),X.then(function(fe){(B._status===0||B._status===-1)&&(B._status=1,B._result=fe)},function(fe){(B._status===0||B._status===-1)&&(B._status=2,B._result=fe)}),B._status===-1&&(B._status=0,B._result=X)}if(B._status===1)return B._result.default;throw B._result}var Ee={current:null},oe={transition:null},me={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:oe,ReactCurrentOwner:J};function le(){throw Error("act(...) is not supported in production builds of React.")}return Me.Children={map:Se,forEach:function(B,X,fe){Se(B,function(){X.apply(this,arguments)},fe)},count:function(B){var X=0;return Se(B,function(){X++}),X},toArray:function(B){return Se(B,function(X){return X})||[]},only:function(B){if(!O(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Me.Component=b,Me.Fragment=t,Me.Profiler=r,Me.PureComponent=V,Me.StrictMode=i,Me.Suspense=h,Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Me.act=le,Me.cloneElement=function(B,X,fe){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var xe=I({},B.props),Te=B.key,Ie=B.ref,Ve=B._owner;if(X!=null){if(X.ref!==void 0&&(Ie=X.ref,Ve=J.current),X.key!==void 0&&(Te=""+X.key),B.type&&B.type.defaultProps)var Pe=B.type.defaultProps;for(He in X)Y.call(X,He)&&!R.hasOwnProperty(He)&&(xe[He]=X[He]===void 0&&Pe!==void 0?Pe[He]:X[He])}var He=arguments.length-2;if(He===1)xe.children=fe;else if(1<He){Pe=Array(He);for(var ht=0;ht<He;ht++)Pe[ht]=arguments[ht+2];xe.children=Pe}return{$$typeof:n,type:B.type,key:Te,ref:Ie,props:xe,_owner:Ve}},Me.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:o,_context:B},B.Consumer=B},Me.createElement=C,Me.createFactory=function(B){var X=C.bind(null,B);return X.type=B,X},Me.createRef=function(){return{current:null}},Me.forwardRef=function(B){return{$$typeof:c,render:B}},Me.isValidElement=O,Me.lazy=function(B){return{$$typeof:g,_payload:{_status:-1,_result:B},_init:De}},Me.memo=function(B,X){return{$$typeof:p,type:B,compare:X===void 0?null:X}},Me.startTransition=function(B){var X=oe.transition;oe.transition={};try{B()}finally{oe.transition=X}},Me.unstable_act=le,Me.useCallback=function(B,X){return Ee.current.useCallback(B,X)},Me.useContext=function(B){return Ee.current.useContext(B)},Me.useDebugValue=function(){},Me.useDeferredValue=function(B){return Ee.current.useDeferredValue(B)},Me.useEffect=function(B,X){return Ee.current.useEffect(B,X)},Me.useId=function(){return Ee.current.useId()},Me.useImperativeHandle=function(B,X,fe){return Ee.current.useImperativeHandle(B,X,fe)},Me.useInsertionEffect=function(B,X){return Ee.current.useInsertionEffect(B,X)},Me.useLayoutEffect=function(B,X){return Ee.current.useLayoutEffect(B,X)},Me.useMemo=function(B,X){return Ee.current.useMemo(B,X)},Me.useReducer=function(B,X,fe){return Ee.current.useReducer(B,X,fe)},Me.useRef=function(B){return Ee.current.useRef(B)},Me.useState=function(B){return Ee.current.useState(B)},Me.useSyncExternalStore=function(B,X,fe){return Ee.current.useSyncExternalStore(B,X,fe)},Me.useTransition=function(){return Ee.current.useTransition()},Me.version="18.3.1",Me}var q_;function wm(){return q_||(q_=1,sp.exports=gI()),sp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function yI(){if(K_)return kl;K_=1;var n=wm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,r=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,p){var g,v={},w=null,T=null;p!==void 0&&(w=""+p),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(T=h.ref);for(g in h)i.call(h,g)&&!o.hasOwnProperty(g)&&(v[g]=h[g]);if(c&&c.defaultProps)for(g in h=c.defaultProps,h)v[g]===void 0&&(v[g]=h[g]);return{$$typeof:e,type:c,key:w,ref:T,props:v,_owner:r.current}}return kl.Fragment=t,kl.jsx=l,kl.jsxs=l,kl}var G_;function _I(){return G_||(G_=1,rp.exports=yI()),rp.exports}var x=_I(),z=wm();const Uw=jw(z);var Bu={},op={exports:{}},mn={},ap={exports:{}},lp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function vI(){return Q_||(Q_=1,function(n){function e(oe,me){var le=oe.length;oe.push(me);e:for(;0<le;){var B=le-1>>>1,X=oe[B];if(0<r(X,me))oe[B]=me,oe[le]=X,le=B;else break e}}function t(oe){return oe.length===0?null:oe[0]}function i(oe){if(oe.length===0)return null;var me=oe[0],le=oe.pop();if(le!==me){oe[0]=le;e:for(var B=0,X=oe.length,fe=X>>>1;B<fe;){var xe=2*(B+1)-1,Te=oe[xe],Ie=xe+1,Ve=oe[Ie];if(0>r(Te,le))Ie<X&&0>r(Ve,Te)?(oe[B]=Ve,oe[Ie]=le,B=Ie):(oe[B]=Te,oe[xe]=le,B=xe);else if(Ie<X&&0>r(Ve,le))oe[B]=Ve,oe[Ie]=le,B=Ie;else break e}}return me}function r(oe,me){var le=oe.sortIndex-me.sortIndex;return le!==0?le:oe.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var h=[],p=[],g=1,v=null,w=3,T=!1,I=!1,A=!1,b=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(oe){for(var me=t(p);me!==null;){if(me.callback===null)i(p);else if(me.startTime<=oe)i(p),me.sortIndex=me.expirationTime,e(h,me);else break;me=t(p)}}function G(oe){if(A=!1,$(oe),!I)if(t(h)!==null)I=!0,De(Y);else{var me=t(p);me!==null&&Ee(G,me.startTime-oe)}}function Y(oe,me){I=!1,A&&(A=!1,D(C),C=-1),T=!0;var le=w;try{for($(me),v=t(h);v!==null&&(!(v.expirationTime>me)||oe&&!L());){var B=v.callback;if(typeof B=="function"){v.callback=null,w=v.priorityLevel;var X=B(v.expirationTime<=me);me=n.unstable_now(),typeof X=="function"?v.callback=X:v===t(h)&&i(h),$(me)}else i(h);v=t(h)}if(v!==null)var fe=!0;else{var xe=t(p);xe!==null&&Ee(G,xe.startTime-me),fe=!1}return fe}finally{v=null,w=le,T=!1}}var J=!1,R=null,C=-1,P=5,O=-1;function L(){return!(n.unstable_now()-O<P)}function F(){if(R!==null){var oe=n.unstable_now();O=oe;var me=!0;try{me=R(!0,oe)}finally{me?N():(J=!1,R=null)}}else J=!1}var N;if(typeof V=="function")N=function(){V(F)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,Se=Ne.port2;Ne.port1.onmessage=F,N=function(){Se.postMessage(null)}}else N=function(){b(F,0)};function De(oe){R=oe,J||(J=!0,N())}function Ee(oe,me){C=b(function(){oe(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(oe){oe.callback=null},n.unstable_continueExecution=function(){I||T||(I=!0,De(Y))},n.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<oe?Math.floor(1e3/oe):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(oe){switch(w){case 1:case 2:case 3:var me=3;break;default:me=w}var le=w;w=me;try{return oe()}finally{w=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(oe,me){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var le=w;w=oe;try{return me()}finally{w=le}},n.unstable_scheduleCallback=function(oe,me,le){var B=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?B+le:B):le=B,oe){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=le+X,oe={id:g++,callback:me,priorityLevel:oe,startTime:le,expirationTime:X,sortIndex:-1},le>B?(oe.sortIndex=le,e(p,oe),t(h)===null&&oe===t(p)&&(A?(D(C),C=-1):A=!0,Ee(G,le-B))):(oe.sortIndex=X,e(h,oe),I||T||(I=!0,De(Y))),oe},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(oe){var me=w;return function(){var le=w;w=me;try{return oe.apply(this,arguments)}finally{w=le}}}}(lp)),lp}var Y_;function wI(){return Y_||(Y_=1,ap.exports=vI()),ap.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function EI(){if(X_)return mn;X_=1;var n=wm(),e=wI();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,r={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(r[s]=a,s=0;s<a.length;s++)i.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function w(s){return h.call(v,s)?!0:h.call(g,s)?!1:p.test(s)?v[s]=!0:(g[s]=!0,!1)}function T(s,a,u,f){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function I(s,a,u,f){if(a===null||typeof a>"u"||T(s,a,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function A(s,a,u,f,m,_,S){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=_,this.removeEmptyString=S}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new A(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];b[a]=new A(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new A(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new A(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new A(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new A(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new A(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new A(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new A(s,5,!1,s.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function V(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(D,V);b[a]=new A(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(D,V);b[a]=new A(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(D,V);b[a]=new A(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new A(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new A(s,1,!1,s.toLowerCase(),null,!0,!0)});function $(s,a,u,f){var m=b.hasOwnProperty(a)?b[a]:null;(m!==null?m.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(I(a,u,m,f)&&(u=null),f||m===null?w(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):m.mustUseProperty?s[m.propertyName]=u===null?m.type===3?!1:"":u:(a=m.attributeName,f=m.attributeNamespace,u===null?s.removeAttribute(a):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,f?s.setAttributeNS(f,a,u):s.setAttribute(a,u))))}var G=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),J=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),L=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),De=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),oe=Symbol.iterator;function me(s){return s===null||typeof s!="object"?null:(s=oe&&s[oe]||s["@@iterator"],typeof s=="function"?s:null)}var le=Object.assign,B;function X(s){if(B===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);B=a&&a[1]||""}return`
`+B+s}var fe=!1;function xe(s,a){if(!s||fe)return"";fe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(K){var f=K}Reflect.construct(s,[],a)}else{try{a.call()}catch(K){f=K}s.call(a.prototype)}else{try{throw Error()}catch(K){f=K}s()}}catch(K){if(K&&f&&typeof K.stack=="string"){for(var m=K.stack.split(`
`),_=f.stack.split(`
`),S=m.length-1,M=_.length-1;1<=S&&0<=M&&m[S]!==_[M];)M--;for(;1<=S&&0<=M;S--,M--)if(m[S]!==_[M]){if(S!==1||M!==1)do if(S--,M--,0>M||m[S]!==_[M]){var j=`
`+m[S].replace(" at new "," at ");return s.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",s.displayName)),j}while(1<=S&&0<=M);break}}}finally{fe=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?X(s):""}function Te(s){switch(s.tag){case 5:return X(s.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return s=xe(s.type,!1),s;case 11:return s=xe(s.type.render,!1),s;case 1:return s=xe(s.type,!0),s;default:return""}}function Ie(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case J:return"Portal";case P:return"Profiler";case C:return"StrictMode";case N:return"Suspense";case Ne:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case O:return(s._context.displayName||"Context")+".Provider";case F:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Se:return a=s.displayName||null,a!==null?a:Ie(s.type)||"Memo";case De:a=s._payload,s=s._init;try{return Ie(s(a))}catch{}}return null}function Ve(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(a);case 8:return a===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Pe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function He(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ht(s){var a=He(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,_=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(S){f=""+S,_.call(this,S)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(S){f=""+S},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function En(s){s._valueTracker||(s._valueTracker=ht(s))}function Hi(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return s&&(f=He(s)?s.checked?"true":"false":s.value),s=f,s!==u?(a.setValue(s),!0):!1}function Wn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function xr(s,a){var u=a.checked;return le({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Wi(s,a){var u=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;u=Pe(a.value!=null?a.value:u),s._wrapperState={initialChecked:f,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function xs(s,a){a=a.checked,a!=null&&$(s,"checked",a,!1)}function Ts(s,a){xs(s,a);var u=Pe(a.value),f=a.type;if(u!=null)f==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?qi(s,a.type,u):a.hasOwnProperty("defaultValue")&&qi(s,a.type,Pe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function yo(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function qi(s,a,u){(a!=="number"||Wn(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Zt=Array.isArray;function xn(s,a,u,f){if(s=s.options,a){a={};for(var m=0;m<u.length;m++)a["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=a.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&f&&(s[u].defaultSelected=!0)}else{for(u=""+Pe(u),a=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,f&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function pi(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Tr(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(t(92));if(Zt(u)){if(1<u.length)throw Error(t(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:Pe(u)}}function Sr(s,a){var u=Pe(a.value),f=Pe(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),f!=null&&(s.defaultValue=""+f)}function Ss(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function dt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?dt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var qn,Is=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,f,m){MSApp.execUnsafeLocalFunction(function(){return s(a,u,f,m)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(qn=qn||document.createElement("div"),qn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=qn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function mi(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var on={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ie=["Webkit","ms","Moz","O"];Object.keys(on).forEach(function(s){ie.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),on[a]=on[s]})});function an(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||on.hasOwnProperty(s)&&on[s]?(""+a).trim():a+"px"}function gi(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var f=u.indexOf("--")===0,m=an(u,a[u],f);u==="float"&&(u="cssFloat"),f?s.setProperty(u,m):s[u]=m}}var Ki=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _o(s,a){if(a){if(Ki[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Ba(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bs=null;function vo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var wo=null,Pn=null,yi=null;function Eo(s){if(s=dl(s)){if(typeof wo!="function")throw Error(t(280));var a=s.stateNode;a&&(a=iu(a),wo(s.stateNode,s.type,a))}}function _i(s){Pn?yi?yi.push(s):yi=[s]:Pn=s}function $a(){if(Pn){var s=Pn,a=yi;if(yi=Pn=null,Eo(s),a)for(s=0;s<a.length;s++)Eo(a[s])}}function ks(s,a){return s(a)}function Ha(){}var Gi=!1;function Wa(s,a,u){if(Gi)return s(a,u);Gi=!0;try{return ks(s,a,u)}finally{Gi=!1,(Pn!==null||yi!==null)&&(Ha(),$a())}}function mt(s,a){var u=s.stateNode;if(u===null)return null;var f=iu(u);if(f===null)return null;u=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,a,typeof u));return u}var xo=!1;if(c)try{var Kn={};Object.defineProperty(Kn,"passive",{get:function(){xo=!0}}),window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch{xo=!1}function Cs(s,a,u,f,m,_,S,M,j){var K=Array.prototype.slice.call(arguments,3);try{a.apply(u,K)}catch(ne){this.onError(ne)}}var As=!1,To=null,Gn=!1,qa=null,Pd={onError:function(s){As=!0,To=s}};function So(s,a,u,f,m,_,S,M,j){As=!1,To=null,Cs.apply(Pd,arguments)}function Cc(s,a,u,f,m,_,S,M,j){if(So.apply(this,arguments),As){if(As){var K=To;As=!1,To=null}else throw Error(t(198));Gn||(Gn=!0,qa=K)}}function Qn(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function Rs(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Yn(s){if(Qn(s)!==s)throw Error(t(188))}function Ac(s){var a=s.alternate;if(!a){if(a=Qn(s),a===null)throw Error(t(188));return a!==s?null:s}for(var u=s,f=a;;){var m=u.return;if(m===null)break;var _=m.alternate;if(_===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===_.child){for(_=m.child;_;){if(_===u)return Yn(m),s;if(_===f)return Yn(m),a;_=_.sibling}throw Error(t(188))}if(u.return!==f.return)u=m,f=_;else{for(var S=!1,M=m.child;M;){if(M===u){S=!0,u=m,f=_;break}if(M===f){S=!0,f=m,u=_;break}M=M.sibling}if(!S){for(M=_.child;M;){if(M===u){S=!0,u=_,f=m;break}if(M===f){S=!0,f=_,u=m;break}M=M.sibling}if(!S)throw Error(t(189))}}if(u.alternate!==f)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:a}function Ka(s){return s=Ac(s),s!==null?Io(s):null}function Io(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Io(s);if(a!==null)return a;s=s.sibling}return null}var bo=e.unstable_scheduleCallback,Ga=e.unstable_cancelCallback,Rc=e.unstable_shouldYield,Dd=e.unstable_requestPaint,Je=e.unstable_now,Pc=e.unstable_getCurrentPriorityLevel,Ps=e.unstable_ImmediatePriority,Ir=e.unstable_UserBlockingPriority,Dn=e.unstable_NormalPriority,Qa=e.unstable_LowPriority,Dc=e.unstable_IdlePriority,Ds=null,Tn=null;function Nc(s){if(Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(Ds,s,void 0,(s.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:Oc,Ya=Math.log,Mc=Math.LN2;function Oc(s){return s>>>=0,s===0?32:31-(Ya(s)/Mc|0)|0}var ko=64,Co=4194304;function br(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ns(s,a){var u=s.pendingLanes;if(u===0)return 0;var f=0,m=s.suspendedLanes,_=s.pingedLanes,S=u&268435455;if(S!==0){var M=S&~m;M!==0?f=br(M):(_&=S,_!==0&&(f=br(_)))}else S=u&~m,S!==0?f=br(S):_!==0&&(f=br(_));if(f===0)return 0;if(a!==0&&a!==f&&!(a&m)&&(m=f&-f,_=a&-a,m>=_||m===16&&(_&4194240)!==0))return a;if(f&4&&(f|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=f;0<a;)u=31-en(a),m=1<<u,f|=s[u],a&=~m;return f}function Nd(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qi(s,a){for(var u=s.suspendedLanes,f=s.pingedLanes,m=s.expirationTimes,_=s.pendingLanes;0<_;){var S=31-en(_),M=1<<S,j=m[S];j===-1?(!(M&u)||M&f)&&(m[S]=Nd(M,a)):j<=a&&(s.expiredLanes|=M),_&=~M}}function Sn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Ms(){var s=ko;return ko<<=1,!(ko&4194240)&&(ko=64),s}function kr(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function Cr(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-en(a),s[a]=u}function Xe(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<u;){var m=31-en(u),_=1<<m;a[m]=0,f[m]=-1,s[m]=-1,u&=~_}}function Ar(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var f=31-en(u),m=1<<f;m&a|s[f]&a&&(s[f]|=a),u&=~m}}var Fe=0;function Rr(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Lc,Ao,Vc,Fc,jc,Xa=!1,vi=[],Mt=null,Xn=null,Jn=null,Pr=new Map,Nn=new Map,wi=[],Md="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uc(s,a){switch(s){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":Pr.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nn.delete(a.pointerId)}}function ln(s,a,u,f,m,_){return s===null||s.nativeEvent!==_?(s={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:_,targetContainers:[m]},a!==null&&(a=dl(a),a!==null&&Ao(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function Od(s,a,u,f,m){switch(a){case"focusin":return Mt=ln(Mt,s,a,u,f,m),!0;case"dragenter":return Xn=ln(Xn,s,a,u,f,m),!0;case"mouseover":return Jn=ln(Jn,s,a,u,f,m),!0;case"pointerover":var _=m.pointerId;return Pr.set(_,ln(Pr.get(_)||null,s,a,u,f,m)),!0;case"gotpointercapture":return _=m.pointerId,Nn.set(_,ln(Nn.get(_)||null,s,a,u,f,m)),!0}return!1}function zc(s){var a=js(s.target);if(a!==null){var u=Qn(a);if(u!==null){if(a=u.tag,a===13){if(a=Rs(u),a!==null){s.blockedOn=a,jc(s.priority,function(){Vc(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Yi(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=Ro(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);bs=f,u.target.dispatchEvent(f),bs=null}else return a=dl(u),a!==null&&Ao(a),s.blockedOn=u,!1;a.shift()}return!0}function Os(s,a,u){Yi(s)&&u.delete(a)}function Bc(){Xa=!1,Mt!==null&&Yi(Mt)&&(Mt=null),Xn!==null&&Yi(Xn)&&(Xn=null),Jn!==null&&Yi(Jn)&&(Jn=null),Pr.forEach(Os),Nn.forEach(Os)}function Zn(s,a){s.blockedOn===a&&(s.blockedOn=null,Xa||(Xa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Bc)))}function ei(s){function a(m){return Zn(m,s)}if(0<vi.length){Zn(vi[0],s);for(var u=1;u<vi.length;u++){var f=vi[u];f.blockedOn===s&&(f.blockedOn=null)}}for(Mt!==null&&Zn(Mt,s),Xn!==null&&Zn(Xn,s),Jn!==null&&Zn(Jn,s),Pr.forEach(a),Nn.forEach(a),u=0;u<wi.length;u++)f=wi[u],f.blockedOn===s&&(f.blockedOn=null);for(;0<wi.length&&(u=wi[0],u.blockedOn===null);)zc(u),u.blockedOn===null&&wi.shift()}var Xi=G.ReactCurrentBatchConfig,Dr=!0;function st(s,a,u,f){var m=Fe,_=Xi.transition;Xi.transition=null;try{Fe=1,Ja(s,a,u,f)}finally{Fe=m,Xi.transition=_}}function Ld(s,a,u,f){var m=Fe,_=Xi.transition;Xi.transition=null;try{Fe=4,Ja(s,a,u,f)}finally{Fe=m,Xi.transition=_}}function Ja(s,a,u,f){if(Dr){var m=Ro(s,a,u,f);if(m===null)Kd(s,a,f,Ls,u),Uc(s,f);else if(Od(m,s,a,u,f))f.stopPropagation();else if(Uc(s,f),a&4&&-1<Md.indexOf(s)){for(;m!==null;){var _=dl(m);if(_!==null&&Lc(_),_=Ro(s,a,u,f),_===null&&Kd(s,a,f,Ls,u),_===m)break;m=_}m!==null&&f.stopPropagation()}else Kd(s,a,f,null,u)}}var Ls=null;function Ro(s,a,u,f){if(Ls=null,s=vo(f),s=js(s),s!==null)if(a=Qn(s),a===null)s=null;else if(u=a.tag,u===13){if(s=Rs(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Ls=s,null}function Za(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pc()){case Ps:return 1;case Ir:return 4;case Dn:case Qa:return 16;case Dc:return 536870912;default:return 16}default:return 16}}var In=null,Po=null,cn=null;function el(){if(cn)return cn;var s,a=Po,u=a.length,f,m="value"in In?In.value:In.textContent,_=m.length;for(s=0;s<u&&a[s]===m[s];s++);var S=u-s;for(f=1;f<=S&&a[u-f]===m[_-f];f++);return cn=m.slice(s,1<f?1-f:void 0)}function Do(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Ei(){return!0}function tl(){return!1}function Ot(s){function a(u,f,m,_,S){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=_,this.target=S,this.currentTarget=null;for(var M in s)s.hasOwnProperty(M)&&(u=s[M],this[M]=u?u(_):_[M]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ei:tl,this.isPropagationStopped=tl,this}return le(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),a}var ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},No=Ot(ti),xi=le({},ti,{view:0,detail:0}),Vd=Ot(xi),Mo,Ji,Nr,Vs=le({},xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ti,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Nr&&(Nr&&s.type==="mousemove"?(Mo=s.screenX-Nr.screenX,Ji=s.screenY-Nr.screenY):Ji=Mo=0,Nr=s),Mo)},movementY:function(s){return"movementY"in s?s.movementY:Ji}}),Oo=Ot(Vs),nl=le({},Vs,{dataTransfer:0}),$c=Ot(nl),Lo=le({},xi,{relatedTarget:0}),Vo=Ot(Lo),Hc=le({},ti,{animationName:0,elapsedTime:0,pseudoElement:0}),Zi=Ot(Hc),Wc=le({},ti,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),qc=Ot(Wc),Kc=le({},ti,{data:0}),il=Ot(Kc),Fo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qc(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Gc[s])?!!a[s]:!1}function Ti(){return Qc}var d=le({},xi,{key:function(s){if(s.key){var a=Fo[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Do(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?tn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ti,charCode:function(s){return s.type==="keypress"?Do(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Do(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),y=Ot(d),E=le({},Vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k=Ot(E),H=le({},xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ti}),Q=Ot(H),ae=le({},ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ge=Ot(ae),Tt=le({},Vs,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ue=Ot(Tt),At=[9,13,27,32],vt=c&&"CompositionEvent"in window,Mn=null;c&&"documentMode"in document&&(Mn=document.documentMode);var bn=c&&"TextEvent"in window&&!Mn,Fs=c&&(!vt||Mn&&8<Mn&&11>=Mn),jo=" ",jg=!1;function Ug(s,a){switch(s){case"keyup":return At.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Uo=!1;function dS(s,a){switch(s){case"compositionend":return zg(a);case"keypress":return a.which!==32?null:(jg=!0,jo);case"textInput":return s=a.data,s===jo&&jg?null:s;default:return null}}function fS(s,a){if(Uo)return s==="compositionend"||!vt&&Ug(s,a)?(s=el(),cn=Po=In=null,Uo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Fs&&a.locale!=="ko"?null:a.data;default:return null}}var pS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bg(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!pS[s.type]:a==="textarea"}function $g(s,a,u,f){_i(f),a=eu(a,"onChange"),0<a.length&&(u=new No("onChange","change",null,u,f),s.push({event:u,listeners:a}))}var rl=null,sl=null;function mS(s){ay(s,0)}function Yc(s){var a=Wo(s);if(Hi(a))return s}function gS(s,a){if(s==="change")return a}var Hg=!1;if(c){var Fd;if(c){var jd="oninput"in document;if(!jd){var Wg=document.createElement("div");Wg.setAttribute("oninput","return;"),jd=typeof Wg.oninput=="function"}Fd=jd}else Fd=!1;Hg=Fd&&(!document.documentMode||9<document.documentMode)}function qg(){rl&&(rl.detachEvent("onpropertychange",Kg),sl=rl=null)}function Kg(s){if(s.propertyName==="value"&&Yc(sl)){var a=[];$g(a,sl,s,vo(s)),Wa(mS,a)}}function yS(s,a,u){s==="focusin"?(qg(),rl=a,sl=u,rl.attachEvent("onpropertychange",Kg)):s==="focusout"&&qg()}function _S(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Yc(sl)}function vS(s,a){if(s==="click")return Yc(a)}function wS(s,a){if(s==="input"||s==="change")return Yc(a)}function ES(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var ni=typeof Object.is=="function"?Object.is:ES;function ol(s,a){if(ni(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!h.call(a,m)||!ni(s[m],a[m]))return!1}return!0}function Gg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Qg(s,a){var u=Gg(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=a&&f>=a)return{node:u,offset:a-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Gg(u)}}function Yg(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Yg(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Xg(){for(var s=window,a=Wn();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=Wn(s.document)}return a}function Ud(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function xS(s){var a=Xg(),u=s.focusedElem,f=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&Yg(u.ownerDocument.documentElement,u)){if(f!==null&&Ud(u)){if(a=f.start,s=f.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var m=u.textContent.length,_=Math.min(f.start,m);f=f.end===void 0?_:Math.min(f.end,m),!s.extend&&_>f&&(m=f,f=_,_=m),m=Qg(u,_);var S=Qg(u,f);m&&S&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==S.node||s.focusOffset!==S.offset)&&(a=a.createRange(),a.setStart(m.node,m.offset),s.removeAllRanges(),_>f?(s.addRange(a),s.extend(S.node,S.offset)):(a.setEnd(S.node,S.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var TS=c&&"documentMode"in document&&11>=document.documentMode,zo=null,zd=null,al=null,Bd=!1;function Jg(s,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Bd||zo==null||zo!==Wn(f)||(f=zo,"selectionStart"in f&&Ud(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),al&&ol(al,f)||(al=f,f=eu(zd,"onSelect"),0<f.length&&(a=new No("onSelect","select",null,a,u),s.push({event:a,listeners:f}),a.target=zo)))}function Xc(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Bo={animationend:Xc("Animation","AnimationEnd"),animationiteration:Xc("Animation","AnimationIteration"),animationstart:Xc("Animation","AnimationStart"),transitionend:Xc("Transition","TransitionEnd")},$d={},Zg={};c&&(Zg=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function Jc(s){if($d[s])return $d[s];if(!Bo[s])return s;var a=Bo[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in Zg)return $d[s]=a[u];return s}var ey=Jc("animationend"),ty=Jc("animationiteration"),ny=Jc("animationstart"),iy=Jc("transitionend"),ry=new Map,sy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(s,a){ry.set(s,a),o(a,[s])}for(var Hd=0;Hd<sy.length;Hd++){var Wd=sy[Hd],SS=Wd.toLowerCase(),IS=Wd[0].toUpperCase()+Wd.slice(1);Mr(SS,"on"+IS)}Mr(ey,"onAnimationEnd"),Mr(ty,"onAnimationIteration"),Mr(ny,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(iy,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bS=new Set("cancel close invalid load scroll toggle".split(" ").concat(ll));function oy(s,a,u){var f=s.type||"unknown-event";s.currentTarget=u,Cc(f,a,void 0,s),s.currentTarget=null}function ay(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],m=f.event;f=f.listeners;e:{var _=void 0;if(a)for(var S=f.length-1;0<=S;S--){var M=f[S],j=M.instance,K=M.currentTarget;if(M=M.listener,j!==_&&m.isPropagationStopped())break e;oy(m,M,K),_=j}else for(S=0;S<f.length;S++){if(M=f[S],j=M.instance,K=M.currentTarget,M=M.listener,j!==_&&m.isPropagationStopped())break e;oy(m,M,K),_=j}}}if(Gn)throw s=qa,Gn=!1,qa=null,s}function et(s,a){var u=a[Zd];u===void 0&&(u=a[Zd]=new Set);var f=s+"__bubble";u.has(f)||(ly(a,s,2,!1),u.add(f))}function qd(s,a,u){var f=0;a&&(f|=4),ly(u,s,f,a)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function cl(s){if(!s[Zc]){s[Zc]=!0,i.forEach(function(u){u!=="selectionchange"&&(bS.has(u)||qd(u,!1,s),qd(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Zc]||(a[Zc]=!0,qd("selectionchange",!1,a))}}function ly(s,a,u,f){switch(Za(a)){case 1:var m=st;break;case 4:m=Ld;break;default:m=Ja}u=m.bind(null,a,u,s),m=void 0,!xo||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),f?m!==void 0?s.addEventListener(a,u,{capture:!0,passive:m}):s.addEventListener(a,u,!0):m!==void 0?s.addEventListener(a,u,{passive:m}):s.addEventListener(a,u,!1)}function Kd(s,a,u,f,m){var _=f;if(!(a&1)&&!(a&2)&&f!==null)e:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var M=f.stateNode.containerInfo;if(M===m||M.nodeType===8&&M.parentNode===m)break;if(S===4)for(S=f.return;S!==null;){var j=S.tag;if((j===3||j===4)&&(j=S.stateNode.containerInfo,j===m||j.nodeType===8&&j.parentNode===m))return;S=S.return}for(;M!==null;){if(S=js(M),S===null)return;if(j=S.tag,j===5||j===6){f=_=S;continue e}M=M.parentNode}}f=f.return}Wa(function(){var K=_,ne=vo(u),re=[];e:{var te=ry.get(s);if(te!==void 0){var ce=No,pe=s;switch(s){case"keypress":if(Do(u)===0)break e;case"keydown":case"keyup":ce=y;break;case"focusin":pe="focus",ce=Vo;break;case"focusout":pe="blur",ce=Vo;break;case"beforeblur":case"afterblur":ce=Vo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=$c;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=Q;break;case ey:case ty:case ny:ce=Zi;break;case iy:ce=Ge;break;case"scroll":ce=Vd;break;case"wheel":ce=Ue;break;case"copy":case"cut":case"paste":ce=qc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=k}var ge=(a&4)!==0,gt=!ge&&s==="scroll",W=ge?te!==null?te+"Capture":null:te;ge=[];for(var U=K,q;U!==null;){q=U;var se=q.stateNode;if(q.tag===5&&se!==null&&(q=se,W!==null&&(se=mt(U,W),se!=null&&ge.push(ul(U,se,q)))),gt)break;U=U.return}0<ge.length&&(te=new ce(te,pe,null,u,ne),re.push({event:te,listeners:ge}))}}if(!(a&7)){e:{if(te=s==="mouseover"||s==="pointerover",ce=s==="mouseout"||s==="pointerout",te&&u!==bs&&(pe=u.relatedTarget||u.fromElement)&&(js(pe)||pe[er]))break e;if((ce||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,ce?(pe=u.relatedTarget||u.toElement,ce=K,pe=pe?js(pe):null,pe!==null&&(gt=Qn(pe),pe!==gt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ce=null,pe=K),ce!==pe)){if(ge=Oo,se="onMouseLeave",W="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(ge=k,se="onPointerLeave",W="onPointerEnter",U="pointer"),gt=ce==null?te:Wo(ce),q=pe==null?te:Wo(pe),te=new ge(se,U+"leave",ce,u,ne),te.target=gt,te.relatedTarget=q,se=null,js(ne)===K&&(ge=new ge(W,U+"enter",pe,u,ne),ge.target=q,ge.relatedTarget=gt,se=ge),gt=se,ce&&pe)t:{for(ge=ce,W=pe,U=0,q=ge;q;q=$o(q))U++;for(q=0,se=W;se;se=$o(se))q++;for(;0<U-q;)ge=$o(ge),U--;for(;0<q-U;)W=$o(W),q--;for(;U--;){if(ge===W||W!==null&&ge===W.alternate)break t;ge=$o(ge),W=$o(W)}ge=null}else ge=null;ce!==null&&cy(re,te,ce,ge,!1),pe!==null&&gt!==null&&cy(re,gt,pe,ge,!0)}}e:{if(te=K?Wo(K):window,ce=te.nodeName&&te.nodeName.toLowerCase(),ce==="select"||ce==="input"&&te.type==="file")var ye=gS;else if(Bg(te))if(Hg)ye=wS;else{ye=_S;var ve=yS}else(ce=te.nodeName)&&ce.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(ye=vS);if(ye&&(ye=ye(s,K))){$g(re,ye,u,ne);break e}ve&&ve(s,te,K),s==="focusout"&&(ve=te._wrapperState)&&ve.controlled&&te.type==="number"&&qi(te,"number",te.value)}switch(ve=K?Wo(K):window,s){case"focusin":(Bg(ve)||ve.contentEditable==="true")&&(zo=ve,zd=K,al=null);break;case"focusout":al=zd=zo=null;break;case"mousedown":Bd=!0;break;case"contextmenu":case"mouseup":case"dragend":Bd=!1,Jg(re,u,ne);break;case"selectionchange":if(TS)break;case"keydown":case"keyup":Jg(re,u,ne)}var we;if(vt)e:{switch(s){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Uo?Ug(s,u)&&(be="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(be="onCompositionStart");be&&(Fs&&u.locale!=="ko"&&(Uo||be!=="onCompositionStart"?be==="onCompositionEnd"&&Uo&&(we=el()):(In=ne,Po="value"in In?In.value:In.textContent,Uo=!0)),ve=eu(K,be),0<ve.length&&(be=new il(be,s,null,u,ne),re.push({event:be,listeners:ve}),we?be.data=we:(we=zg(u),we!==null&&(be.data=we)))),(we=bn?dS(s,u):fS(s,u))&&(K=eu(K,"onBeforeInput"),0<K.length&&(ne=new il("onBeforeInput","beforeinput",null,u,ne),re.push({event:ne,listeners:K}),ne.data=we))}ay(re,a)})}function ul(s,a,u){return{instance:s,listener:a,currentTarget:u}}function eu(s,a){for(var u=a+"Capture",f=[];s!==null;){var m=s,_=m.stateNode;m.tag===5&&_!==null&&(m=_,_=mt(s,u),_!=null&&f.unshift(ul(s,_,m)),_=mt(s,a),_!=null&&f.push(ul(s,_,m))),s=s.return}return f}function $o(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function cy(s,a,u,f,m){for(var _=a._reactName,S=[];u!==null&&u!==f;){var M=u,j=M.alternate,K=M.stateNode;if(j!==null&&j===f)break;M.tag===5&&K!==null&&(M=K,m?(j=mt(u,_),j!=null&&S.unshift(ul(u,j,M))):m||(j=mt(u,_),j!=null&&S.push(ul(u,j,M)))),u=u.return}S.length!==0&&s.push({event:a,listeners:S})}var kS=/\r\n?/g,CS=/\u0000|\uFFFD/g;function uy(s){return(typeof s=="string"?s:""+s).replace(kS,`
`).replace(CS,"")}function tu(s,a,u){if(a=uy(a),uy(s)!==a&&u)throw Error(t(425))}function nu(){}var Gd=null,Qd=null;function Yd(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Xd=typeof setTimeout=="function"?setTimeout:void 0,AS=typeof clearTimeout=="function"?clearTimeout:void 0,hy=typeof Promise=="function"?Promise:void 0,RS=typeof queueMicrotask=="function"?queueMicrotask:typeof hy<"u"?function(s){return hy.resolve(null).then(s).catch(PS)}:Xd;function PS(s){setTimeout(function(){throw s})}function Jd(s,a){var u=a,f=0;do{var m=u.nextSibling;if(s.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(f===0){s.removeChild(m),ei(a);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=m}while(u);ei(a)}function Or(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function dy(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var Ho=Math.random().toString(36).slice(2),Si="__reactFiber$"+Ho,hl="__reactProps$"+Ho,er="__reactContainer$"+Ho,Zd="__reactEvents$"+Ho,DS="__reactListeners$"+Ho,NS="__reactHandles$"+Ho;function js(s){var a=s[Si];if(a)return a;for(var u=s.parentNode;u;){if(a=u[er]||u[Si]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=dy(s);s!==null;){if(u=s[Si])return u;s=dy(s)}return a}s=u,u=s.parentNode}return null}function dl(s){return s=s[Si]||s[er],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Wo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function iu(s){return s[hl]||null}var ef=[],qo=-1;function Lr(s){return{current:s}}function tt(s){0>qo||(s.current=ef[qo],ef[qo]=null,qo--)}function Ze(s,a){qo++,ef[qo]=s.current,s.current=a}var Vr={},Bt=Lr(Vr),un=Lr(!1),Us=Vr;function Ko(s,a){var u=s.type.contextTypes;if(!u)return Vr;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var m={},_;for(_ in u)m[_]=a[_];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=m),m}function hn(s){return s=s.childContextTypes,s!=null}function ru(){tt(un),tt(Bt)}function fy(s,a,u){if(Bt.current!==Vr)throw Error(t(168));Ze(Bt,a),Ze(un,u)}function py(s,a,u){var f=s.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var m in f)if(!(m in a))throw Error(t(108,Ve(s)||"Unknown",m));return le({},u,f)}function su(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Vr,Us=Bt.current,Ze(Bt,s),Ze(un,un.current),!0}function my(s,a,u){var f=s.stateNode;if(!f)throw Error(t(169));u?(s=py(s,a,Us),f.__reactInternalMemoizedMergedChildContext=s,tt(un),tt(Bt),Ze(Bt,s)):tt(un),Ze(un,u)}var tr=null,ou=!1,tf=!1;function gy(s){tr===null?tr=[s]:tr.push(s)}function MS(s){ou=!0,gy(s)}function Fr(){if(!tf&&tr!==null){tf=!0;var s=0,a=Fe;try{var u=tr;for(Fe=1;s<u.length;s++){var f=u[s];do f=f(!0);while(f!==null)}tr=null,ou=!1}catch(m){throw tr!==null&&(tr=tr.slice(s+1)),bo(Ps,Fr),m}finally{Fe=a,tf=!1}}return null}var Go=[],Qo=0,au=null,lu=0,On=[],Ln=0,zs=null,nr=1,ir="";function Bs(s,a){Go[Qo++]=lu,Go[Qo++]=au,au=s,lu=a}function yy(s,a,u){On[Ln++]=nr,On[Ln++]=ir,On[Ln++]=zs,zs=s;var f=nr;s=ir;var m=32-en(f)-1;f&=~(1<<m),u+=1;var _=32-en(a)+m;if(30<_){var S=m-m%5;_=(f&(1<<S)-1).toString(32),f>>=S,m-=S,nr=1<<32-en(a)+m|u<<m|f,ir=_+s}else nr=1<<_|u<<m|f,ir=s}function nf(s){s.return!==null&&(Bs(s,1),yy(s,1,0))}function rf(s){for(;s===au;)au=Go[--Qo],Go[Qo]=null,lu=Go[--Qo],Go[Qo]=null;for(;s===zs;)zs=On[--Ln],On[Ln]=null,ir=On[--Ln],On[Ln]=null,nr=On[--Ln],On[Ln]=null}var kn=null,Cn=null,ot=!1,ii=null;function _y(s,a){var u=Un(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function vy(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,kn=s,Cn=Or(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,kn=s,Cn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=zs!==null?{id:nr,overflow:ir}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=Un(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,kn=s,Cn=null,!0):!1;default:return!1}}function sf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function of(s){if(ot){var a=Cn;if(a){var u=a;if(!vy(s,a)){if(sf(s))throw Error(t(418));a=Or(u.nextSibling);var f=kn;a&&vy(s,a)?_y(f,u):(s.flags=s.flags&-4097|2,ot=!1,kn=s)}}else{if(sf(s))throw Error(t(418));s.flags=s.flags&-4097|2,ot=!1,kn=s}}}function wy(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;kn=s}function cu(s){if(s!==kn)return!1;if(!ot)return wy(s),ot=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Yd(s.type,s.memoizedProps)),a&&(a=Cn)){if(sf(s))throw Ey(),Error(t(418));for(;a;)_y(s,a),a=Or(a.nextSibling)}if(wy(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){Cn=Or(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}Cn=null}}else Cn=kn?Or(s.stateNode.nextSibling):null;return!0}function Ey(){for(var s=Cn;s;)s=Or(s.nextSibling)}function Yo(){Cn=kn=null,ot=!1}function af(s){ii===null?ii=[s]:ii.push(s)}var OS=G.ReactCurrentBatchConfig;function fl(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var f=u.stateNode}if(!f)throw Error(t(147,s));var m=f,_=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(S){var M=m.refs;S===null?delete M[_]:M[_]=S},a._stringRef=_,a)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function uu(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function xy(s){var a=s._init;return a(s._payload)}function Ty(s){function a(W,U){if(s){var q=W.deletions;q===null?(W.deletions=[U],W.flags|=16):q.push(U)}}function u(W,U){if(!s)return null;for(;U!==null;)a(W,U),U=U.sibling;return null}function f(W,U){for(W=new Map;U!==null;)U.key!==null?W.set(U.key,U):W.set(U.index,U),U=U.sibling;return W}function m(W,U){return W=qr(W,U),W.index=0,W.sibling=null,W}function _(W,U,q){return W.index=q,s?(q=W.alternate,q!==null?(q=q.index,q<U?(W.flags|=2,U):q):(W.flags|=2,U)):(W.flags|=1048576,U)}function S(W){return s&&W.alternate===null&&(W.flags|=2),W}function M(W,U,q,se){return U===null||U.tag!==6?(U=Jf(q,W.mode,se),U.return=W,U):(U=m(U,q),U.return=W,U)}function j(W,U,q,se){var ye=q.type;return ye===R?ne(W,U,q.props.children,se,q.key):U!==null&&(U.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===De&&xy(ye)===U.type)?(se=m(U,q.props),se.ref=fl(W,U,q),se.return=W,se):(se=Mu(q.type,q.key,q.props,null,W.mode,se),se.ref=fl(W,U,q),se.return=W,se)}function K(W,U,q,se){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=Zf(q,W.mode,se),U.return=W,U):(U=m(U,q.children||[]),U.return=W,U)}function ne(W,U,q,se,ye){return U===null||U.tag!==7?(U=Ys(q,W.mode,se,ye),U.return=W,U):(U=m(U,q),U.return=W,U)}function re(W,U,q){if(typeof U=="string"&&U!==""||typeof U=="number")return U=Jf(""+U,W.mode,q),U.return=W,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Y:return q=Mu(U.type,U.key,U.props,null,W.mode,q),q.ref=fl(W,null,U),q.return=W,q;case J:return U=Zf(U,W.mode,q),U.return=W,U;case De:var se=U._init;return re(W,se(U._payload),q)}if(Zt(U)||me(U))return U=Ys(U,W.mode,q,null),U.return=W,U;uu(W,U)}return null}function te(W,U,q,se){var ye=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ye!==null?null:M(W,U,""+q,se);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Y:return q.key===ye?j(W,U,q,se):null;case J:return q.key===ye?K(W,U,q,se):null;case De:return ye=q._init,te(W,U,ye(q._payload),se)}if(Zt(q)||me(q))return ye!==null?null:ne(W,U,q,se,null);uu(W,q)}return null}function ce(W,U,q,se,ye){if(typeof se=="string"&&se!==""||typeof se=="number")return W=W.get(q)||null,M(U,W,""+se,ye);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case Y:return W=W.get(se.key===null?q:se.key)||null,j(U,W,se,ye);case J:return W=W.get(se.key===null?q:se.key)||null,K(U,W,se,ye);case De:var ve=se._init;return ce(W,U,q,ve(se._payload),ye)}if(Zt(se)||me(se))return W=W.get(q)||null,ne(U,W,se,ye,null);uu(U,se)}return null}function pe(W,U,q,se){for(var ye=null,ve=null,we=U,be=U=0,Dt=null;we!==null&&be<q.length;be++){we.index>be?(Dt=we,we=null):Dt=we.sibling;var We=te(W,we,q[be],se);if(We===null){we===null&&(we=Dt);break}s&&we&&We.alternate===null&&a(W,we),U=_(We,U,be),ve===null?ye=We:ve.sibling=We,ve=We,we=Dt}if(be===q.length)return u(W,we),ot&&Bs(W,be),ye;if(we===null){for(;be<q.length;be++)we=re(W,q[be],se),we!==null&&(U=_(we,U,be),ve===null?ye=we:ve.sibling=we,ve=we);return ot&&Bs(W,be),ye}for(we=f(W,we);be<q.length;be++)Dt=ce(we,W,be,q[be],se),Dt!==null&&(s&&Dt.alternate!==null&&we.delete(Dt.key===null?be:Dt.key),U=_(Dt,U,be),ve===null?ye=Dt:ve.sibling=Dt,ve=Dt);return s&&we.forEach(function(Kr){return a(W,Kr)}),ot&&Bs(W,be),ye}function ge(W,U,q,se){var ye=me(q);if(typeof ye!="function")throw Error(t(150));if(q=ye.call(q),q==null)throw Error(t(151));for(var ve=ye=null,we=U,be=U=0,Dt=null,We=q.next();we!==null&&!We.done;be++,We=q.next()){we.index>be?(Dt=we,we=null):Dt=we.sibling;var Kr=te(W,we,We.value,se);if(Kr===null){we===null&&(we=Dt);break}s&&we&&Kr.alternate===null&&a(W,we),U=_(Kr,U,be),ve===null?ye=Kr:ve.sibling=Kr,ve=Kr,we=Dt}if(We.done)return u(W,we),ot&&Bs(W,be),ye;if(we===null){for(;!We.done;be++,We=q.next())We=re(W,We.value,se),We!==null&&(U=_(We,U,be),ve===null?ye=We:ve.sibling=We,ve=We);return ot&&Bs(W,be),ye}for(we=f(W,we);!We.done;be++,We=q.next())We=ce(we,W,be,We.value,se),We!==null&&(s&&We.alternate!==null&&we.delete(We.key===null?be:We.key),U=_(We,U,be),ve===null?ye=We:ve.sibling=We,ve=We);return s&&we.forEach(function(fI){return a(W,fI)}),ot&&Bs(W,be),ye}function gt(W,U,q,se){if(typeof q=="object"&&q!==null&&q.type===R&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case Y:e:{for(var ye=q.key,ve=U;ve!==null;){if(ve.key===ye){if(ye=q.type,ye===R){if(ve.tag===7){u(W,ve.sibling),U=m(ve,q.props.children),U.return=W,W=U;break e}}else if(ve.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===De&&xy(ye)===ve.type){u(W,ve.sibling),U=m(ve,q.props),U.ref=fl(W,ve,q),U.return=W,W=U;break e}u(W,ve);break}else a(W,ve);ve=ve.sibling}q.type===R?(U=Ys(q.props.children,W.mode,se,q.key),U.return=W,W=U):(se=Mu(q.type,q.key,q.props,null,W.mode,se),se.ref=fl(W,U,q),se.return=W,W=se)}return S(W);case J:e:{for(ve=q.key;U!==null;){if(U.key===ve)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){u(W,U.sibling),U=m(U,q.children||[]),U.return=W,W=U;break e}else{u(W,U);break}else a(W,U);U=U.sibling}U=Zf(q,W.mode,se),U.return=W,W=U}return S(W);case De:return ve=q._init,gt(W,U,ve(q._payload),se)}if(Zt(q))return pe(W,U,q,se);if(me(q))return ge(W,U,q,se);uu(W,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,U!==null&&U.tag===6?(u(W,U.sibling),U=m(U,q),U.return=W,W=U):(u(W,U),U=Jf(q,W.mode,se),U.return=W,W=U),S(W)):u(W,U)}return gt}var Xo=Ty(!0),Sy=Ty(!1),hu=Lr(null),du=null,Jo=null,lf=null;function cf(){lf=Jo=du=null}function uf(s){var a=hu.current;tt(hu),s._currentValue=a}function hf(s,a,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===u)break;s=s.return}}function Zo(s,a){du=s,lf=Jo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&a&&(dn=!0),s.firstContext=null)}function Vn(s){var a=s._currentValue;if(lf!==s)if(s={context:s,memoizedValue:a,next:null},Jo===null){if(du===null)throw Error(t(308));Jo=s,du.dependencies={lanes:0,firstContext:s}}else Jo=Jo.next=s;return a}var $s=null;function df(s){$s===null?$s=[s]:$s.push(s)}function Iy(s,a,u,f){var m=a.interleaved;return m===null?(u.next=u,df(a)):(u.next=m.next,m.next=u),a.interleaved=u,rr(s,f)}function rr(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var jr=!1;function ff(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function by(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function sr(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Ur(s,a,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,Be&2){var m=f.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),f.pending=a,rr(s,u)}return m=f.interleaved,m===null?(a.next=a,df(f)):(a.next=m.next,m.next=a),f.interleaved=a,rr(s,u)}function fu(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,Ar(s,u)}}function ky(s,a){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var S={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?m=_=S:_=_.next=S,u=u.next}while(u!==null);_===null?m=_=a:_=_.next=a}else m=_=a;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:_,shared:f.shared,effects:f.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function pu(s,a,u,f){var m=s.updateQueue;jr=!1;var _=m.firstBaseUpdate,S=m.lastBaseUpdate,M=m.shared.pending;if(M!==null){m.shared.pending=null;var j=M,K=j.next;j.next=null,S===null?_=K:S.next=K,S=j;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,M=ne.lastBaseUpdate,M!==S&&(M===null?ne.firstBaseUpdate=K:M.next=K,ne.lastBaseUpdate=j))}if(_!==null){var re=m.baseState;S=0,ne=K=j=null,M=_;do{var te=M.lane,ce=M.eventTime;if((f&te)===te){ne!==null&&(ne=ne.next={eventTime:ce,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var pe=s,ge=M;switch(te=a,ce=u,ge.tag){case 1:if(pe=ge.payload,typeof pe=="function"){re=pe.call(ce,re,te);break e}re=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=ge.payload,te=typeof pe=="function"?pe.call(ce,re,te):pe,te==null)break e;re=le({},re,te);break e;case 2:jr=!0}}M.callback!==null&&M.lane!==0&&(s.flags|=64,te=m.effects,te===null?m.effects=[M]:te.push(M))}else ce={eventTime:ce,lane:te,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ne===null?(K=ne=ce,j=re):ne=ne.next=ce,S|=te;if(M=M.next,M===null){if(M=m.shared.pending,M===null)break;te=M,M=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);if(ne===null&&(j=re),m.baseState=j,m.firstBaseUpdate=K,m.lastBaseUpdate=ne,a=m.shared.interleaved,a!==null){m=a;do S|=m.lane,m=m.next;while(m!==a)}else _===null&&(m.shared.lanes=0);qs|=S,s.lanes=S,s.memoizedState=re}}function Cy(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var f=s[a],m=f.callback;if(m!==null){if(f.callback=null,f=u,typeof m!="function")throw Error(t(191,m));m.call(f)}}}var pl={},Ii=Lr(pl),ml=Lr(pl),gl=Lr(pl);function Hs(s){if(s===pl)throw Error(t(174));return s}function pf(s,a){switch(Ze(gl,a),Ze(ml,s),Ze(Ii,pl),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:pt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=pt(a,s)}tt(Ii),Ze(Ii,a)}function ea(){tt(Ii),tt(ml),tt(gl)}function Ay(s){Hs(gl.current);var a=Hs(Ii.current),u=pt(a,s.type);a!==u&&(Ze(ml,s),Ze(Ii,u))}function mf(s){ml.current===s&&(tt(Ii),tt(ml))}var at=Lr(0);function mu(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var gf=[];function yf(){for(var s=0;s<gf.length;s++)gf[s]._workInProgressVersionPrimary=null;gf.length=0}var gu=G.ReactCurrentDispatcher,_f=G.ReactCurrentBatchConfig,Ws=0,lt=null,St=null,Rt=null,yu=!1,yl=!1,_l=0,LS=0;function $t(){throw Error(t(321))}function vf(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!ni(s[u],a[u]))return!1;return!0}function wf(s,a,u,f,m,_){if(Ws=_,lt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,gu.current=s===null||s.memoizedState===null?US:zS,s=u(f,m),yl){_=0;do{if(yl=!1,_l=0,25<=_)throw Error(t(301));_+=1,Rt=St=null,a.updateQueue=null,gu.current=BS,s=u(f,m)}while(yl)}if(gu.current=wu,a=St!==null&&St.next!==null,Ws=0,Rt=St=lt=null,yu=!1,a)throw Error(t(300));return s}function Ef(){var s=_l!==0;return _l=0,s}function bi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?lt.memoizedState=Rt=s:Rt=Rt.next=s,Rt}function Fn(){if(St===null){var s=lt.alternate;s=s!==null?s.memoizedState:null}else s=St.next;var a=Rt===null?lt.memoizedState:Rt.next;if(a!==null)Rt=a,St=s;else{if(s===null)throw Error(t(310));St=s,s={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Rt===null?lt.memoizedState=Rt=s:Rt=Rt.next=s}return Rt}function vl(s,a){return typeof a=="function"?a(s):a}function xf(s){var a=Fn(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var f=St,m=f.baseQueue,_=u.pending;if(_!==null){if(m!==null){var S=m.next;m.next=_.next,_.next=S}f.baseQueue=m=_,u.pending=null}if(m!==null){_=m.next,f=f.baseState;var M=S=null,j=null,K=_;do{var ne=K.lane;if((Ws&ne)===ne)j!==null&&(j=j.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),f=K.hasEagerState?K.eagerState:s(f,K.action);else{var re={lane:ne,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};j===null?(M=j=re,S=f):j=j.next=re,lt.lanes|=ne,qs|=ne}K=K.next}while(K!==null&&K!==_);j===null?S=f:j.next=M,ni(f,a.memoizedState)||(dn=!0),a.memoizedState=f,a.baseState=S,a.baseQueue=j,u.lastRenderedState=f}if(s=u.interleaved,s!==null){m=s;do _=m.lane,lt.lanes|=_,qs|=_,m=m.next;while(m!==s)}else m===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function Tf(s){var a=Fn(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var f=u.dispatch,m=u.pending,_=a.memoizedState;if(m!==null){u.pending=null;var S=m=m.next;do _=s(_,S.action),S=S.next;while(S!==m);ni(_,a.memoizedState)||(dn=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),u.lastRenderedState=_}return[_,f]}function Ry(){}function Py(s,a){var u=lt,f=Fn(),m=a(),_=!ni(f.memoizedState,m);if(_&&(f.memoizedState=m,dn=!0),f=f.queue,Sf(My.bind(null,u,f,s),[s]),f.getSnapshot!==a||_||Rt!==null&&Rt.memoizedState.tag&1){if(u.flags|=2048,wl(9,Ny.bind(null,u,f,m,a),void 0,null),Pt===null)throw Error(t(349));Ws&30||Dy(u,a,m)}return m}function Dy(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=lt.updateQueue,a===null?(a={lastEffect:null,stores:null},lt.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function Ny(s,a,u,f){a.value=u,a.getSnapshot=f,Oy(a)&&Ly(s)}function My(s,a,u){return u(function(){Oy(a)&&Ly(s)})}function Oy(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!ni(s,u)}catch{return!0}}function Ly(s){var a=rr(s,1);a!==null&&ai(a,s,1,-1)}function Vy(s){var a=bi();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:s},a.queue=s,s=s.dispatch=jS.bind(null,lt,s),[a.memoizedState,s]}function wl(s,a,u,f){return s={tag:s,create:a,destroy:u,deps:f,next:null},a=lt.updateQueue,a===null?(a={lastEffect:null,stores:null},lt.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,a.lastEffect=s)),s}function Fy(){return Fn().memoizedState}function _u(s,a,u,f){var m=bi();lt.flags|=s,m.memoizedState=wl(1|a,u,void 0,f===void 0?null:f)}function vu(s,a,u,f){var m=Fn();f=f===void 0?null:f;var _=void 0;if(St!==null){var S=St.memoizedState;if(_=S.destroy,f!==null&&vf(f,S.deps)){m.memoizedState=wl(a,u,_,f);return}}lt.flags|=s,m.memoizedState=wl(1|a,u,_,f)}function jy(s,a){return _u(8390656,8,s,a)}function Sf(s,a){return vu(2048,8,s,a)}function Uy(s,a){return vu(4,2,s,a)}function zy(s,a){return vu(4,4,s,a)}function By(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function $y(s,a,u){return u=u!=null?u.concat([s]):null,vu(4,4,By.bind(null,a,s),u)}function If(){}function Hy(s,a){var u=Fn();a=a===void 0?null:a;var f=u.memoizedState;return f!==null&&a!==null&&vf(a,f[1])?f[0]:(u.memoizedState=[s,a],s)}function Wy(s,a){var u=Fn();a=a===void 0?null:a;var f=u.memoizedState;return f!==null&&a!==null&&vf(a,f[1])?f[0]:(s=s(),u.memoizedState=[s,a],s)}function qy(s,a,u){return Ws&21?(ni(u,a)||(u=Ms(),lt.lanes|=u,qs|=u,s.baseState=!0),a):(s.baseState&&(s.baseState=!1,dn=!0),s.memoizedState=u)}function VS(s,a){var u=Fe;Fe=u!==0&&4>u?u:4,s(!0);var f=_f.transition;_f.transition={};try{s(!1),a()}finally{Fe=u,_f.transition=f}}function Ky(){return Fn().memoizedState}function FS(s,a,u){var f=Hr(s);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},Gy(s))Qy(a,u);else if(u=Iy(s,a,u,f),u!==null){var m=rn();ai(u,s,f,m),Yy(u,a,f)}}function jS(s,a,u){var f=Hr(s),m={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(Gy(s))Qy(a,m);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var S=a.lastRenderedState,M=_(S,u);if(m.hasEagerState=!0,m.eagerState=M,ni(M,S)){var j=a.interleaved;j===null?(m.next=m,df(a)):(m.next=j.next,j.next=m),a.interleaved=m;return}}catch{}finally{}u=Iy(s,a,m,f),u!==null&&(m=rn(),ai(u,s,f,m),Yy(u,a,f))}}function Gy(s){var a=s.alternate;return s===lt||a!==null&&a===lt}function Qy(s,a){yl=yu=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function Yy(s,a,u){if(u&4194240){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,Ar(s,u)}}var wu={readContext:Vn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},US={readContext:Vn,useCallback:function(s,a){return bi().memoizedState=[s,a===void 0?null:a],s},useContext:Vn,useEffect:jy,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,_u(4194308,4,By.bind(null,a,s),u)},useLayoutEffect:function(s,a){return _u(4194308,4,s,a)},useInsertionEffect:function(s,a){return _u(4,2,s,a)},useMemo:function(s,a){var u=bi();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var f=bi();return a=u!==void 0?u(a):a,f.memoizedState=f.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},f.queue=s,s=s.dispatch=FS.bind(null,lt,s),[f.memoizedState,s]},useRef:function(s){var a=bi();return s={current:s},a.memoizedState=s},useState:Vy,useDebugValue:If,useDeferredValue:function(s){return bi().memoizedState=s},useTransition:function(){var s=Vy(!1),a=s[0];return s=VS.bind(null,s[1]),bi().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var f=lt,m=bi();if(ot){if(u===void 0)throw Error(t(407));u=u()}else{if(u=a(),Pt===null)throw Error(t(349));Ws&30||Dy(f,a,u)}m.memoizedState=u;var _={value:u,getSnapshot:a};return m.queue=_,jy(My.bind(null,f,_,s),[s]),f.flags|=2048,wl(9,Ny.bind(null,f,_,u,a),void 0,null),u},useId:function(){var s=bi(),a=Pt.identifierPrefix;if(ot){var u=ir,f=nr;u=(f&~(1<<32-en(f)-1)).toString(32)+u,a=":"+a+"R"+u,u=_l++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=LS++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},zS={readContext:Vn,useCallback:Hy,useContext:Vn,useEffect:Sf,useImperativeHandle:$y,useInsertionEffect:Uy,useLayoutEffect:zy,useMemo:Wy,useReducer:xf,useRef:Fy,useState:function(){return xf(vl)},useDebugValue:If,useDeferredValue:function(s){var a=Fn();return qy(a,St.memoizedState,s)},useTransition:function(){var s=xf(vl)[0],a=Fn().memoizedState;return[s,a]},useMutableSource:Ry,useSyncExternalStore:Py,useId:Ky,unstable_isNewReconciler:!1},BS={readContext:Vn,useCallback:Hy,useContext:Vn,useEffect:Sf,useImperativeHandle:$y,useInsertionEffect:Uy,useLayoutEffect:zy,useMemo:Wy,useReducer:Tf,useRef:Fy,useState:function(){return Tf(vl)},useDebugValue:If,useDeferredValue:function(s){var a=Fn();return St===null?a.memoizedState=s:qy(a,St.memoizedState,s)},useTransition:function(){var s=Tf(vl)[0],a=Fn().memoizedState;return[s,a]},useMutableSource:Ry,useSyncExternalStore:Py,useId:Ky,unstable_isNewReconciler:!1};function ri(s,a){if(s&&s.defaultProps){a=le({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function bf(s,a,u,f){a=s.memoizedState,u=u(f,a),u=u==null?a:le({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Eu={isMounted:function(s){return(s=s._reactInternals)?Qn(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var f=rn(),m=Hr(s),_=sr(f,m);_.payload=a,u!=null&&(_.callback=u),a=Ur(s,_,m),a!==null&&(ai(a,s,m,f),fu(a,s,m))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var f=rn(),m=Hr(s),_=sr(f,m);_.tag=1,_.payload=a,u!=null&&(_.callback=u),a=Ur(s,_,m),a!==null&&(ai(a,s,m,f),fu(a,s,m))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=rn(),f=Hr(s),m=sr(u,f);m.tag=2,a!=null&&(m.callback=a),a=Ur(s,m,f),a!==null&&(ai(a,s,f,u),fu(a,s,f))}};function Xy(s,a,u,f,m,_,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,_,S):a.prototype&&a.prototype.isPureReactComponent?!ol(u,f)||!ol(m,_):!0}function Jy(s,a,u){var f=!1,m=Vr,_=a.contextType;return typeof _=="object"&&_!==null?_=Vn(_):(m=hn(a)?Us:Bt.current,f=a.contextTypes,_=(f=f!=null)?Ko(s,m):Vr),a=new a(u,_),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Eu,s.stateNode=a,a._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=_),a}function Zy(s,a,u,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==s&&Eu.enqueueReplaceState(a,a.state,null)}function kf(s,a,u,f){var m=s.stateNode;m.props=u,m.state=s.memoizedState,m.refs={},ff(s);var _=a.contextType;typeof _=="object"&&_!==null?m.context=Vn(_):(_=hn(a)?Us:Bt.current,m.context=Ko(s,_)),m.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(bf(s,a,_,u),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(a=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),a!==m.state&&Eu.enqueueReplaceState(m,m.state,null),pu(s,u,m,f),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function ta(s,a){try{var u="",f=a;do u+=Te(f),f=f.return;while(f);var m=u}catch(_){m=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:a,stack:m,digest:null}}function Cf(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function Af(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var $S=typeof WeakMap=="function"?WeakMap:Map;function e_(s,a,u){u=sr(-1,u),u.tag=3,u.payload={element:null};var f=a.value;return u.callback=function(){Cu||(Cu=!0,Hf=f),Af(s,a)},u}function t_(s,a,u){u=sr(-1,u),u.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var m=a.value;u.payload=function(){return f(m)},u.callback=function(){Af(s,a)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){Af(s,a),typeof f!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var S=a.stack;this.componentDidCatch(a.value,{componentStack:S!==null?S:""})}),u}function n_(s,a,u){var f=s.pingCache;if(f===null){f=s.pingCache=new $S;var m=new Set;f.set(a,m)}else m=f.get(a),m===void 0&&(m=new Set,f.set(a,m));m.has(u)||(m.add(u),s=iI.bind(null,s,a,u),a.then(s,s))}function i_(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function r_(s,a,u,f,m){return s.mode&1?(s.flags|=65536,s.lanes=m,s):(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=sr(-1,1),a.tag=2,Ur(u,a,1))),u.lanes|=1),s)}var HS=G.ReactCurrentOwner,dn=!1;function nn(s,a,u,f){a.child=s===null?Sy(a,null,u,f):Xo(a,s.child,u,f)}function s_(s,a,u,f,m){u=u.render;var _=a.ref;return Zo(a,m),f=wf(s,a,u,f,_,m),u=Ef(),s!==null&&!dn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~m,or(s,a,m)):(ot&&u&&nf(a),a.flags|=1,nn(s,a,f,m),a.child)}function o_(s,a,u,f,m){if(s===null){var _=u.type;return typeof _=="function"&&!Xf(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=_,a_(s,a,_,f,m)):(s=Mu(u.type,null,f,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(_=s.child,!(s.lanes&m)){var S=_.memoizedProps;if(u=u.compare,u=u!==null?u:ol,u(S,f)&&s.ref===a.ref)return or(s,a,m)}return a.flags|=1,s=qr(_,f),s.ref=a.ref,s.return=a,a.child=s}function a_(s,a,u,f,m){if(s!==null){var _=s.memoizedProps;if(ol(_,f)&&s.ref===a.ref)if(dn=!1,a.pendingProps=f=_,(s.lanes&m)!==0)s.flags&131072&&(dn=!0);else return a.lanes=s.lanes,or(s,a,m)}return Rf(s,a,u,f,m)}function l_(s,a,u){var f=a.pendingProps,m=f.children,_=s!==null?s.memoizedState:null;if(f.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(ia,An),An|=u;else{if(!(u&1073741824))return s=_!==null?_.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Ze(ia,An),An|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:u,Ze(ia,An),An|=f}else _!==null?(f=_.baseLanes|u,a.memoizedState=null):f=u,Ze(ia,An),An|=f;return nn(s,a,m,u),a.child}function c_(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function Rf(s,a,u,f,m){var _=hn(u)?Us:Bt.current;return _=Ko(a,_),Zo(a,m),u=wf(s,a,u,f,_,m),f=Ef(),s!==null&&!dn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~m,or(s,a,m)):(ot&&f&&nf(a),a.flags|=1,nn(s,a,u,m),a.child)}function u_(s,a,u,f,m){if(hn(u)){var _=!0;su(a)}else _=!1;if(Zo(a,m),a.stateNode===null)Tu(s,a),Jy(a,u,f),kf(a,u,f,m),f=!0;else if(s===null){var S=a.stateNode,M=a.memoizedProps;S.props=M;var j=S.context,K=u.contextType;typeof K=="object"&&K!==null?K=Vn(K):(K=hn(u)?Us:Bt.current,K=Ko(a,K));var ne=u.getDerivedStateFromProps,re=typeof ne=="function"||typeof S.getSnapshotBeforeUpdate=="function";re||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==f||j!==K)&&Zy(a,S,f,K),jr=!1;var te=a.memoizedState;S.state=te,pu(a,f,S,m),j=a.memoizedState,M!==f||te!==j||un.current||jr?(typeof ne=="function"&&(bf(a,u,ne,f),j=a.memoizedState),(M=jr||Xy(a,u,M,f,te,j,K))?(re||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(a.flags|=4194308)):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=j),S.props=f,S.state=j,S.context=K,f=M):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{S=a.stateNode,by(s,a),M=a.memoizedProps,K=a.type===a.elementType?M:ri(a.type,M),S.props=K,re=a.pendingProps,te=S.context,j=u.contextType,typeof j=="object"&&j!==null?j=Vn(j):(j=hn(u)?Us:Bt.current,j=Ko(a,j));var ce=u.getDerivedStateFromProps;(ne=typeof ce=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==re||te!==j)&&Zy(a,S,f,j),jr=!1,te=a.memoizedState,S.state=te,pu(a,f,S,m);var pe=a.memoizedState;M!==re||te!==pe||un.current||jr?(typeof ce=="function"&&(bf(a,u,ce,f),pe=a.memoizedState),(K=jr||Xy(a,u,K,f,te,pe,j)||!1)?(ne||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(f,pe,j),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(f,pe,j)),typeof S.componentDidUpdate=="function"&&(a.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof S.componentDidUpdate!="function"||M===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=pe),S.props=f,S.state=pe,S.context=j,f=K):(typeof S.componentDidUpdate!="function"||M===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),f=!1)}return Pf(s,a,u,f,_,m)}function Pf(s,a,u,f,m,_){c_(s,a);var S=(a.flags&128)!==0;if(!f&&!S)return m&&my(a,u,!1),or(s,a,_);f=a.stateNode,HS.current=a;var M=S&&typeof u.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,s!==null&&S?(a.child=Xo(a,s.child,null,_),a.child=Xo(a,null,M,_)):nn(s,a,M,_),a.memoizedState=f.state,m&&my(a,u,!0),a.child}function h_(s){var a=s.stateNode;a.pendingContext?fy(s,a.pendingContext,a.pendingContext!==a.context):a.context&&fy(s,a.context,!1),pf(s,a.containerInfo)}function d_(s,a,u,f,m){return Yo(),af(m),a.flags|=256,nn(s,a,u,f),a.child}var Df={dehydrated:null,treeContext:null,retryLane:0};function Nf(s){return{baseLanes:s,cachePool:null,transitions:null}}function f_(s,a,u){var f=a.pendingProps,m=at.current,_=!1,S=(a.flags&128)!==0,M;if((M=S)||(M=s!==null&&s.memoizedState===null?!1:(m&2)!==0),M?(_=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),Ze(at,m&1),s===null)return of(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(a.mode&1?s.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(S=f.children,s=f.fallback,_?(f=a.mode,_=a.child,S={mode:"hidden",children:S},!(f&1)&&_!==null?(_.childLanes=0,_.pendingProps=S):_=Ou(S,f,0,null),s=Ys(s,f,u,null),_.return=a,s.return=a,_.sibling=s,a.child=_,a.child.memoizedState=Nf(u),a.memoizedState=Df,s):Mf(a,S));if(m=s.memoizedState,m!==null&&(M=m.dehydrated,M!==null))return WS(s,a,S,f,M,m,u);if(_){_=f.fallback,S=a.mode,m=s.child,M=m.sibling;var j={mode:"hidden",children:f.children};return!(S&1)&&a.child!==m?(f=a.child,f.childLanes=0,f.pendingProps=j,a.deletions=null):(f=qr(m,j),f.subtreeFlags=m.subtreeFlags&14680064),M!==null?_=qr(M,_):(_=Ys(_,S,u,null),_.flags|=2),_.return=a,f.return=a,f.sibling=_,a.child=f,f=_,_=a.child,S=s.child.memoizedState,S=S===null?Nf(u):{baseLanes:S.baseLanes|u,cachePool:null,transitions:S.transitions},_.memoizedState=S,_.childLanes=s.childLanes&~u,a.memoizedState=Df,f}return _=s.child,s=_.sibling,f=qr(_,{mode:"visible",children:f.children}),!(a.mode&1)&&(f.lanes=u),f.return=a,f.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=f,a.memoizedState=null,f}function Mf(s,a){return a=Ou({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function xu(s,a,u,f){return f!==null&&af(f),Xo(a,s.child,null,u),s=Mf(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function WS(s,a,u,f,m,_,S){if(u)return a.flags&256?(a.flags&=-257,f=Cf(Error(t(422))),xu(s,a,S,f)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(_=f.fallback,m=a.mode,f=Ou({mode:"visible",children:f.children},m,0,null),_=Ys(_,m,S,null),_.flags|=2,f.return=a,_.return=a,f.sibling=_,a.child=f,a.mode&1&&Xo(a,s.child,null,S),a.child.memoizedState=Nf(S),a.memoizedState=Df,_);if(!(a.mode&1))return xu(s,a,S,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var M=f.dgst;return f=M,_=Error(t(419)),f=Cf(_,f,void 0),xu(s,a,S,f)}if(M=(S&s.childLanes)!==0,dn||M){if(f=Pt,f!==null){switch(S&-S){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(f.suspendedLanes|S)?0:m,m!==0&&m!==_.retryLane&&(_.retryLane=m,rr(s,m),ai(f,s,m,-1))}return Yf(),f=Cf(Error(t(421))),xu(s,a,S,f)}return m.data==="$?"?(a.flags|=128,a.child=s.child,a=rI.bind(null,s),m._reactRetry=a,null):(s=_.treeContext,Cn=Or(m.nextSibling),kn=a,ot=!0,ii=null,s!==null&&(On[Ln++]=nr,On[Ln++]=ir,On[Ln++]=zs,nr=s.id,ir=s.overflow,zs=a),a=Mf(a,f.children),a.flags|=4096,a)}function p_(s,a,u){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),hf(s.return,a,u)}function Of(s,a,u,f,m){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=u,_.tailMode=m)}function m_(s,a,u){var f=a.pendingProps,m=f.revealOrder,_=f.tail;if(nn(s,a,f.children,u),f=at.current,f&2)f=f&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&p_(s,u,a);else if(s.tag===19)p_(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(Ze(at,f),!(a.mode&1))a.memoizedState=null;else switch(m){case"forwards":for(u=a.child,m=null;u!==null;)s=u.alternate,s!==null&&mu(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=a.child,a.child=null):(m=u.sibling,u.sibling=null),Of(a,!1,m,u,_);break;case"backwards":for(u=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&mu(s)===null){a.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}Of(a,!0,u,null,_);break;case"together":Of(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Tu(s,a){!(a.mode&1)&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function or(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),qs|=a.lanes,!(u&a.childLanes))return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,u=qr(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=qr(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function qS(s,a,u){switch(a.tag){case 3:h_(a),Yo();break;case 5:Ay(a);break;case 1:hn(a.type)&&su(a);break;case 4:pf(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,m=a.memoizedProps.value;Ze(hu,f._currentValue),f._currentValue=m;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(Ze(at,at.current&1),a.flags|=128,null):u&a.child.childLanes?f_(s,a,u):(Ze(at,at.current&1),s=or(s,a,u),s!==null?s.sibling:null);Ze(at,at.current&1);break;case 19:if(f=(u&a.childLanes)!==0,s.flags&128){if(f)return m_(s,a,u);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ze(at,at.current),f)break;return null;case 22:case 23:return a.lanes=0,l_(s,a,u)}return or(s,a,u)}var g_,Lf,y_,__;g_=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Lf=function(){},y_=function(s,a,u,f){var m=s.memoizedProps;if(m!==f){s=a.stateNode,Hs(Ii.current);var _=null;switch(u){case"input":m=xr(s,m),f=xr(s,f),_=[];break;case"select":m=le({},m,{value:void 0}),f=le({},f,{value:void 0}),_=[];break;case"textarea":m=pi(s,m),f=pi(s,f),_=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=nu)}_o(u,f);var S;u=null;for(K in m)if(!f.hasOwnProperty(K)&&m.hasOwnProperty(K)&&m[K]!=null)if(K==="style"){var M=m[K];for(S in M)M.hasOwnProperty(S)&&(u||(u={}),u[S]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(r.hasOwnProperty(K)?_||(_=[]):(_=_||[]).push(K,null));for(K in f){var j=f[K];if(M=m!=null?m[K]:void 0,f.hasOwnProperty(K)&&j!==M&&(j!=null||M!=null))if(K==="style")if(M){for(S in M)!M.hasOwnProperty(S)||j&&j.hasOwnProperty(S)||(u||(u={}),u[S]="");for(S in j)j.hasOwnProperty(S)&&M[S]!==j[S]&&(u||(u={}),u[S]=j[S])}else u||(_||(_=[]),_.push(K,u)),u=j;else K==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,M=M?M.__html:void 0,j!=null&&M!==j&&(_=_||[]).push(K,j)):K==="children"?typeof j!="string"&&typeof j!="number"||(_=_||[]).push(K,""+j):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(r.hasOwnProperty(K)?(j!=null&&K==="onScroll"&&et("scroll",s),_||M===j||(_=[])):(_=_||[]).push(K,j))}u&&(_=_||[]).push("style",u);var K=_;(a.updateQueue=K)&&(a.flags|=4)}},__=function(s,a,u,f){u!==f&&(a.flags|=4)};function El(s,a){if(!ot)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Ht(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(a)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=f,s.childLanes=u,a}function KS(s,a,u){var f=a.pendingProps;switch(rf(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(a),null;case 1:return hn(a.type)&&ru(),Ht(a),null;case 3:return f=a.stateNode,ea(),tt(un),tt(Bt),yf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(cu(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,ii!==null&&(Kf(ii),ii=null))),Lf(s,a),Ht(a),null;case 5:mf(a);var m=Hs(gl.current);if(u=a.type,s!==null&&a.stateNode!=null)y_(s,a,u,f,m),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(t(166));return Ht(a),null}if(s=Hs(Ii.current),cu(a)){f=a.stateNode,u=a.type;var _=a.memoizedProps;switch(f[Si]=a,f[hl]=_,s=(a.mode&1)!==0,u){case"dialog":et("cancel",f),et("close",f);break;case"iframe":case"object":case"embed":et("load",f);break;case"video":case"audio":for(m=0;m<ll.length;m++)et(ll[m],f);break;case"source":et("error",f);break;case"img":case"image":case"link":et("error",f),et("load",f);break;case"details":et("toggle",f);break;case"input":Wi(f,_),et("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},et("invalid",f);break;case"textarea":Tr(f,_),et("invalid",f)}_o(u,_),m=null;for(var S in _)if(_.hasOwnProperty(S)){var M=_[S];S==="children"?typeof M=="string"?f.textContent!==M&&(_.suppressHydrationWarning!==!0&&tu(f.textContent,M,s),m=["children",M]):typeof M=="number"&&f.textContent!==""+M&&(_.suppressHydrationWarning!==!0&&tu(f.textContent,M,s),m=["children",""+M]):r.hasOwnProperty(S)&&M!=null&&S==="onScroll"&&et("scroll",f)}switch(u){case"input":En(f),yo(f,_,!0);break;case"textarea":En(f),Ss(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=nu)}f=m,a.updateQueue=f,f!==null&&(a.flags|=4)}else{S=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=dt(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=S.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=S.createElement(u,{is:f.is}):(s=S.createElement(u),u==="select"&&(S=s,f.multiple?S.multiple=!0:f.size&&(S.size=f.size))):s=S.createElementNS(s,u),s[Si]=a,s[hl]=f,g_(s,a,!1,!1),a.stateNode=s;e:{switch(S=Ba(u,f),u){case"dialog":et("cancel",s),et("close",s),m=f;break;case"iframe":case"object":case"embed":et("load",s),m=f;break;case"video":case"audio":for(m=0;m<ll.length;m++)et(ll[m],s);m=f;break;case"source":et("error",s),m=f;break;case"img":case"image":case"link":et("error",s),et("load",s),m=f;break;case"details":et("toggle",s),m=f;break;case"input":Wi(s,f),m=xr(s,f),et("invalid",s);break;case"option":m=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},m=le({},f,{value:void 0}),et("invalid",s);break;case"textarea":Tr(s,f),m=pi(s,f),et("invalid",s);break;default:m=f}_o(u,m),M=m;for(_ in M)if(M.hasOwnProperty(_)){var j=M[_];_==="style"?gi(s,j):_==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Is(s,j)):_==="children"?typeof j=="string"?(u!=="textarea"||j!=="")&&mi(s,j):typeof j=="number"&&mi(s,""+j):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(r.hasOwnProperty(_)?j!=null&&_==="onScroll"&&et("scroll",s):j!=null&&$(s,_,j,S))}switch(u){case"input":En(s),yo(s,f,!1);break;case"textarea":En(s),Ss(s);break;case"option":f.value!=null&&s.setAttribute("value",""+Pe(f.value));break;case"select":s.multiple=!!f.multiple,_=f.value,_!=null?xn(s,!!f.multiple,_,!1):f.defaultValue!=null&&xn(s,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=nu)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Ht(a),null;case 6:if(s&&a.stateNode!=null)__(s,a,s.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(t(166));if(u=Hs(gl.current),Hs(Ii.current),cu(a)){if(f=a.stateNode,u=a.memoizedProps,f[Si]=a,(_=f.nodeValue!==u)&&(s=kn,s!==null))switch(s.tag){case 3:tu(f.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&tu(f.nodeValue,u,(s.mode&1)!==0)}_&&(a.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Si]=a,a.stateNode=f}return Ht(a),null;case 13:if(tt(at),f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ot&&Cn!==null&&a.mode&1&&!(a.flags&128))Ey(),Yo(),a.flags|=98560,_=!1;else if(_=cu(a),f!==null&&f.dehydrated!==null){if(s===null){if(!_)throw Error(t(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[Si]=a}else Yo(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Ht(a),_=!1}else ii!==null&&(Kf(ii),ii=null),_=!0;if(!_)return a.flags&65536?a:null}return a.flags&128?(a.lanes=u,a):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(a.child.flags|=8192,a.mode&1&&(s===null||at.current&1?It===0&&(It=3):Yf())),a.updateQueue!==null&&(a.flags|=4),Ht(a),null);case 4:return ea(),Lf(s,a),s===null&&cl(a.stateNode.containerInfo),Ht(a),null;case 10:return uf(a.type._context),Ht(a),null;case 17:return hn(a.type)&&ru(),Ht(a),null;case 19:if(tt(at),_=a.memoizedState,_===null)return Ht(a),null;if(f=(a.flags&128)!==0,S=_.rendering,S===null)if(f)El(_,!1);else{if(It!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(S=mu(s),S!==null){for(a.flags|=128,El(_,!1),f=S.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=u,u=a.child;u!==null;)_=u,s=f,_.flags&=14680066,S=_.alternate,S===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=S.childLanes,_.lanes=S.lanes,_.child=S.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=S.memoizedProps,_.memoizedState=S.memoizedState,_.updateQueue=S.updateQueue,_.type=S.type,s=S.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return Ze(at,at.current&1|2),a.child}s=s.sibling}_.tail!==null&&Je()>ra&&(a.flags|=128,f=!0,El(_,!1),a.lanes=4194304)}else{if(!f)if(s=mu(S),s!==null){if(a.flags|=128,f=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),El(_,!0),_.tail===null&&_.tailMode==="hidden"&&!S.alternate&&!ot)return Ht(a),null}else 2*Je()-_.renderingStartTime>ra&&u!==1073741824&&(a.flags|=128,f=!0,El(_,!1),a.lanes=4194304);_.isBackwards?(S.sibling=a.child,a.child=S):(u=_.last,u!==null?u.sibling=S:a.child=S,_.last=S)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=Je(),a.sibling=null,u=at.current,Ze(at,f?u&1|2:u&1),a):(Ht(a),null);case 22:case 23:return Qf(),f=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(a.flags|=8192),f&&a.mode&1?An&1073741824&&(Ht(a),a.subtreeFlags&6&&(a.flags|=8192)):Ht(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function GS(s,a){switch(rf(a),a.tag){case 1:return hn(a.type)&&ru(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ea(),tt(un),tt(Bt),yf(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 5:return mf(a),null;case 13:if(tt(at),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Yo()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return tt(at),null;case 4:return ea(),null;case 10:return uf(a.type._context),null;case 22:case 23:return Qf(),null;case 24:return null;default:return null}}var Su=!1,Wt=!1,QS=typeof WeakSet=="function"?WeakSet:Set,he=null;function na(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){ft(s,a,f)}else u.current=null}function Vf(s,a,u){try{u()}catch(f){ft(s,a,f)}}var v_=!1;function YS(s,a){if(Gd=Dr,s=Xg(),Ud(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var S=0,M=-1,j=-1,K=0,ne=0,re=s,te=null;t:for(;;){for(var ce;re!==u||m!==0&&re.nodeType!==3||(M=S+m),re!==_||f!==0&&re.nodeType!==3||(j=S+f),re.nodeType===3&&(S+=re.nodeValue.length),(ce=re.firstChild)!==null;)te=re,re=ce;for(;;){if(re===s)break t;if(te===u&&++K===m&&(M=S),te===_&&++ne===f&&(j=S),(ce=re.nextSibling)!==null)break;re=te,te=re.parentNode}re=ce}u=M===-1||j===-1?null:{start:M,end:j}}else u=null}u=u||{start:0,end:0}}else u=null;for(Qd={focusedElem:s,selectionRange:u},Dr=!1,he=a;he!==null;)if(a=he,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,he=s;else for(;he!==null;){a=he;try{var pe=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var ge=pe.memoizedProps,gt=pe.memoizedState,W=a.stateNode,U=W.getSnapshotBeforeUpdate(a.elementType===a.type?ge:ri(a.type,ge),gt);W.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var q=a.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){ft(a,a.return,se)}if(s=a.sibling,s!==null){s.return=a.return,he=s;break}he=a.return}return pe=v_,v_=!1,pe}function xl(s,a,u){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&s)===s){var _=m.destroy;m.destroy=void 0,_!==void 0&&Vf(a,u,_)}m=m.next}while(m!==f)}}function Iu(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var f=u.create;u.destroy=f()}u=u.next}while(u!==a)}}function Ff(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function w_(s){var a=s.alternate;a!==null&&(s.alternate=null,w_(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Si],delete a[hl],delete a[Zd],delete a[DS],delete a[NS])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function E_(s){return s.tag===5||s.tag===3||s.tag===4}function x_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||E_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function jf(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=nu));else if(f!==4&&(s=s.child,s!==null))for(jf(s,a,u),s=s.sibling;s!==null;)jf(s,a,u),s=s.sibling}function Uf(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(Uf(s,a,u),s=s.sibling;s!==null;)Uf(s,a,u),s=s.sibling}var Lt=null,si=!1;function zr(s,a,u){for(u=u.child;u!==null;)T_(s,a,u),u=u.sibling}function T_(s,a,u){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(Ds,u)}catch{}switch(u.tag){case 5:Wt||na(u,a);case 6:var f=Lt,m=si;Lt=null,zr(s,a,u),Lt=f,si=m,Lt!==null&&(si?(s=Lt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Lt.removeChild(u.stateNode));break;case 18:Lt!==null&&(si?(s=Lt,u=u.stateNode,s.nodeType===8?Jd(s.parentNode,u):s.nodeType===1&&Jd(s,u),ei(s)):Jd(Lt,u.stateNode));break;case 4:f=Lt,m=si,Lt=u.stateNode.containerInfo,si=!0,zr(s,a,u),Lt=f,si=m;break;case 0:case 11:case 14:case 15:if(!Wt&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var _=m,S=_.destroy;_=_.tag,S!==void 0&&(_&2||_&4)&&Vf(u,a,S),m=m.next}while(m!==f)}zr(s,a,u);break;case 1:if(!Wt&&(na(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(M){ft(u,a,M)}zr(s,a,u);break;case 21:zr(s,a,u);break;case 22:u.mode&1?(Wt=(f=Wt)||u.memoizedState!==null,zr(s,a,u),Wt=f):zr(s,a,u);break;default:zr(s,a,u)}}function S_(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new QS),a.forEach(function(f){var m=sI.bind(null,s,f);u.has(f)||(u.add(f),f.then(m,m))})}}function oi(s,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f];try{var _=s,S=a,M=S;e:for(;M!==null;){switch(M.tag){case 5:Lt=M.stateNode,si=!1;break e;case 3:Lt=M.stateNode.containerInfo,si=!0;break e;case 4:Lt=M.stateNode.containerInfo,si=!0;break e}M=M.return}if(Lt===null)throw Error(t(160));T_(_,S,m),Lt=null,si=!1;var j=m.alternate;j!==null&&(j.return=null),m.return=null}catch(K){ft(m,a,K)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)I_(a,s),a=a.sibling}function I_(s,a){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(oi(a,s),ki(s),f&4){try{xl(3,s,s.return),Iu(3,s)}catch(ge){ft(s,s.return,ge)}try{xl(5,s,s.return)}catch(ge){ft(s,s.return,ge)}}break;case 1:oi(a,s),ki(s),f&512&&u!==null&&na(u,u.return);break;case 5:if(oi(a,s),ki(s),f&512&&u!==null&&na(u,u.return),s.flags&32){var m=s.stateNode;try{mi(m,"")}catch(ge){ft(s,s.return,ge)}}if(f&4&&(m=s.stateNode,m!=null)){var _=s.memoizedProps,S=u!==null?u.memoizedProps:_,M=s.type,j=s.updateQueue;if(s.updateQueue=null,j!==null)try{M==="input"&&_.type==="radio"&&_.name!=null&&xs(m,_),Ba(M,S);var K=Ba(M,_);for(S=0;S<j.length;S+=2){var ne=j[S],re=j[S+1];ne==="style"?gi(m,re):ne==="dangerouslySetInnerHTML"?Is(m,re):ne==="children"?mi(m,re):$(m,ne,re,K)}switch(M){case"input":Ts(m,_);break;case"textarea":Sr(m,_);break;case"select":var te=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!_.multiple;var ce=_.value;ce!=null?xn(m,!!_.multiple,ce,!1):te!==!!_.multiple&&(_.defaultValue!=null?xn(m,!!_.multiple,_.defaultValue,!0):xn(m,!!_.multiple,_.multiple?[]:"",!1))}m[hl]=_}catch(ge){ft(s,s.return,ge)}}break;case 6:if(oi(a,s),ki(s),f&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,_=s.memoizedProps;try{m.nodeValue=_}catch(ge){ft(s,s.return,ge)}}break;case 3:if(oi(a,s),ki(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{ei(a.containerInfo)}catch(ge){ft(s,s.return,ge)}break;case 4:oi(a,s),ki(s);break;case 13:oi(a,s),ki(s),m=s.child,m.flags&8192&&(_=m.memoizedState!==null,m.stateNode.isHidden=_,!_||m.alternate!==null&&m.alternate.memoizedState!==null||($f=Je())),f&4&&S_(s);break;case 22:if(ne=u!==null&&u.memoizedState!==null,s.mode&1?(Wt=(K=Wt)||ne,oi(a,s),Wt=K):oi(a,s),ki(s),f&8192){if(K=s.memoizedState!==null,(s.stateNode.isHidden=K)&&!ne&&s.mode&1)for(he=s,ne=s.child;ne!==null;){for(re=he=ne;he!==null;){switch(te=he,ce=te.child,te.tag){case 0:case 11:case 14:case 15:xl(4,te,te.return);break;case 1:na(te,te.return);var pe=te.stateNode;if(typeof pe.componentWillUnmount=="function"){f=te,u=te.return;try{a=f,pe.props=a.memoizedProps,pe.state=a.memoizedState,pe.componentWillUnmount()}catch(ge){ft(f,u,ge)}}break;case 5:na(te,te.return);break;case 22:if(te.memoizedState!==null){C_(re);continue}}ce!==null?(ce.return=te,he=ce):C_(re)}ne=ne.sibling}e:for(ne=null,re=s;;){if(re.tag===5){if(ne===null){ne=re;try{m=re.stateNode,K?(_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(M=re.stateNode,j=re.memoizedProps.style,S=j!=null&&j.hasOwnProperty("display")?j.display:null,M.style.display=an("display",S))}catch(ge){ft(s,s.return,ge)}}}else if(re.tag===6){if(ne===null)try{re.stateNode.nodeValue=K?"":re.memoizedProps}catch(ge){ft(s,s.return,ge)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===s)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===s)break e;for(;re.sibling===null;){if(re.return===null||re.return===s)break e;ne===re&&(ne=null),re=re.return}ne===re&&(ne=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:oi(a,s),ki(s),f&4&&S_(s);break;case 21:break;default:oi(a,s),ki(s)}}function ki(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(E_(u)){var f=u;break e}u=u.return}throw Error(t(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(mi(m,""),f.flags&=-33);var _=x_(s);Uf(s,_,m);break;case 3:case 4:var S=f.stateNode.containerInfo,M=x_(s);jf(s,M,S);break;default:throw Error(t(161))}}catch(j){ft(s,s.return,j)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function XS(s,a,u){he=s,b_(s)}function b_(s,a,u){for(var f=(s.mode&1)!==0;he!==null;){var m=he,_=m.child;if(m.tag===22&&f){var S=m.memoizedState!==null||Su;if(!S){var M=m.alternate,j=M!==null&&M.memoizedState!==null||Wt;M=Su;var K=Wt;if(Su=S,(Wt=j)&&!K)for(he=m;he!==null;)S=he,j=S.child,S.tag===22&&S.memoizedState!==null?A_(m):j!==null?(j.return=S,he=j):A_(m);for(;_!==null;)he=_,b_(_),_=_.sibling;he=m,Su=M,Wt=K}k_(s)}else m.subtreeFlags&8772&&_!==null?(_.return=m,he=_):k_(s)}}function k_(s){for(;he!==null;){var a=he;if(a.flags&8772){var u=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:Wt||Iu(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!Wt)if(u===null)f.componentDidMount();else{var m=a.elementType===a.type?u.memoizedProps:ri(a.type,u.memoizedProps);f.componentDidUpdate(m,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&Cy(a,_,f);break;case 3:var S=a.updateQueue;if(S!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}Cy(a,S,u)}break;case 5:var M=a.stateNode;if(u===null&&a.flags&4){u=M;var j=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&u.focus();break;case"img":j.src&&(u.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var K=a.alternate;if(K!==null){var ne=K.memoizedState;if(ne!==null){var re=ne.dehydrated;re!==null&&ei(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Wt||a.flags&512&&Ff(a)}catch(te){ft(a,a.return,te)}}if(a===s){he=null;break}if(u=a.sibling,u!==null){u.return=a.return,he=u;break}he=a.return}}function C_(s){for(;he!==null;){var a=he;if(a===s){he=null;break}var u=a.sibling;if(u!==null){u.return=a.return,he=u;break}he=a.return}}function A_(s){for(;he!==null;){var a=he;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{Iu(4,a)}catch(j){ft(a,u,j)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var m=a.return;try{f.componentDidMount()}catch(j){ft(a,m,j)}}var _=a.return;try{Ff(a)}catch(j){ft(a,_,j)}break;case 5:var S=a.return;try{Ff(a)}catch(j){ft(a,S,j)}}}catch(j){ft(a,a.return,j)}if(a===s){he=null;break}var M=a.sibling;if(M!==null){M.return=a.return,he=M;break}he=a.return}}var JS=Math.ceil,bu=G.ReactCurrentDispatcher,zf=G.ReactCurrentOwner,jn=G.ReactCurrentBatchConfig,Be=0,Pt=null,wt=null,Vt=0,An=0,ia=Lr(0),It=0,Tl=null,qs=0,ku=0,Bf=0,Sl=null,fn=null,$f=0,ra=1/0,ar=null,Cu=!1,Hf=null,Br=null,Au=!1,$r=null,Ru=0,Il=0,Wf=null,Pu=-1,Du=0;function rn(){return Be&6?Je():Pu!==-1?Pu:Pu=Je()}function Hr(s){return s.mode&1?Be&2&&Vt!==0?Vt&-Vt:OS.transition!==null?(Du===0&&(Du=Ms()),Du):(s=Fe,s!==0||(s=window.event,s=s===void 0?16:Za(s.type)),s):1}function ai(s,a,u,f){if(50<Il)throw Il=0,Wf=null,Error(t(185));Cr(s,u,f),(!(Be&2)||s!==Pt)&&(s===Pt&&(!(Be&2)&&(ku|=u),It===4&&Wr(s,Vt)),pn(s,f),u===1&&Be===0&&!(a.mode&1)&&(ra=Je()+500,ou&&Fr()))}function pn(s,a){var u=s.callbackNode;Qi(s,a);var f=Ns(s,s===Pt?Vt:0);if(f===0)u!==null&&Ga(u),s.callbackNode=null,s.callbackPriority=0;else if(a=f&-f,s.callbackPriority!==a){if(u!=null&&Ga(u),a===1)s.tag===0?MS(P_.bind(null,s)):gy(P_.bind(null,s)),RS(function(){!(Be&6)&&Fr()}),u=null;else{switch(Rr(f)){case 1:u=Ps;break;case 4:u=Ir;break;case 16:u=Dn;break;case 536870912:u=Dc;break;default:u=Dn}u=j_(u,R_.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function R_(s,a){if(Pu=-1,Du=0,Be&6)throw Error(t(327));var u=s.callbackNode;if(sa()&&s.callbackNode!==u)return null;var f=Ns(s,s===Pt?Vt:0);if(f===0)return null;if(f&30||f&s.expiredLanes||a)a=Nu(s,f);else{a=f;var m=Be;Be|=2;var _=N_();(Pt!==s||Vt!==a)&&(ar=null,ra=Je()+500,Gs(s,a));do try{tI();break}catch(M){D_(s,M)}while(!0);cf(),bu.current=_,Be=m,wt!==null?a=0:(Pt=null,Vt=0,a=It)}if(a!==0){if(a===2&&(m=Sn(s),m!==0&&(f=m,a=qf(s,m))),a===1)throw u=Tl,Gs(s,0),Wr(s,f),pn(s,Je()),u;if(a===6)Wr(s,f);else{if(m=s.current.alternate,!(f&30)&&!ZS(m)&&(a=Nu(s,f),a===2&&(_=Sn(s),_!==0&&(f=_,a=qf(s,_))),a===1))throw u=Tl,Gs(s,0),Wr(s,f),pn(s,Je()),u;switch(s.finishedWork=m,s.finishedLanes=f,a){case 0:case 1:throw Error(t(345));case 2:Qs(s,fn,ar);break;case 3:if(Wr(s,f),(f&130023424)===f&&(a=$f+500-Je(),10<a)){if(Ns(s,0)!==0)break;if(m=s.suspendedLanes,(m&f)!==f){rn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Xd(Qs.bind(null,s,fn,ar),a);break}Qs(s,fn,ar);break;case 4:if(Wr(s,f),(f&4194240)===f)break;for(a=s.eventTimes,m=-1;0<f;){var S=31-en(f);_=1<<S,S=a[S],S>m&&(m=S),f&=~_}if(f=m,f=Je()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*JS(f/1960))-f,10<f){s.timeoutHandle=Xd(Qs.bind(null,s,fn,ar),f);break}Qs(s,fn,ar);break;case 5:Qs(s,fn,ar);break;default:throw Error(t(329))}}}return pn(s,Je()),s.callbackNode===u?R_.bind(null,s):null}function qf(s,a){var u=Sl;return s.current.memoizedState.isDehydrated&&(Gs(s,a).flags|=256),s=Nu(s,a),s!==2&&(a=fn,fn=u,a!==null&&Kf(a)),s}function Kf(s){fn===null?fn=s:fn.push.apply(fn,s)}function ZS(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var m=u[f],_=m.getSnapshot;m=m.value;try{if(!ni(_(),m))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Wr(s,a){for(a&=~Bf,a&=~ku,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-en(a),f=1<<u;s[u]=-1,a&=~f}}function P_(s){if(Be&6)throw Error(t(327));sa();var a=Ns(s,0);if(!(a&1))return pn(s,Je()),null;var u=Nu(s,a);if(s.tag!==0&&u===2){var f=Sn(s);f!==0&&(a=f,u=qf(s,f))}if(u===1)throw u=Tl,Gs(s,0),Wr(s,a),pn(s,Je()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Qs(s,fn,ar),pn(s,Je()),null}function Gf(s,a){var u=Be;Be|=1;try{return s(a)}finally{Be=u,Be===0&&(ra=Je()+500,ou&&Fr())}}function Ks(s){$r!==null&&$r.tag===0&&!(Be&6)&&sa();var a=Be;Be|=1;var u=jn.transition,f=Fe;try{if(jn.transition=null,Fe=1,s)return s()}finally{Fe=f,jn.transition=u,Be=a,!(Be&6)&&Fr()}}function Qf(){An=ia.current,tt(ia)}function Gs(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,AS(u)),wt!==null)for(u=wt.return;u!==null;){var f=u;switch(rf(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&ru();break;case 3:ea(),tt(un),tt(Bt),yf();break;case 5:mf(f);break;case 4:ea();break;case 13:tt(at);break;case 19:tt(at);break;case 10:uf(f.type._context);break;case 22:case 23:Qf()}u=u.return}if(Pt=s,wt=s=qr(s.current,null),Vt=An=a,It=0,Tl=null,Bf=ku=qs=0,fn=Sl=null,$s!==null){for(a=0;a<$s.length;a++)if(u=$s[a],f=u.interleaved,f!==null){u.interleaved=null;var m=f.next,_=u.pending;if(_!==null){var S=_.next;_.next=m,f.next=S}u.pending=f}$s=null}return s}function D_(s,a){do{var u=wt;try{if(cf(),gu.current=wu,yu){for(var f=lt.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}yu=!1}if(Ws=0,Rt=St=lt=null,yl=!1,_l=0,zf.current=null,u===null||u.return===null){It=1,Tl=a,wt=null;break}e:{var _=s,S=u.return,M=u,j=a;if(a=Vt,M.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var K=j,ne=M,re=ne.tag;if(!(ne.mode&1)&&(re===0||re===11||re===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ce=i_(S);if(ce!==null){ce.flags&=-257,r_(ce,S,M,_,a),ce.mode&1&&n_(_,K,a),a=ce,j=K;var pe=a.updateQueue;if(pe===null){var ge=new Set;ge.add(j),a.updateQueue=ge}else pe.add(j);break e}else{if(!(a&1)){n_(_,K,a),Yf();break e}j=Error(t(426))}}else if(ot&&M.mode&1){var gt=i_(S);if(gt!==null){!(gt.flags&65536)&&(gt.flags|=256),r_(gt,S,M,_,a),af(ta(j,M));break e}}_=j=ta(j,M),It!==4&&(It=2),Sl===null?Sl=[_]:Sl.push(_),_=S;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var W=e_(_,j,a);ky(_,W);break e;case 1:M=j;var U=_.type,q=_.stateNode;if(!(_.flags&128)&&(typeof U.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Br===null||!Br.has(q)))){_.flags|=65536,a&=-a,_.lanes|=a;var se=t_(_,M,a);ky(_,se);break e}}_=_.return}while(_!==null)}O_(u)}catch(ye){a=ye,wt===u&&u!==null&&(wt=u=u.return);continue}break}while(!0)}function N_(){var s=bu.current;return bu.current=wu,s===null?wu:s}function Yf(){(It===0||It===3||It===2)&&(It=4),Pt===null||!(qs&268435455)&&!(ku&268435455)||Wr(Pt,Vt)}function Nu(s,a){var u=Be;Be|=2;var f=N_();(Pt!==s||Vt!==a)&&(ar=null,Gs(s,a));do try{eI();break}catch(m){D_(s,m)}while(!0);if(cf(),Be=u,bu.current=f,wt!==null)throw Error(t(261));return Pt=null,Vt=0,It}function eI(){for(;wt!==null;)M_(wt)}function tI(){for(;wt!==null&&!Rc();)M_(wt)}function M_(s){var a=F_(s.alternate,s,An);s.memoizedProps=s.pendingProps,a===null?O_(s):wt=a,zf.current=null}function O_(s){var a=s;do{var u=a.alternate;if(s=a.return,a.flags&32768){if(u=GS(u,a),u!==null){u.flags&=32767,wt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{It=6,wt=null;return}}else if(u=KS(u,a,An),u!==null){wt=u;return}if(a=a.sibling,a!==null){wt=a;return}wt=a=s}while(a!==null);It===0&&(It=5)}function Qs(s,a,u){var f=Fe,m=jn.transition;try{jn.transition=null,Fe=1,nI(s,a,u,f)}finally{jn.transition=m,Fe=f}return null}function nI(s,a,u,f){do sa();while($r!==null);if(Be&6)throw Error(t(327));u=s.finishedWork;var m=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var _=u.lanes|u.childLanes;if(Xe(s,_),s===Pt&&(wt=Pt=null,Vt=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Au||(Au=!0,j_(Dn,function(){return sa(),null})),_=(u.flags&15990)!==0,u.subtreeFlags&15990||_){_=jn.transition,jn.transition=null;var S=Fe;Fe=1;var M=Be;Be|=4,zf.current=null,YS(s,u),I_(u,s),xS(Qd),Dr=!!Gd,Qd=Gd=null,s.current=u,XS(u),Dd(),Be=M,Fe=S,jn.transition=_}else s.current=u;if(Au&&(Au=!1,$r=s,Ru=m),_=s.pendingLanes,_===0&&(Br=null),Nc(u.stateNode),pn(s,Je()),a!==null)for(f=s.onRecoverableError,u=0;u<a.length;u++)m=a[u],f(m.value,{componentStack:m.stack,digest:m.digest});if(Cu)throw Cu=!1,s=Hf,Hf=null,s;return Ru&1&&s.tag!==0&&sa(),_=s.pendingLanes,_&1?s===Wf?Il++:(Il=0,Wf=s):Il=0,Fr(),null}function sa(){if($r!==null){var s=Rr(Ru),a=jn.transition,u=Fe;try{if(jn.transition=null,Fe=16>s?16:s,$r===null)var f=!1;else{if(s=$r,$r=null,Ru=0,Be&6)throw Error(t(331));var m=Be;for(Be|=4,he=s.current;he!==null;){var _=he,S=_.child;if(he.flags&16){var M=_.deletions;if(M!==null){for(var j=0;j<M.length;j++){var K=M[j];for(he=K;he!==null;){var ne=he;switch(ne.tag){case 0:case 11:case 15:xl(8,ne,_)}var re=ne.child;if(re!==null)re.return=ne,he=re;else for(;he!==null;){ne=he;var te=ne.sibling,ce=ne.return;if(w_(ne),ne===K){he=null;break}if(te!==null){te.return=ce,he=te;break}he=ce}}}var pe=_.alternate;if(pe!==null){var ge=pe.child;if(ge!==null){pe.child=null;do{var gt=ge.sibling;ge.sibling=null,ge=gt}while(ge!==null)}}he=_}}if(_.subtreeFlags&2064&&S!==null)S.return=_,he=S;else e:for(;he!==null;){if(_=he,_.flags&2048)switch(_.tag){case 0:case 11:case 15:xl(9,_,_.return)}var W=_.sibling;if(W!==null){W.return=_.return,he=W;break e}he=_.return}}var U=s.current;for(he=U;he!==null;){S=he;var q=S.child;if(S.subtreeFlags&2064&&q!==null)q.return=S,he=q;else e:for(S=U;he!==null;){if(M=he,M.flags&2048)try{switch(M.tag){case 0:case 11:case 15:Iu(9,M)}}catch(ye){ft(M,M.return,ye)}if(M===S){he=null;break e}var se=M.sibling;if(se!==null){se.return=M.return,he=se;break e}he=M.return}}if(Be=m,Fr(),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(Ds,s)}catch{}f=!0}return f}finally{Fe=u,jn.transition=a}}return!1}function L_(s,a,u){a=ta(u,a),a=e_(s,a,1),s=Ur(s,a,1),a=rn(),s!==null&&(Cr(s,1,a),pn(s,a))}function ft(s,a,u){if(s.tag===3)L_(s,s,u);else for(;a!==null;){if(a.tag===3){L_(a,s,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Br===null||!Br.has(f))){s=ta(u,s),s=t_(a,s,1),a=Ur(a,s,1),s=rn(),a!==null&&(Cr(a,1,s),pn(a,s));break}}a=a.return}}function iI(s,a,u){var f=s.pingCache;f!==null&&f.delete(a),a=rn(),s.pingedLanes|=s.suspendedLanes&u,Pt===s&&(Vt&u)===u&&(It===4||It===3&&(Vt&130023424)===Vt&&500>Je()-$f?Gs(s,0):Bf|=u),pn(s,a)}function V_(s,a){a===0&&(s.mode&1?(a=Co,Co<<=1,!(Co&130023424)&&(Co=4194304)):a=1);var u=rn();s=rr(s,a),s!==null&&(Cr(s,a,u),pn(s,u))}function rI(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),V_(s,u)}function sI(s,a){var u=0;switch(s.tag){case 13:var f=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(a),V_(s,u)}var F_;F_=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||un.current)dn=!0;else{if(!(s.lanes&u)&&!(a.flags&128))return dn=!1,qS(s,a,u);dn=!!(s.flags&131072)}else dn=!1,ot&&a.flags&1048576&&yy(a,lu,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;Tu(s,a),s=a.pendingProps;var m=Ko(a,Bt.current);Zo(a,u),m=wf(null,a,f,s,m,u);var _=Ef();return a.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,hn(f)?(_=!0,su(a)):_=!1,a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,ff(a),m.updater=Eu,a.stateNode=m,m._reactInternals=a,kf(a,f,s,u),a=Pf(null,a,f,!0,_,u)):(a.tag=0,ot&&_&&nf(a),nn(null,a,m,u),a=a.child),a;case 16:f=a.elementType;e:{switch(Tu(s,a),s=a.pendingProps,m=f._init,f=m(f._payload),a.type=f,m=a.tag=aI(f),s=ri(f,s),m){case 0:a=Rf(null,a,f,s,u);break e;case 1:a=u_(null,a,f,s,u);break e;case 11:a=s_(null,a,f,s,u);break e;case 14:a=o_(null,a,f,ri(f.type,s),u);break e}throw Error(t(306,f,""))}return a;case 0:return f=a.type,m=a.pendingProps,m=a.elementType===f?m:ri(f,m),Rf(s,a,f,m,u);case 1:return f=a.type,m=a.pendingProps,m=a.elementType===f?m:ri(f,m),u_(s,a,f,m,u);case 3:e:{if(h_(a),s===null)throw Error(t(387));f=a.pendingProps,_=a.memoizedState,m=_.element,by(s,a),pu(a,f,null,u);var S=a.memoizedState;if(f=S.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){m=ta(Error(t(423)),a),a=d_(s,a,f,u,m);break e}else if(f!==m){m=ta(Error(t(424)),a),a=d_(s,a,f,u,m);break e}else for(Cn=Or(a.stateNode.containerInfo.firstChild),kn=a,ot=!0,ii=null,u=Sy(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Yo(),f===m){a=or(s,a,u);break e}nn(s,a,f,u)}a=a.child}return a;case 5:return Ay(a),s===null&&of(a),f=a.type,m=a.pendingProps,_=s!==null?s.memoizedProps:null,S=m.children,Yd(f,m)?S=null:_!==null&&Yd(f,_)&&(a.flags|=32),c_(s,a),nn(s,a,S,u),a.child;case 6:return s===null&&of(a),null;case 13:return f_(s,a,u);case 4:return pf(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=Xo(a,null,f,u):nn(s,a,f,u),a.child;case 11:return f=a.type,m=a.pendingProps,m=a.elementType===f?m:ri(f,m),s_(s,a,f,m,u);case 7:return nn(s,a,a.pendingProps,u),a.child;case 8:return nn(s,a,a.pendingProps.children,u),a.child;case 12:return nn(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(f=a.type._context,m=a.pendingProps,_=a.memoizedProps,S=m.value,Ze(hu,f._currentValue),f._currentValue=S,_!==null)if(ni(_.value,S)){if(_.children===m.children&&!un.current){a=or(s,a,u);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var M=_.dependencies;if(M!==null){S=_.child;for(var j=M.firstContext;j!==null;){if(j.context===f){if(_.tag===1){j=sr(-1,u&-u),j.tag=2;var K=_.updateQueue;if(K!==null){K=K.shared;var ne=K.pending;ne===null?j.next=j:(j.next=ne.next,ne.next=j),K.pending=j}}_.lanes|=u,j=_.alternate,j!==null&&(j.lanes|=u),hf(_.return,u,a),M.lanes|=u;break}j=j.next}}else if(_.tag===10)S=_.type===a.type?null:_.child;else if(_.tag===18){if(S=_.return,S===null)throw Error(t(341));S.lanes|=u,M=S.alternate,M!==null&&(M.lanes|=u),hf(S,u,a),S=_.sibling}else S=_.child;if(S!==null)S.return=_;else for(S=_;S!==null;){if(S===a){S=null;break}if(_=S.sibling,_!==null){_.return=S.return,S=_;break}S=S.return}_=S}nn(s,a,m.children,u),a=a.child}return a;case 9:return m=a.type,f=a.pendingProps.children,Zo(a,u),m=Vn(m),f=f(m),a.flags|=1,nn(s,a,f,u),a.child;case 14:return f=a.type,m=ri(f,a.pendingProps),m=ri(f.type,m),o_(s,a,f,m,u);case 15:return a_(s,a,a.type,a.pendingProps,u);case 17:return f=a.type,m=a.pendingProps,m=a.elementType===f?m:ri(f,m),Tu(s,a),a.tag=1,hn(f)?(s=!0,su(a)):s=!1,Zo(a,u),Jy(a,f,m),kf(a,f,m,u),Pf(null,a,f,!0,s,u);case 19:return m_(s,a,u);case 22:return l_(s,a,u)}throw Error(t(156,a.tag))};function j_(s,a){return bo(s,a)}function oI(s,a,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(s,a,u,f){return new oI(s,a,u,f)}function Xf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function aI(s){if(typeof s=="function")return Xf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===Se)return 14}return 2}function qr(s,a){var u=s.alternate;return u===null?(u=Un(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Mu(s,a,u,f,m,_){var S=2;if(f=s,typeof s=="function")Xf(s)&&(S=1);else if(typeof s=="string")S=5;else e:switch(s){case R:return Ys(u.children,m,_,a);case C:S=8,m|=8;break;case P:return s=Un(12,u,a,m|2),s.elementType=P,s.lanes=_,s;case N:return s=Un(13,u,a,m),s.elementType=N,s.lanes=_,s;case Ne:return s=Un(19,u,a,m),s.elementType=Ne,s.lanes=_,s;case Ee:return Ou(u,m,_,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:S=10;break e;case L:S=9;break e;case F:S=11;break e;case Se:S=14;break e;case De:S=16,f=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=Un(S,u,a,m),a.elementType=s,a.type=f,a.lanes=_,a}function Ys(s,a,u,f){return s=Un(7,s,f,a),s.lanes=u,s}function Ou(s,a,u,f){return s=Un(22,s,f,a),s.elementType=Ee,s.lanes=u,s.stateNode={isHidden:!1},s}function Jf(s,a,u){return s=Un(6,s,null,a),s.lanes=u,s}function Zf(s,a,u){return a=Un(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function lI(s,a,u,f,m){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kr(0),this.expirationTimes=kr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kr(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function ep(s,a,u,f,m,_,S,M,j){return s=new lI(s,a,u,M,j),a===1?(a=1,_===!0&&(a|=8)):a=0,_=Un(3,null,null,a),s.current=_,_.stateNode=s,_.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},ff(_),s}function cI(s,a,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:f==null?null:""+f,children:s,containerInfo:a,implementation:u}}function U_(s){if(!s)return Vr;s=s._reactInternals;e:{if(Qn(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(hn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(hn(u))return py(s,u,a)}return a}function z_(s,a,u,f,m,_,S,M,j){return s=ep(u,f,!0,s,m,_,S,M,j),s.context=U_(null),u=s.current,f=rn(),m=Hr(u),_=sr(f,m),_.callback=a??null,Ur(u,_,m),s.current.lanes=m,Cr(s,m,f),pn(s,f),s}function Lu(s,a,u,f){var m=a.current,_=rn(),S=Hr(m);return u=U_(u),a.context===null?a.context=u:a.pendingContext=u,a=sr(_,S),a.payload={element:s},f=f===void 0?null:f,f!==null&&(a.callback=f),s=Ur(m,a,S),s!==null&&(ai(s,m,S,_),fu(s,m,S)),S}function Vu(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function B_(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function tp(s,a){B_(s,a),(s=s.alternate)&&B_(s,a)}var $_=typeof reportError=="function"?reportError:function(s){console.error(s)};function np(s){this._internalRoot=s}Fu.prototype.render=np.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));Lu(s,a,null,null)},Fu.prototype.unmount=np.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Ks(function(){Lu(null,s,null,null)}),a[er]=null}};function Fu(s){this._internalRoot=s}Fu.prototype.unstable_scheduleHydration=function(s){if(s){var a=Fc();s={blockedOn:null,target:s,priority:a};for(var u=0;u<wi.length&&a!==0&&a<wi[u].priority;u++);wi.splice(u,0,s),u===0&&zc(s)}};function ip(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function ju(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function H_(){}function uI(s,a,u,f,m){if(m){if(typeof f=="function"){var _=f;f=function(){var K=Vu(S);_.call(K)}}var S=z_(a,f,s,0,null,!1,!1,"",H_);return s._reactRootContainer=S,s[er]=S.current,cl(s.nodeType===8?s.parentNode:s),Ks(),S}for(;m=s.lastChild;)s.removeChild(m);if(typeof f=="function"){var M=f;f=function(){var K=Vu(j);M.call(K)}}var j=ep(s,0,!1,null,null,!1,!1,"",H_);return s._reactRootContainer=j,s[er]=j.current,cl(s.nodeType===8?s.parentNode:s),Ks(function(){Lu(a,j,u,f)}),j}function Uu(s,a,u,f,m){var _=u._reactRootContainer;if(_){var S=_;if(typeof m=="function"){var M=m;m=function(){var j=Vu(S);M.call(j)}}Lu(a,S,s,m)}else S=uI(u,a,s,m,f);return Vu(S)}Lc=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=br(a.pendingLanes);u!==0&&(Ar(a,u|1),pn(a,Je()),!(Be&6)&&(ra=Je()+500,Fr()))}break;case 13:Ks(function(){var f=rr(s,1);if(f!==null){var m=rn();ai(f,s,1,m)}}),tp(s,1)}},Ao=function(s){if(s.tag===13){var a=rr(s,134217728);if(a!==null){var u=rn();ai(a,s,134217728,u)}tp(s,134217728)}},Vc=function(s){if(s.tag===13){var a=Hr(s),u=rr(s,a);if(u!==null){var f=rn();ai(u,s,a,f)}tp(s,a)}},Fc=function(){return Fe},jc=function(s,a){var u=Fe;try{return Fe=s,a()}finally{Fe=u}},wo=function(s,a,u){switch(a){case"input":if(Ts(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==s&&f.form===s.form){var m=iu(f);if(!m)throw Error(t(90));Hi(f),Ts(f,m)}}}break;case"textarea":Sr(s,u);break;case"select":a=u.value,a!=null&&xn(s,!!u.multiple,a,!1)}},ks=Gf,Ha=Ks;var hI={usingClientEntryPoint:!1,Events:[dl,Wo,iu,_i,$a,Gf]},bl={findFiberByHostInstance:js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dI={bundleType:bl.bundleType,version:bl.version,rendererPackageName:bl.rendererPackageName,rendererConfig:bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ka(s),s===null?null:s.stateNode},findFiberByHostInstance:bl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zu.isDisabled&&zu.supportsFiber)try{Ds=zu.inject(dI),Tn=zu}catch{}}return mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hI,mn.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ip(a))throw Error(t(200));return cI(s,a,null,u)},mn.createRoot=function(s,a){if(!ip(s))throw Error(t(299));var u=!1,f="",m=$_;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(m=a.onRecoverableError)),a=ep(s,1,!1,null,null,u,!1,f,m),s[er]=a.current,cl(s.nodeType===8?s.parentNode:s),new np(a)},mn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Ka(a),s=s===null?null:s.stateNode,s},mn.flushSync=function(s){return Ks(s)},mn.hydrate=function(s,a,u){if(!ju(a))throw Error(t(200));return Uu(null,s,a,!0,u)},mn.hydrateRoot=function(s,a,u){if(!ip(s))throw Error(t(405));var f=u!=null&&u.hydratedSources||null,m=!1,_="",S=$_;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),a=z_(a,null,s,1,u??null,m,!1,_,S),s[er]=a.current,cl(s),f)for(s=0;s<f.length;s++)u=f[s],m=u._getVersion,m=m(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,m]:a.mutableSourceEagerHydrationData.push(u,m);return new Fu(a)},mn.render=function(s,a,u){if(!ju(a))throw Error(t(200));return Uu(null,s,a,!1,u)},mn.unmountComponentAtNode=function(s){if(!ju(s))throw Error(t(40));return s._reactRootContainer?(Ks(function(){Uu(null,null,s,!1,function(){s._reactRootContainer=null,s[er]=null})}),!0):!1},mn.unstable_batchedUpdates=Gf,mn.unstable_renderSubtreeIntoContainer=function(s,a,u,f){if(!ju(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Uu(s,a,u,!1,f)},mn.version="18.3.1-next-f1338f8080-20240426",mn}var J_;function xI(){if(J_)return op.exports;J_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),op.exports=EI(),op.exports}var Z_;function TI(){if(Z_)return Bu;Z_=1;var n=xI();return Bu.createRoot=n.createRoot,Bu.hydrateRoot=n.hydrateRoot,Bu}var SI=TI();const II=jw(SI);var Cl={},ev;function bI(){if(ev)return Cl;ev=1,Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.parse=l,Cl.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function l(w,T){const I=new o,A=w.length;if(A<2)return I;const b=(T==null?void 0:T.decode)||g;let D=0;do{const V=w.indexOf("=",D);if(V===-1)break;const $=w.indexOf(";",D),G=$===-1?A:$;if(V>G){D=w.lastIndexOf(";",V-1)+1;continue}const Y=c(w,D,V),J=h(w,V,Y),R=w.slice(Y,J);if(I[R]===void 0){let C=c(w,V+1,G),P=h(w,G,C);const O=b(w.slice(C,P));I[R]=O}D=G+1}while(D<A);return I}function c(w,T,I){do{const A=w.charCodeAt(T);if(A!==32&&A!==9)return T}while(++T<I);return I}function h(w,T,I){for(;T>I;){const A=w.charCodeAt(--T);if(A!==32&&A!==9)return T+1}return I}function p(w,T,I){const A=(I==null?void 0:I.encode)||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const b=A(T);if(!e.test(b))throw new TypeError(`argument val is invalid: ${T}`);let D=w+"="+b;if(!I)return D;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);D+="; Max-Age="+I.maxAge}if(I.domain){if(!t.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);D+="; Domain="+I.domain}if(I.path){if(!i.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);D+="; Path="+I.path}if(I.expires){if(!v(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);D+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(D+="; HttpOnly"),I.secure&&(D+="; Secure"),I.partitioned&&(D+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return D}function g(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function v(w){return r.call(w)==="[object Date]"}return Cl}bI();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var tv="popstate";function kI(n={}){function e(i,r){let{pathname:o,search:l,hash:c}=i.location;return Fp("",{pathname:o,search:l,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Xl(r)}return AI(e,t,null,n)}function ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Li(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CI(){return Math.random().toString(36).substring(2,10)}function nv(n,e){return{usr:n.state,key:n.key,idx:e}}function Fp(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ra(e):e,state:t,key:e&&e.key||i||CI()}}function Xl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ra(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function AI(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,l=r.history,c="POP",h=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function v(){c="POP";let b=g(),D=b==null?null:b-p;p=b,h&&h({action:c,location:A.location,delta:D})}function w(b,D){c="PUSH";let V=Fp(A.location,b,D);p=g()+1;let $=nv(V,p),G=A.createHref(V);try{l.pushState($,"",G)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;r.location.assign(G)}o&&h&&h({action:c,location:A.location,delta:1})}function T(b,D){c="REPLACE";let V=Fp(A.location,b,D);p=g();let $=nv(V,p),G=A.createHref(V);l.replaceState($,"",G),o&&h&&h({action:c,location:A.location,delta:0})}function I(b){let D=r.location.origin!=="null"?r.location.origin:r.location.href,V=typeof b=="string"?b:Xl(b);return V=V.replace(/ $/,"%20"),ct(D,`No window.location.(origin|href) available to create URL for href: ${V}`),new URL(V,D)}let A={get action(){return c},get location(){return n(r,l)},listen(b){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(tv,v),h=b,()=>{r.removeEventListener(tv,v),h=null}},createHref(b){return e(r,b)},createURL:I,encodeLocation(b){let D=I(b);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:w,replace:T,go(b){return l.go(b)}};return A}function zw(n,e,t="/"){return RI(n,e,t,!1)}function RI(n,e,t,i){let r=typeof e=="string"?Ra(e):e,o=hs(r.pathname||"/",t);if(o==null)return null;let l=Bw(n);PI(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let p=BI(o);c=UI(l[h],p,i)}return c}function Bw(n,e=[],t=[],i=""){let r=(o,l,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(ct(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let p=mr([i,h.relativePath]),g=t.concat(h);o.children&&o.children.length>0&&(ct(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Bw(o.children,e,g,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:FI(p,o.index),routesMeta:g})};return n.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))r(o,l);else for(let h of $w(o.path))r(o,l,h)}),e}function $w(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let l=$w(i.join("/")),c=[];return c.push(...l.map(h=>h===""?o:[o,h].join("/"))),r&&c.push(...l),c.map(h=>n.startsWith("/")&&h===""?"/":h)}function PI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:jI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var DI=/^:[\w-]+$/,NI=3,MI=2,OI=1,LI=10,VI=-2,iv=n=>n==="*";function FI(n,e){let t=n.split("/"),i=t.length;return t.some(iv)&&(i+=VI),e&&(i+=MI),t.filter(r=>!iv(r)).reduce((r,o)=>r+(DI.test(o)?NI:o===""?OI:LI),i)}function jI(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function UI(n,e,t=!1){let{routesMeta:i}=n,r={},o="/",l=[];for(let c=0;c<i.length;++c){let h=i[c],p=c===i.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=kh({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),w=h.route;if(!v&&p&&t&&!i[i.length-1].route.index&&(v=kh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!v)return null;Object.assign(r,v.params),l.push({params:r,pathname:mr([o,v.pathname]),pathnameBase:qI(mr([o,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(o=mr([o,v.pathnameBase]))}return l}function kh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=zI(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:i.reduce((p,{paramName:g,isOptional:v},w)=>{if(g==="*"){let I=c[w]||"";l=o.slice(0,o.length-I.length).replace(/(.)\/+$/,"$1")}const T=c[w];return v&&!T?p[g]=void 0:p[g]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:n}}function zI(n,e=!1,t=!0){Li(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function BI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Li(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function hs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function $I(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Ra(n):n;return{pathname:t?t.startsWith("/")?t:HI(t,e):e,search:KI(i),hash:GI(r)}}function HI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function cp(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Hw(n){let e=WI(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Ww(n,e,t,i=!1){let r;typeof n=="string"?r=Ra(n):(r={...n},ct(!r.pathname||!r.pathname.includes("?"),cp("?","pathname","search",r)),ct(!r.pathname||!r.pathname.includes("#"),cp("#","pathname","hash",r)),ct(!r.search||!r.search.includes("#"),cp("#","search","hash",r)));let o=n===""||r.pathname==="",l=o?"/":r.pathname,c;if(l==null)c=t;else{let v=e.length-1;if(!i&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),v-=1;r.pathname=w.join("/")}c=v>=0?e[v]:"/"}let h=$I(r,c),p=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var mr=n=>n.join("/").replace(/\/\/+/g,"/"),qI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),KI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,GI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function QI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var qw=["POST","PUT","PATCH","DELETE"];new Set(qw);var YI=["GET",...qw];new Set(YI);var Pa=z.createContext(null);Pa.displayName="DataRouter";var td=z.createContext(null);td.displayName="DataRouterState";var Kw=z.createContext({isTransitioning:!1});Kw.displayName="ViewTransition";var XI=z.createContext(new Map);XI.displayName="Fetchers";var JI=z.createContext(null);JI.displayName="Await";var Ui=z.createContext(null);Ui.displayName="Navigation";var hc=z.createContext(null);hc.displayName="Location";var zi=z.createContext({outlet:null,matches:[],isDataRoute:!1});zi.displayName="Route";var Em=z.createContext(null);Em.displayName="RouteError";function ZI(n,{relative:e}={}){ct(dc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=z.useContext(Ui),{hash:r,pathname:o,search:l}=pc(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:mr([t,o])),i.createHref({pathname:c,search:l,hash:r})}function dc(){return z.useContext(hc)!=null}function fo(){return ct(dc(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(hc).location}var Gw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qw(n){z.useContext(Ui).static||z.useLayoutEffect(n)}function fc(){let{isDataRoute:n}=z.useContext(zi);return n?f1():e1()}function e1(){ct(dc(),"useNavigate() may be used only in the context of a <Router> component.");let n=z.useContext(Pa),{basename:e,navigator:t}=z.useContext(Ui),{matches:i}=z.useContext(zi),{pathname:r}=fo(),o=JSON.stringify(Hw(i)),l=z.useRef(!1);return Qw(()=>{l.current=!0}),z.useCallback((h,p={})=>{if(Li(l.current,Gw),!l.current)return;if(typeof h=="number"){t.go(h);return}let g=Ww(h,JSON.parse(o),r,p.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:mr([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,o,r,n])}z.createContext(null);function t1(){let{matches:n}=z.useContext(zi),e=n[n.length-1];return e?e.params:{}}function pc(n,{relative:e}={}){let{matches:t}=z.useContext(zi),{pathname:i}=fo(),r=JSON.stringify(Hw(t));return z.useMemo(()=>Ww(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function n1(n,e){return Yw(n,e)}function Yw(n,e,t,i){var D;ct(dc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=z.useContext(Ui),{matches:o}=z.useContext(zi),l=o[o.length-1],c=l?l.params:{},h=l?l.pathname:"/",p=l?l.pathnameBase:"/",g=l&&l.route;{let V=g&&g.path||"";Xw(h,!g||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let v=fo(),w;if(e){let V=typeof e=="string"?Ra(e):e;ct(p==="/"||((D=V.pathname)==null?void 0:D.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${V.pathname}" was given in the \`location\` prop.`),w=V}else w=v;let T=w.pathname||"/",I=T;if(p!=="/"){let V=p.replace(/^\//,"").split("/");I="/"+T.replace(/^\//,"").split("/").slice(V.length).join("/")}let A=zw(n,{pathname:I});Li(g||A!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Li(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=a1(A&&A.map(V=>Object.assign({},V,{params:Object.assign({},c,V.params),pathname:mr([p,r.encodeLocation?r.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?p:mr([p,r.encodeLocation?r.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),o,t,i);return e&&b?z.createElement(hc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},b):b}function i1(){let n=d1(),e=QI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:o},"ErrorBoundary")," or"," ",z.createElement("code",{style:o},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:r},t):null,l)}var r1=z.createElement(i1,null),s1=class extends z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?z.createElement(zi.Provider,{value:this.props.routeContext},z.createElement(Em.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function o1({routeContext:n,match:e,children:t}){let i=z.useContext(Pa);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(zi.Provider,{value:n},t)}function a1(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,o=t==null?void 0:t.errors;if(o!=null){let h=r.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);ct(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,h+1))}let l=!1,c=-1;if(t)for(let h=0;h<r.length;h++){let p=r[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:g,errors:v}=t,w=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||w){l=!0,c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}return r.reduceRight((h,p,g)=>{let v,w=!1,T=null,I=null;t&&(v=o&&p.route.id?o[p.route.id]:void 0,T=p.route.errorElement||r1,l&&(c<0&&g===0?(Xw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,I=null):c===g&&(w=!0,I=p.route.hydrateFallbackElement||null)));let A=e.concat(r.slice(0,g+1)),b=()=>{let D;return v?D=T:w?D=I:p.route.Component?D=z.createElement(p.route.Component,null):p.route.element?D=p.route.element:D=h,z.createElement(o1,{match:p,routeContext:{outlet:h,matches:A,isDataRoute:t!=null},children:D})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?z.createElement(s1,{location:t.location,revalidation:t.revalidation,component:T,error:v,children:b(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):b()},null)}function xm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l1(n){let e=z.useContext(Pa);return ct(e,xm(n)),e}function c1(n){let e=z.useContext(td);return ct(e,xm(n)),e}function u1(n){let e=z.useContext(zi);return ct(e,xm(n)),e}function Tm(n){let e=u1(n),t=e.matches[e.matches.length-1];return ct(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function h1(){return Tm("useRouteId")}function d1(){var i;let n=z.useContext(Em),e=c1("useRouteError"),t=Tm("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function f1(){let{router:n}=l1("useNavigate"),e=Tm("useNavigate"),t=z.useRef(!1);return Qw(()=>{t.current=!0}),z.useCallback(async(r,o={})=>{Li(t.current,Gw),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...o}))},[n,e])}var rv={};function Xw(n,e,t){!e&&!rv[n]&&(rv[n]=!0,Li(!1,t))}z.memo(p1);function p1({routes:n,future:e,state:t}){return Yw(n,void 0,t,e)}function Yr(n){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function m1({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:o=!1}){ct(!dc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=z.useMemo(()=>({basename:l,navigator:r,static:o,future:{}}),[l,r,o]);typeof t=="string"&&(t=Ra(t));let{pathname:h="/",search:p="",hash:g="",state:v=null,key:w="default"}=t,T=z.useMemo(()=>{let I=hs(h,l);return I==null?null:{location:{pathname:I,search:p,hash:g,state:v,key:w},navigationType:i}},[l,h,p,g,v,w,i]);return Li(T!=null,`<Router basename="${l}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:z.createElement(Ui.Provider,{value:c},z.createElement(hc.Provider,{children:e,value:T}))}function g1({children:n,location:e}){return n1(jp(n),e)}function jp(n,e=[]){let t=[];return z.Children.forEach(n,(i,r)=>{if(!z.isValidElement(i))return;let o=[...e,r];if(i.type===z.Fragment){t.push.apply(t,jp(i.props.children,o));return}ct(i.type===Yr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=jp(i.props.children,o)),t.push(l)}),t}var uh="get",hh="application/x-www-form-urlencoded";function nd(n){return n!=null&&typeof n.tagName=="string"}function y1(n){return nd(n)&&n.tagName.toLowerCase()==="button"}function _1(n){return nd(n)&&n.tagName.toLowerCase()==="form"}function v1(n){return nd(n)&&n.tagName.toLowerCase()==="input"}function w1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function E1(n,e){return n.button===0&&(!e||e==="_self")&&!w1(n)}var $u=null;function x1(){if($u===null)try{new FormData(document.createElement("form"),0),$u=!1}catch{$u=!0}return $u}var T1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function up(n){return n!=null&&!T1.has(n)?(Li(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hh}"`),null):n}function S1(n,e){let t,i,r,o,l;if(_1(n)){let c=n.getAttribute("action");i=c?hs(c,e):null,t=n.getAttribute("method")||uh,r=up(n.getAttribute("enctype"))||hh,o=new FormData(n)}else if(y1(n)||v1(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||c.getAttribute("action");if(i=h?hs(h,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||uh,r=up(n.getAttribute("formenctype"))||up(c.getAttribute("enctype"))||hh,o=new FormData(c,n),!x1()){let{name:p,type:g,value:v}=n;if(g==="image"){let w=p?`${p}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else p&&o.append(p,v)}}else{if(nd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=uh,i=null,r=hh,l=n}return o&&r==="text/plain"&&(l=o,o=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:o,body:l}}function Sm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function I1(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function b1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function k1(n,e,t){let i=await Promise.all(n.map(async r=>{let o=e.routes[r.route.id];if(o){let l=await I1(o,t);return l.links?l.links():[]}return[]}));return P1(i.flat(1).filter(b1).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function sv(n,e,t,i,r,o){let l=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,c=(h,p)=>{var g;return t[p].pathname!==h.pathname||((g=t[p].route.path)==null?void 0:g.endsWith("*"))&&t[p].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,p)=>l(h,p)||c(h,p)):o==="data"?e.filter((h,p)=>{var v;let g=i.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,p)||c(h,p))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function C1(n,e){return A1(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let r=[i.module];return i.imports&&(r=r.concat(i.imports)),r}).flat(1))}function A1(n){return[...new Set(n)]}function R1(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function P1(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let o=JSON.stringify(R1(r));return t.has(o)||(t.add(o),i.push({key:o,link:r})),i},[])}function D1(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function N1(){let n=z.useContext(Pa);return Sm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function M1(){let n=z.useContext(td);return Sm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Im=z.createContext(void 0);Im.displayName="FrameworkContext";function Jw(){let n=z.useContext(Im);return Sm(n,"You must render this element inside a <HydratedRouter> element"),n}function O1(n,e){let t=z.useContext(Im),[i,r]=z.useState(!1),[o,l]=z.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=e,w=z.useRef(null);z.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let A=D=>{D.forEach(V=>{l(V.isIntersecting)})},b=new IntersectionObserver(A,{threshold:.5});return w.current&&b.observe(w.current),()=>{b.disconnect()}}},[n]),z.useEffect(()=>{if(i){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[i]);let T=()=>{r(!0)},I=()=>{r(!1),l(!1)};return t?n!=="intent"?[o,w,{}]:[o,w,{onFocus:Al(c,T),onBlur:Al(h,I),onMouseEnter:Al(p,T),onMouseLeave:Al(g,I),onTouchStart:Al(v,T)}]:[!1,w,{}]}function Al(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function L1({page:n,...e}){let{router:t}=N1(),i=z.useMemo(()=>zw(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?z.createElement(F1,{page:n,matches:i,...e}):null}function V1(n){let{manifest:e,routeModules:t}=Jw(),[i,r]=z.useState([]);return z.useEffect(()=>{let o=!1;return k1(n,e,t).then(l=>{o||r(l)}),()=>{o=!0}},[n,e,t]),i}function F1({page:n,matches:e,...t}){let i=fo(),{manifest:r,routeModules:o}=Jw(),{loaderData:l,matches:c}=M1(),h=z.useMemo(()=>sv(n,e,c,r,i,"data"),[n,e,c,r,i]),p=z.useMemo(()=>sv(n,e,c,r,i,"assets"),[n,e,c,r,i]),g=z.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let T=new Set,I=!1;if(e.forEach(b=>{var V;let D=r.routes[b.route.id];!D||!D.hasLoader||(!h.some($=>$.route.id===b.route.id)&&b.route.id in l&&((V=o[b.route.id])!=null&&V.shouldRevalidate)||D.hasClientLoader?I=!0:T.add(b.route.id))}),T.size===0)return[];let A=D1(n);return I&&T.size>0&&A.searchParams.set("_routes",e.filter(b=>T.has(b.route.id)).map(b=>b.route.id).join(",")),[A.pathname+A.search]},[l,i,r,h,e,n,o]),v=z.useMemo(()=>C1(p,r),[p,r]),w=V1(p);return z.createElement(z.Fragment,null,g.map(T=>z.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),v.map(T=>z.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),w.map(({key:T,link:I})=>z.createElement("link",{key:T,...I})))}function j1(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Zw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Zw&&(window.__reactRouterVersion="7.1.1")}catch{}function U1({basename:n,children:e,window:t}){let i=z.useRef();i.current==null&&(i.current=kI({window:t,v5Compat:!0}));let r=i.current,[o,l]=z.useState({action:r.action,location:r.location}),c=z.useCallback(h=>{z.startTransition(()=>l(h))},[l]);return z.useLayoutEffect(()=>r.listen(c),[r,c]),z.createElement(m1,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:r})}var eE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tE=z.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:o,replace:l,state:c,target:h,to:p,preventScrollReset:g,viewTransition:v,...w},T){let{basename:I}=z.useContext(Ui),A=typeof p=="string"&&eE.test(p),b,D=!1;if(typeof p=="string"&&A&&(b=p,Zw))try{let P=new URL(window.location.href),O=p.startsWith("//")?new URL(P.protocol+p):new URL(p),L=hs(O.pathname,I);O.origin===P.origin&&L!=null?p=L+O.search+O.hash:D=!0}catch{Li(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=ZI(p,{relative:r}),[$,G,Y]=O1(i,w),J=H1(p,{replace:l,state:c,target:h,preventScrollReset:g,relative:r,viewTransition:v});function R(P){e&&e(P),P.defaultPrevented||J(P)}let C=z.createElement("a",{...w,...Y,href:b||V,onClick:D||o?e:R,ref:j1(T,G),target:h,"data-discover":!A&&t==="render"?"true":void 0});return $&&!A?z.createElement(z.Fragment,null,C,z.createElement(L1,{page:V})):C});tE.displayName="Link";var z1=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:o,to:l,viewTransition:c,children:h,...p},g){let v=pc(l,{relative:p.relative}),w=fo(),T=z.useContext(td),{navigator:I,basename:A}=z.useContext(Ui),b=T!=null&&Q1(v)&&c===!0,D=I.encodeLocation?I.encodeLocation(v).pathname:v.pathname,V=w.pathname,$=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(V=V.toLowerCase(),$=$?$.toLowerCase():null,D=D.toLowerCase()),$&&A&&($=hs($,A)||$);const G=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let Y=V===D||!r&&V.startsWith(D)&&V.charAt(G)==="/",J=$!=null&&($===D||!r&&$.startsWith(D)&&$.charAt(D.length)==="/"),R={isActive:Y,isPending:J,isTransitioning:b},C=Y?e:void 0,P;typeof i=="function"?P=i(R):P=[i,Y?"active":null,J?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let O=typeof o=="function"?o(R):o;return z.createElement(tE,{...p,"aria-current":C,className:P,ref:g,style:O,to:l,viewTransition:c},typeof h=="function"?h(R):h)});z1.displayName="NavLink";var B1=z.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:o,method:l=uh,action:c,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:v,...w},T)=>{let I=K1(),A=G1(c,{relative:p}),b=l.toLowerCase()==="get"?"get":"post",D=typeof c=="string"&&eE.test(c),V=$=>{if(h&&h($),$.defaultPrevented)return;$.preventDefault();let G=$.nativeEvent.submitter,Y=(G==null?void 0:G.getAttribute("formmethod"))||l;I(G||$.currentTarget,{fetcherKey:e,method:Y,navigate:t,replace:r,state:o,relative:p,preventScrollReset:g,viewTransition:v})};return z.createElement("form",{ref:T,method:b,action:A,onSubmit:i?h:V,...w,"data-discover":!D&&n==="render"?"true":void 0})});B1.displayName="Form";function $1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nE(n){let e=z.useContext(Pa);return ct(e,$1(n)),e}function H1(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:o,viewTransition:l}={}){let c=fc(),h=fo(),p=pc(n,{relative:o});return z.useCallback(g=>{if(E1(g,e)){g.preventDefault();let v=t!==void 0?t:Xl(h)===Xl(p);c(n,{replace:v,state:i,preventScrollReset:r,relative:o,viewTransition:l})}},[h,c,p,t,i,e,n,r,o,l])}var W1=0,q1=()=>`__${String(++W1)}__`;function K1(){let{router:n}=nE("useSubmit"),{basename:e}=z.useContext(Ui),t=h1();return z.useCallback(async(i,r={})=>{let{action:o,method:l,encType:c,formData:h,body:p}=S1(i,e);if(r.navigate===!1){let g=r.fetcherKey||q1();await n.fetch(g,t,r.action||o,{preventScrollReset:r.preventScrollReset,formData:h,body:p,formMethod:r.method||l,formEncType:r.encType||c,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:h,body:p,formMethod:r.method||l,formEncType:r.encType||c,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function G1(n,{relative:e}={}){let{basename:t}=z.useContext(Ui),i=z.useContext(zi);ct(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...pc(n||".",{relative:e})},l=fo();if(n==null){o.search=l.search;let c=new URLSearchParams(o.search),h=c.getAll("index");if(h.some(g=>g==="")){c.delete("index"),h.filter(v=>v).forEach(v=>c.append("index",v));let g=c.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:mr([t,o.pathname])),Xl(o)}function Q1(n,e={}){let t=z.useContext(Kw);ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=nE("useViewTransitionState"),r=pc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=hs(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=hs(t.nextLocation.pathname,i)||t.nextLocation.pathname;return kh(r.pathname,l)!=null||kh(r.pathname,o)!=null}new TextEncoder;const hp="https://laurapena290805.github.io/FuncionalSport/assets/Imagen1-CVxPOlU2.jpg",dp="https://laurapena290805.github.io/FuncionalSport/assets/Image2-n-BJW6ax.jpg",fp="https://laurapena290805.github.io/FuncionalSport/assets/Imagen3-D3UvrGmH.jpg";function Y1(){const n=fc(),e=()=>{n("/login")};return x.jsxs("div",{className:"home-container",children:[x.jsxs("header",{className:"header",children:[x.jsx("h1",{className:"header-title",children:"Funcional Sport"}),x.jsx("button",{className:"login-button",onClick:e,children:"Iniciar Sesión"})]}),x.jsxs("main",{className:"main-content",children:[x.jsxs("section",{className:"intro-section",children:[x.jsx("h2",{className:"intro-title",children:"Entrenamiento que transforma"}),x.jsx("p",{className:"intro-text",children:"Logra tus objetivos físicos con nuestros programas adaptados. Desde mejorar tu marca en carreras hasta perder peso o ganar masa muscular."})]}),x.jsxs("section",{className:"feature-section",children:[x.jsxs("div",{className:"feature",children:[x.jsx("img",{src:hp,alt:"Running",className:"feature-image"}),x.jsxs("div",{className:"feature-text",children:[x.jsx("h3",{children:"Running Performance"}),x.jsx("p",{children:"Mejora tu técnica, resistencia y velocidad con entrenamientos diseñados para corredores de todos los niveles."})]})]}),x.jsxs("div",{className:"feature",children:[x.jsx("img",{src:dp,alt:"Pérdida de Peso",className:"feature-image"}),x.jsxs("div",{className:"feature-text",children:[x.jsx("h3",{children:"Pérdida de Peso"}),x.jsx("p",{children:"Un enfoque integral que combina entrenamiento funcional y nutrición para ayudarte a alcanzar un peso saludable."})]})]}),x.jsxs("div",{className:"feature",children:[x.jsx("img",{src:fp,alt:"Masa Muscular",className:"feature-image"}),x.jsxs("div",{className:"feature-text",children:[x.jsx("h3",{children:"Aumento de Masa Muscular"}),x.jsx("p",{children:"Entrenamientos efectivos que maximizan el desarrollo muscular y aumentan tu fuerza de manera progresiva."})]})]})]}),x.jsx("section",{className:"new-feature-section",children:x.jsxs("div",{className:"new-feature",children:[x.jsxs("div",{className:"feature-text",children:[x.jsx("h3",{children:"Zona de Pesas"}),x.jsx("p",{children:"La zona de pesas está equipada con lo último en maquinaria para fuerza, ideal para aumentar tu masa muscular, mejorar tu fuerza general y tonificar el cuerpo. ¡Aumenta tus marcas con entrenamientos personalizados!"})]}),x.jsx("img",{src:hp,alt:"Zona de Pesas",className:"feature-image"})]})}),x.jsx("section",{className:"new-feature-section",children:x.jsxs("div",{className:"new-feature",children:[x.jsx("img",{src:dp,alt:"Zona Cardio",className:"feature-image"}),x.jsxs("div",{className:"feature-text",children:[x.jsx("h3",{children:"Zona Cardio"}),x.jsx("p",{children:"Con equipos de última tecnología, la zona de cardio te ayuda a mejorar tu resistencia cardiovascular, quemar calorías y aumentar tu energía. ¡Es perfecta para sesiones de running, ciclismo o entrenamiento en intervalos!"})]})]})}),x.jsx("section",{className:"new-feature-section",children:x.jsxs("div",{className:"new-feature",children:[x.jsxs("div",{className:"feature-text",children:[x.jsx("h3",{children:"Trampolin"}),x.jsx("p",{children:"El sauna es ideal para la recuperación muscular y la relajación. Ayuda a reducir el estrés, mejorar la circulación y aliviar dolores musculares. ¡La opción perfecta después de un entrenamiento intenso!"})]}),x.jsx("img",{src:fp,alt:"Sauna",className:"feature-image"})]})}),x.jsxs("section",{className:"trainers-section",children:[x.jsx("h2",{className:"trainers-title",children:"Conoce a Nuestros Entrenadores"}),x.jsxs("div",{className:"trainers-container",children:[x.jsx("div",{className:"trainer-card",children:x.jsxs("div",{className:"trainer-card-inner",children:[x.jsx("div",{className:"trainer-card-front",children:x.jsx("img",{src:hp,alt:"Entrenador 1"})}),x.jsxs("div",{className:"trainer-card-back",children:[x.jsx("h3",{children:"Juan Pérez"}),x.jsx("p",{children:"Especialista en entrenamiento funcional y running. Más de 10 años de experiencia."})]})]})}),x.jsx("div",{className:"trainer-card",children:x.jsxs("div",{className:"trainer-card-inner",children:[x.jsx("div",{className:"trainer-card-front",children:x.jsx("img",{src:dp,alt:"Entrenador 2"})}),x.jsxs("div",{className:"trainer-card-back",children:[x.jsx("h3",{children:"María Gómez"}),x.jsx("p",{children:"Experta en pérdida de peso y entrenamiento de fuerza. Certificación internacional."})]})]})}),x.jsx("div",{className:"trainer-card",children:x.jsxs("div",{className:"trainer-card-inner",children:[x.jsx("div",{className:"trainer-card-front",children:x.jsx("img",{src:fp,alt:"Entrenador 3"})}),x.jsxs("div",{className:"trainer-card-back",children:[x.jsx("h3",{children:"Pedro López"}),x.jsx("p",{children:"Preparador físico para triatlones y competencias de resistencia. Entrenador de élite."})]})]})})]})]})]}),x.jsx("footer",{className:"footer",children:x.jsx("p",{children:"© 2025 Funcional Sport. Todos los derechos reservados."})})]})}var ov={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},X1=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[t++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[t++],l=n[t++],c=n[t++],h=((r&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],l=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|l&63)}}return e.join("")},rE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],l=r+1<n.length,c=l?n[r+1]:0,h=r+2<n.length,p=h?n[r+2]:0,g=o>>2,v=(o&3)<<4|c>>4;let w=(c&15)<<2|p>>6,T=p&63;h||(T=64,l||(w=64)),i.push(t[g],t[v],t[w],t[T])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(iE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):X1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=t[n.charAt(r++)],c=r<n.length?t[n.charAt(r)]:0;++r;const p=r<n.length?t[n.charAt(r)]:64;++r;const v=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||c==null||p==null||v==null)throw new J1;const w=o<<2|c>>4;if(i.push(w),p!==64){const T=c<<4&240|p>>2;if(i.push(T),v!==64){const I=p<<6&192|v;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class J1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Z1=function(n){const e=iE(n);return rE.encodeByteArray(e,!0)},Ch=function(n){return Z1(n).replace(/\./g,"")},sE=function(n){try{return rE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=()=>eb().__FIREBASE_DEFAULTS__,nb=()=>{if(typeof process>"u"||typeof ov>"u")return;const n=ov.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ib=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&sE(n[1]);return e&&JSON.parse(e)},id=()=>{try{return tb()||nb()||ib()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},oE=n=>{var e,t;return(t=(e=id())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},aE=n=>{const e=oE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},lE=()=>{var n;return(n=id())===null||n===void 0?void 0:n.config},cE=n=>{var e;return(e=id())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ch(JSON.stringify(t)),Ch(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function ob(){var n;const e=(n=id())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ab(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lb(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function cb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ub(){const n=Jt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function hb(){return!ob()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function db(){try{return typeof indexedDB=="object"}catch{return!1}}function fb(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="FirebaseError";class Bi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=pb,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mc.prototype.create)}}class mc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],l=o?mb(o,i):"Error",c=`${this.serviceName}: ${l} (${r}).`;return new Bi(r,c,i)}}function mb(n,e){return n.replace(gb,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const gb=/\{\$([^}]+)}/g;function yb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Jl(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const o=n[r],l=e[r];if(av(o)&&av(l)){if(!Jl(o,l))return!1}else if(o!==l)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function av(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function _b(n,e){const t=new vb(n,e);return t.subscribe.bind(t)}class vb{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");wb(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=pp),r.error===void 0&&(r.error=pp),r.complete===void 0&&(r.complete=pp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wb(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function pp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(n){return n&&n._delegate?n._delegate:n}class ds{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new rb;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Tb(e))try{this.getOrInitializeService({instanceIdentifier:to})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=to){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=to){return this.instances.has(e)}getOptions(e=to){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);i===c&&l.resolve(r)}return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const l=this.instances.get(r);return l&&e(l,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:xb(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=to){return this.component?this.component.multipleInstances?e:to:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xb(n){return n===to?void 0:n}function Tb(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Eb(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Oe||(Oe={}));const Ib={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},bb=Oe.INFO,kb={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},Cb=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=kb[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bm{constructor(e){this.name=e,this._logLevel=bb,this._logHandler=Cb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ib[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const Ab=(n,e)=>e.some(t=>n instanceof t);let lv,cv;function Rb(){return lv||(lv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Pb(){return cv||(cv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hE=new WeakMap,Up=new WeakMap,dE=new WeakMap,mp=new WeakMap,km=new WeakMap;function Db(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(ss(n.result)),r()},l=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&hE.set(t,n)}).catch(()=>{}),km.set(e,n),e}function Nb(n){if(Up.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),r()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});Up.set(n,e)}let zp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Up.get(n);if(e==="objectStoreNames")return n.objectStoreNames||dE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ss(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Mb(n){zp=n(zp)}function Ob(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(gp(this),e,...t);return dE.set(i,e.sort?e.sort():[e]),ss(i)}:Pb().includes(n)?function(...e){return n.apply(gp(this),e),ss(hE.get(this))}:function(...e){return ss(n.apply(gp(this),e))}}function Lb(n){return typeof n=="function"?Ob(n):(n instanceof IDBTransaction&&Nb(n),Ab(n,Rb())?new Proxy(n,zp):n)}function ss(n){if(n instanceof IDBRequest)return Db(n);if(mp.has(n))return mp.get(n);const e=Lb(n);return e!==n&&(mp.set(n,e),km.set(e,n)),e}const gp=n=>km.get(n);function Vb(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(n,e),c=ss(l);return i&&l.addEventListener("upgradeneeded",h=>{i(ss(l.result),h.oldVersion,h.newVersion,ss(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),r&&h.addEventListener("versionchange",p=>r(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const Fb=["get","getKey","getAll","getAllKeys","count"],jb=["put","add","delete","clear"],yp=new Map;function uv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(yp.get(e))return yp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=jb.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Fb.includes(t)))return;const o=async function(l,...c){const h=this.transaction(l,r?"readwrite":"readonly");let p=h.store;return i&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),r&&h.done]))[0]};return yp.set(e,o),o}Mb(n=>({...n,get:(e,t,i)=>uv(e,t)||n.get(e,t,i),has:(e,t)=>!!uv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(zb(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function zb(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bp="@firebase/app",hv="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=new bm("@firebase/app"),Bb="@firebase/app-compat",$b="@firebase/analytics-compat",Hb="@firebase/analytics",Wb="@firebase/app-check-compat",qb="@firebase/app-check",Kb="@firebase/auth",Gb="@firebase/auth-compat",Qb="@firebase/database",Yb="@firebase/data-connect",Xb="@firebase/database-compat",Jb="@firebase/functions",Zb="@firebase/functions-compat",ek="@firebase/installations",tk="@firebase/installations-compat",nk="@firebase/messaging",ik="@firebase/messaging-compat",rk="@firebase/performance",sk="@firebase/performance-compat",ok="@firebase/remote-config",ak="@firebase/remote-config-compat",lk="@firebase/storage",ck="@firebase/storage-compat",uk="@firebase/firestore",hk="@firebase/vertexai",dk="@firebase/firestore-compat",fk="firebase",pk="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="[DEFAULT]",mk={[Bp]:"fire-core",[Bb]:"fire-core-compat",[Hb]:"fire-analytics",[$b]:"fire-analytics-compat",[qb]:"fire-app-check",[Wb]:"fire-app-check-compat",[Kb]:"fire-auth",[Gb]:"fire-auth-compat",[Qb]:"fire-rtdb",[Yb]:"fire-data-connect",[Xb]:"fire-rtdb-compat",[Jb]:"fire-fn",[Zb]:"fire-fn-compat",[ek]:"fire-iid",[tk]:"fire-iid-compat",[nk]:"fire-fcm",[ik]:"fire-fcm-compat",[rk]:"fire-perf",[sk]:"fire-perf-compat",[ok]:"fire-rc",[ak]:"fire-rc-compat",[lk]:"fire-gcs",[ck]:"fire-gcs-compat",[uk]:"fire-fst",[dk]:"fire-fst-compat",[hk]:"fire-vertex","fire-js":"fire-js",[fk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Map,gk=new Map,Hp=new Map;function dv(n,e){try{n.container.addComponent(e)}catch(t){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function lo(n){const e=n.name;if(Hp.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;Hp.set(e,n);for(const t of Ah.values())dv(t,n);for(const t of gk.values())dv(t,n);return!0}function rd(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ts(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new mc("app","Firebase",yk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=pk;function fE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:$p,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw os.create("bad-app-name",{appName:String(r)});if(t||(t=lE()),!t)throw os.create("no-options");const o=Ah.get(r);if(o){if(Jl(t,o.options)&&Jl(i,o.config))return o;throw os.create("duplicate-app",{appName:r})}const l=new Sb(r);for(const h of Hp.values())l.addComponent(h);const c=new _k(t,i,l);return Ah.set(r,c),c}function Cm(n=$p){const e=Ah.get(n);if(!e&&n===$p&&lE())return fE();if(!e)throw os.create("no-app",{appName:n});return e}function Pi(n,e,t){var i;let r=(i=mk[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(c.join(" "));return}lo(new ds(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk="firebase-heartbeat-database",wk=1,Zl="firebase-heartbeat-store";let _p=null;function pE(){return _p||(_p=Vb(vk,wk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Zl)}catch(t){console.warn(t)}}}}).catch(n=>{throw os.create("idb-open",{originalErrorMessage:n.message})})),_p}async function Ek(n){try{const t=(await pE()).transaction(Zl),i=await t.objectStore(Zl).get(mE(n));return await t.done,i}catch(e){if(e instanceof Bi)yr.warn(e.message);else{const t=os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yr.warn(t.message)}}}async function fv(n,e){try{const i=(await pE()).transaction(Zl,"readwrite");await i.objectStore(Zl).put(e,mE(n)),await i.done}catch(t){if(t instanceof Bi)yr.warn(t.message);else{const i=os.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});yr.warn(i.message)}}}function mE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=1024,Tk=30*24*60*60*1e3;class Sk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new bk(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=pv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=Tk}),this._storage.overwrite(this._heartbeatsCache))}catch(i){yr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=pv(),{heartbeatsToSend:i,unsentEntries:r}=Ik(this._heartbeatsCache.heartbeats),o=Ch(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return yr.warn(t),""}}}function pv(){return new Date().toISOString().substring(0,10)}function Ik(n,e=xk){const t=[];let i=n.slice();for(const r of n){const o=t.find(l=>l.agent===r.agent);if(o){if(o.dates.push(r.date),mv(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),mv(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class bk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return db()?fb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Ek(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return fv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return fv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function mv(n){return Ch(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(n){lo(new ds("platform-logger",e=>new Ub(e),"PRIVATE")),lo(new ds("heartbeat",e=>new Sk(e),"PRIVATE")),Pi(Bp,hv,n),Pi(Bp,hv,"esm2017"),Pi("fire-js","")}kk("");var Ck="firebase",Ak="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pi(Ck,Ak,"app");function Am(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function gE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Rk=gE,yE=new mc("auth","Firebase",gE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new bm("@firebase/auth");function Pk(n,...e){Rh.logLevel<=Oe.WARN&&Rh.warn(`Auth (${po}): ${n}`,...e)}function dh(n,...e){Rh.logLevel<=Oe.ERROR&&Rh.error(`Auth (${po}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(n,...e){throw Rm(n,...e)}function Di(n,...e){return Rm(n,...e)}function _E(n,e,t){const i=Object.assign(Object.assign({},Rk()),{[e]:t});return new mc("auth","Firebase",i).create(e,{appName:n.name})}function so(n){return _E(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rm(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return yE.create(n,...e)}function Ce(n,e,...t){if(!n)throw Rm(e,...t)}function dr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw dh(e),new Error(e)}function vr(n,e){n||dr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Dk(){return gv()==="http:"||gv()==="https:"}function gv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Dk()||lb()||"connection"in navigator)?navigator.onLine:!0}function Mk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,t){this.shortDelay=e,this.longDelay=t,vr(t>e,"Short delay should be less than long delay!"),this.isMobile=sb()||cb()}get(){return Nk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(n,e){vr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=new yc(3e4,6e4);function Dm(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Da(n,e,t,i,r={}){return wE(n,r,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const c=gc(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:h},o);return ab()||(p.referrerPolicy="no-referrer"),vE.fetch()(EE(n,n.config.apiHost,t,c),p)})}async function wE(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Ok),e);try{const r=new Fk(n),o=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Hu(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,p]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hu(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Hu(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw Hu(n,"user-disabled",l);const g=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw _E(n,g,p);_r(n,g)}}catch(r){if(r instanceof Bi)throw r;_r(n,"network-request-failed",{message:String(r)})}}async function Vk(n,e,t,i,r={}){const o=await Da(n,e,t,i,r);return"mfaPendingCredential"in o&&_r(n,"multi-factor-auth-required",{_serverResponse:o}),o}function EE(n,e,t,i){const r=`${e}${t}?${i}`;return n.config.emulator?Pm(n.config,r):`${n.config.apiScheme}://${r}`}class Fk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Di(this.auth,"network-request-failed")),Lk.get())})}}function Hu(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=Di(n,e,i);return r.customData._tokenResponse=t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jk(n,e){return Da(n,"POST","/v1/accounts:delete",e)}async function xE(n,e){return Da(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Uk(n,e=!1){const t=Ut(n),i=await t.getIdToken(e),r=Nm(i);Ce(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:Bl(vp(r.auth_time)),issuedAtTime:Bl(vp(r.iat)),expirationTime:Bl(vp(r.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function vp(n){return Number(n)*1e3}function Nm(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const r=sE(t);return r?JSON.parse(r):(dh("Failed to decode base64 JWT payload"),null)}catch(r){return dh("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function yv(n){const e=Nm(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Bi&&zk(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function zk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ph(n){var e;const t=n.auth,i=await n.getIdToken(),r=await ec(n,xE(t,{idToken:i}));Ce(r==null?void 0:r.users.length,t,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?TE(o.providerUserInfo):[],c=Hk(n.providerData,l),h=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(c!=null&&c.length),g=h?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new qp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function $k(n){const e=Ut(n);await Ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Hk(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function TE(n){return n.map(e=>{var{providerId:t}=e,i=Am(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wk(n,e){const t=await wE(n,{},async()=>{const i=gc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,l=EE(n,r,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",vE.fetch()(l,{method:"POST",headers:c,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function qk(n,e){return Da(n,"POST","/v2/accounts:revokeToken",Dm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=yv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:o}=await Wk(e,t);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:o}=t,l=new fa;return i&&(Ce(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),r&&(Ce(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),o&&(Ce(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fa,this.toJSON())}_performRefresh(){return dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class fr{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=Am(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new qp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await ec(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Uk(this,e)}reload(){return $k(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Ph(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ts(this.auth.app))return Promise.reject(so(this.auth));const e=await this.getIdToken();return await ec(this,jk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,l,c,h,p,g;const v=(i=t.displayName)!==null&&i!==void 0?i:void 0,w=(r=t.email)!==null&&r!==void 0?r:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,I=(l=t.photoURL)!==null&&l!==void 0?l:void 0,A=(c=t.tenantId)!==null&&c!==void 0?c:void 0,b=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,D=(p=t.createdAt)!==null&&p!==void 0?p:void 0,V=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:$,emailVerified:G,isAnonymous:Y,providerData:J,stsTokenManager:R}=t;Ce($&&R,e,"internal-error");const C=fa.fromJSON(this.name,R);Ce(typeof $=="string",e,"internal-error"),Gr(v,e.name),Gr(w,e.name),Ce(typeof G=="boolean",e,"internal-error"),Ce(typeof Y=="boolean",e,"internal-error"),Gr(T,e.name),Gr(I,e.name),Gr(A,e.name),Gr(b,e.name),Gr(D,e.name),Gr(V,e.name);const P=new fr({uid:$,auth:e,email:w,emailVerified:G,displayName:v,isAnonymous:Y,photoURL:I,phoneNumber:T,tenantId:A,stsTokenManager:C,createdAt:D,lastLoginAt:V});return J&&Array.isArray(J)&&(P.providerData=J.map(O=>Object.assign({},O))),b&&(P._redirectEventId=b),P}static async _fromIdTokenResponse(e,t,i=!1){const r=new fa;r.updateFromServerResponse(t);const o=new fr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Ph(o),o}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];Ce(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?TE(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!(o!=null&&o.length),c=new fa;c.updateFromIdToken(i);const h=new fr({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new qp(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=new Map;function pr(n){vr(n instanceof Function,"Expected a class definition");let e=_v.get(n);return e?(vr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,_v.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}SE.type="NONE";const vv=SE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(n,e,t){return`firebase:${n}:${e}:${t}`}class pa{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=fh(this.userKey,r.apiKey,o),this.fullPersistenceKey=fh("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?fr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new pa(pr(vv),e,i);const r=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=r[0]||pr(vv);const l=fh(i,e.config.apiKey,e.name);let c=null;for(const p of t)try{const g=await p._get(l);if(g){const v=fr._fromJSON(e,g);p!==o&&(c=v),o=p;break}}catch{}const h=r.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new pa(o,e,i):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new pa(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RE(e))return"Blackberry";if(PE(e))return"Webos";if(bE(e))return"Safari";if((e.includes("chrome/")||kE(e))&&!e.includes("edge/"))return"Chrome";if(AE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function IE(n=Jt()){return/firefox\//i.test(n)}function bE(n=Jt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kE(n=Jt()){return/crios\//i.test(n)}function CE(n=Jt()){return/iemobile/i.test(n)}function AE(n=Jt()){return/android/i.test(n)}function RE(n=Jt()){return/blackberry/i.test(n)}function PE(n=Jt()){return/webos/i.test(n)}function Mm(n=Jt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Kk(n=Jt()){var e;return Mm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Gk(){return ub()&&document.documentMode===10}function DE(n=Jt()){return Mm(n)||AE(n)||PE(n)||RE(n)||/windows phone/i.test(n)||CE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(n,e=[]){let t;switch(n){case"Browser":t=wv(Jt());break;case"Worker":t=`${wv(Jt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${po}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(n,e={}){return Da(n,"GET","/v2/passwordPolicy",Dm(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=6;class Jk{constructor(e){var t,i,r,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:Xk,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,o,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(r=h.containsLowercaseLetter)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ev(this),this.idTokenSubscription=new Ev(this),this.beforeStateQueue=new Qk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=pr(t)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await pa.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await xE(this,{idToken:e}),i=await fr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ts(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=r==null?void 0:r._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(r=h.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ph(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Mk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ts(this.app))return Promise.reject(so(this));const t=e?Ut(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ts(this.app)?Promise.reject(so(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ts(this.app)?Promise.reject(so(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Yk(this),t=new Jk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await qk(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&pr(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await pa.create(this,[pr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,i,r);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Pk(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Om(n){return Ut(n)}class Ev{constructor(e){this.auth=e,this.observer=null,this.addObserver=_b(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eC(n){Lm=n}function tC(n){return Lm.loadJS(n)}function nC(){return Lm.gapiScript}function iC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(n,e){const t=rd(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),o=t.getOptions();if(Jl(o,e??{}))return r;_r(r,"already-initialized")}return t.initialize({options:e})}function sC(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(pr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function oC(n,e,t){const i=Om(n);Ce(i._canInitEmulator,i,"emulator-config-failed"),Ce(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,o=ME(e),{host:l,port:c}=aC(e),h=c===null?"":`:${c}`;i.config.emulator={url:`${o}//${l}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),lC()}function ME(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function aC(n){const e=ME(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:xv(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:xv(l)}}}function xv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function lC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return dr("not implemented")}_getIdTokenResponse(e){return dr("not implemented")}_linkToIdToken(e,t){return dr("not implemented")}_getReauthenticationResolver(e){return dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ma(n,e){return Vk(n,"POST","/v1/accounts:signInWithIdp",Dm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="http://localhost";class co extends OE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new co(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_r("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,o=Am(t,["providerId","signInMethod"]);if(!i||!r)return null;const l=new co(i,r);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return ma(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ma(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ma(e,t)}buildRequest(){const e={requestUri:cC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c extends LE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends _c{constructor(){super("facebook.com")}static credential(e){return co._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends _c{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return co._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Jr.credential(t,i)}catch{return null}}}Jr.GOOGLE_SIGN_IN_METHOD="google.com";Jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends _c{constructor(){super("github.com")}static credential(e){return co._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.GITHUB_SIGN_IN_METHOD="github.com";Zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends _c{constructor(){super("twitter.com")}static credential(e,t){return co._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return es.credential(t,i)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const o=await fr._fromIdTokenResponse(e,i,r),l=Tv(i);return new va({user:o,providerId:l,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=Tv(i);return new va({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function Tv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends Bi{constructor(e,t,i,r){var o;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Dh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new Dh(e,t,i,r)}}function VE(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Dh._fromErrorAndOperation(n,o,e,i):o})}async function uC(n,e,t=!1){const i=await ec(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return va._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hC(n,e,t=!1){const{auth:i}=n;if(ts(i.app))return Promise.reject(so(i));const r="reauthenticate";try{const o=await ec(n,VE(i,r,e,n),t);Ce(o.idToken,i,"internal-error");const l=Nm(o.idToken);Ce(l,i,"internal-error");const{sub:c}=l;return Ce(n.uid===c,i,"user-mismatch"),va._forOperation(n,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&_r(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(n,e,t=!1){if(ts(n.app))return Promise.reject(so(n));const i="signIn",r=await VE(n,i,e),o=await va._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(n,e){return Ut(n).setPersistence(e)}function pC(n,e,t,i){return Ut(n).onIdTokenChanged(e,t,i)}function mC(n,e,t){return Ut(n).beforeAuthStateChanged(e,t)}const Nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=1e3,yC=10;class jE extends FE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!t&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);Gk()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,yC):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},gC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}jE.type="LOCAL";const UE=jE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE extends FE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}zE.type="SESSION";const BE=zE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new sd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:o}=t.data,l=this.handlersMap[r];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const c=Array.from(l).map(async p=>p(t.origin,o)),h=await _C(c);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const p=Vm("",20);r.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(v){const w=v;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(w.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return window}function wC(n){Ni().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function EC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function TC(){return $E()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="firebaseLocalStorageDb",SC=1,Mh="firebaseLocalStorage",WE="fbase_key";class vc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function od(n,e){return n.transaction([Mh],e?"readwrite":"readonly").objectStore(Mh)}function IC(){const n=indexedDB.deleteDatabase(HE);return new vc(n).toPromise()}function Kp(){const n=indexedDB.open(HE,SC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Mh,{keyPath:WE})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Mh)?e(i):(i.close(),await IC(),e(await Kp()))})})}async function Sv(n,e,t){const i=od(n,!0).put({[WE]:e,value:t});return new vc(i).toPromise()}async function bC(n,e){const t=od(n,!1).get(e),i=await new vc(t).toPromise();return i===void 0?null:i.value}function Iv(n,e){const t=od(n,!0).delete(e);return new vc(t).toPromise()}const kC=800,CC=3;class qE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>CC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $E()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sd._getInstance(TC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await EC(),!this.activeServiceWorker)return;this.sender=new vC(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kp();return await Sv(e,Nh,"1"),await Iv(e,Nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Sv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>bC(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Iv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=od(r,!1).getAll();return new vc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qE.type="LOCAL";const AC=qE;new yc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(n,e){return e?pr(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm extends OE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ma(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ma(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ma(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function PC(n){return dC(n.auth,new Fm(n),n.bypassAuthState)}function DC(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),hC(t,new Fm(n),n.bypassAuthState)}async function NC(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),uC(t,new Fm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PC;case"linkViaPopup":case"linkViaRedirect":return NC;case"reauthViaPopup":case"reauthViaRedirect":return DC;default:_r(this.auth,"internal-error")}}resolve(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=new yc(2e3,1e4);class ha extends KE{constructor(e,t,i,r,o){super(e,t,r,o),this.provider=i,this.authWindow=null,this.pollId=null,ha.currentPopupAction&&ha.currentPopupAction.cancel(),ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){vr(this.filter.length===1,"Popup operations only handle one event");const e=Vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MC.get())};e()}}ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="pendingRedirect",ph=new Map;class LC extends KE{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const i=await VC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VC(n,e){const t=UC(e),i=jC(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function FC(n,e){ph.set(n._key(),e)}function jC(n){return pr(n._redirectPersistence)}function UC(n){return fh(OC,n.config.apiKey,n.name)}async function zC(n,e,t=!1){if(ts(n.app))return Promise.reject(so(n));const i=Om(n),r=RC(i,e),l=await new LC(i,r,t).execute();return l&&!t&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=10*60*1e3;class $C{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!GE(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Di(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BC&&this.cachedEventUids.clear(),this.cachedEventUids.has(bv(e))}saveEventToCache(e){this.cachedEventUids.add(bv(e)),this.lastProcessedEventTime=Date.now()}}function bv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function GE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WC(n,e={}){return Da(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KC=/^https?/;async function GC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await WC(n);for(const t of e)try{if(QC(t))return}catch{}_r(n,"unauthorized-domain")}function QC(n){const e=Wp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===i}if(!KC.test(t))return!1;if(qC.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=new yc(3e4,6e4);function kv(){const n=Ni().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function XC(n){return new Promise((e,t)=>{var i,r,o;function l(){kv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kv(),t(Di(n,"network-request-failed"))},timeout:YC.get()})}if(!((r=(i=Ni().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=Ni().gapi)===null||o===void 0)&&o.load)l();else{const c=iC("iframefcb");return Ni()[c]=()=>{gapi.load?l():t(Di(n,"network-request-failed"))},tC(`${nC()}?onload=${c}`).catch(h=>t(h))}}).catch(e=>{throw mh=null,e})}let mh=null;function JC(n){return mh=mh||XC(n),mh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=new yc(5e3,15e3),eA="__/auth/iframe",tA="emulator/auth/iframe",nA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rA(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Pm(e,tA):`https://${n.config.authDomain}/${eA}`,i={apiKey:e.apiKey,appName:n.name,v:po},r=iA.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${gc(i).slice(1)}`}async function sA(n){const e=await JC(n),t=Ni().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:rA(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nA,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const l=Di(n,"network-request-failed"),c=Ni().setTimeout(()=>{o(l)},ZC.get());function h(){Ni().clearTimeout(c),r(i)}i.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aA=500,lA=600,cA="_blank",uA="http://localhost";class Cv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hA(n,e,t,i=aA,r=lA){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const h=Object.assign(Object.assign({},oA),{width:i.toString(),height:r.toString(),top:o,left:l}),p=Jt().toLowerCase();t&&(c=kE(p)?cA:t),IE(p)&&(e=e||uA,h.scrollbars="yes");const g=Object.entries(h).reduce((w,[T,I])=>`${w}${T}=${I},`,"");if(Kk(p)&&c!=="_self")return dA(e||"",c),new Cv(null);const v=window.open(e||"",c,g);Ce(v,n,"popup-blocked");try{v.focus()}catch{}return new Cv(v)}function dA(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="__/auth/handler",pA="emulator/auth/handler",mA=encodeURIComponent("fac");async function Av(n,e,t,i,r,o){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:po,eventId:r};if(e instanceof LE){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",yb(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))l[g]=v}if(e instanceof _c){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const h=await n._getAppCheckToken(),p=h?`#${mA}=${encodeURIComponent(h)}`:"";return`${gA(n)}?${gc(c).slice(1)}${p}`}function gA({config:n}){return n.emulator?Pm(n,pA):`https://${n.authDomain}/${fA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="webStorageSupport";class yA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BE,this._completeRedirectFn=zC,this._overrideRedirectResult=FC}async _openPopup(e,t,i,r){var o;vr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await Av(e,t,i,Wp(),r);return hA(e,l,Vm())}async _openRedirect(e,t,i,r){await this._originValidation(e);const o=await Av(e,t,i,Wp(),r);return wC(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(vr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await sA(e),i=new $C(e);return t.register("authEvent",r=>(Ce(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(wp,{type:wp},r=>{var o;const l=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[wp];l!==void 0&&t(!!l),_r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=GC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return DE()||bE()||Mm()}}const _A=yA;var Rv="@firebase/auth",Pv="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EA(n){lo(new ds("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;Ce(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NE(n)},p=new Zk(i,r,o,h);return sC(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),lo(new ds("auth-internal",e=>{const t=Om(e.getProvider("auth").getImmediate());return(i=>new vA(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pi(Rv,Pv,wA(n)),Pi(Rv,Pv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=5*60,TA=cE("authIdTokenMaxAge")||xA;let Dv=null;const SA=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>TA)return;const r=t==null?void 0:t.token;Dv!==r&&(Dv=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function IA(n=Cm()){const e=rd(n,"auth");if(e.isInitialized())return e.getImmediate();const t=rC(n,{popupRedirectResolver:_A,persistence:[AC,UE,BE]}),i=cE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=SA(o.toString());mC(t,l,()=>l(t.currentUser)),pC(t,c=>l(c))}}const r=oE("auth");return r&&oC(t,`http://${r}`),t}function bA(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}eC({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const o=Di("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",bA().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EA("Browser");var Nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oo,QE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,C){function P(){}P.prototype=C.prototype,R.D=C.prototype,R.prototype=new P,R.prototype.constructor=R,R.C=function(O,L,F){for(var N=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)N[Ne-2]=arguments[Ne];return C.prototype[L].apply(O,N)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(R,C,P){P||(P=0);var O=Array(16);if(typeof C=="string")for(var L=0;16>L;++L)O[L]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(L=0;16>L;++L)O[L]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=R.g[0],P=R.g[1],L=R.g[2];var F=R.g[3],N=C+(F^P&(L^F))+O[0]+3614090360&4294967295;C=P+(N<<7&4294967295|N>>>25),N=F+(L^C&(P^L))+O[1]+3905402710&4294967295,F=C+(N<<12&4294967295|N>>>20),N=L+(P^F&(C^P))+O[2]+606105819&4294967295,L=F+(N<<17&4294967295|N>>>15),N=P+(C^L&(F^C))+O[3]+3250441966&4294967295,P=L+(N<<22&4294967295|N>>>10),N=C+(F^P&(L^F))+O[4]+4118548399&4294967295,C=P+(N<<7&4294967295|N>>>25),N=F+(L^C&(P^L))+O[5]+1200080426&4294967295,F=C+(N<<12&4294967295|N>>>20),N=L+(P^F&(C^P))+O[6]+2821735955&4294967295,L=F+(N<<17&4294967295|N>>>15),N=P+(C^L&(F^C))+O[7]+4249261313&4294967295,P=L+(N<<22&4294967295|N>>>10),N=C+(F^P&(L^F))+O[8]+1770035416&4294967295,C=P+(N<<7&4294967295|N>>>25),N=F+(L^C&(P^L))+O[9]+2336552879&4294967295,F=C+(N<<12&4294967295|N>>>20),N=L+(P^F&(C^P))+O[10]+4294925233&4294967295,L=F+(N<<17&4294967295|N>>>15),N=P+(C^L&(F^C))+O[11]+2304563134&4294967295,P=L+(N<<22&4294967295|N>>>10),N=C+(F^P&(L^F))+O[12]+1804603682&4294967295,C=P+(N<<7&4294967295|N>>>25),N=F+(L^C&(P^L))+O[13]+4254626195&4294967295,F=C+(N<<12&4294967295|N>>>20),N=L+(P^F&(C^P))+O[14]+2792965006&4294967295,L=F+(N<<17&4294967295|N>>>15),N=P+(C^L&(F^C))+O[15]+1236535329&4294967295,P=L+(N<<22&4294967295|N>>>10),N=C+(L^F&(P^L))+O[1]+4129170786&4294967295,C=P+(N<<5&4294967295|N>>>27),N=F+(P^L&(C^P))+O[6]+3225465664&4294967295,F=C+(N<<9&4294967295|N>>>23),N=L+(C^P&(F^C))+O[11]+643717713&4294967295,L=F+(N<<14&4294967295|N>>>18),N=P+(F^C&(L^F))+O[0]+3921069994&4294967295,P=L+(N<<20&4294967295|N>>>12),N=C+(L^F&(P^L))+O[5]+3593408605&4294967295,C=P+(N<<5&4294967295|N>>>27),N=F+(P^L&(C^P))+O[10]+38016083&4294967295,F=C+(N<<9&4294967295|N>>>23),N=L+(C^P&(F^C))+O[15]+3634488961&4294967295,L=F+(N<<14&4294967295|N>>>18),N=P+(F^C&(L^F))+O[4]+3889429448&4294967295,P=L+(N<<20&4294967295|N>>>12),N=C+(L^F&(P^L))+O[9]+568446438&4294967295,C=P+(N<<5&4294967295|N>>>27),N=F+(P^L&(C^P))+O[14]+3275163606&4294967295,F=C+(N<<9&4294967295|N>>>23),N=L+(C^P&(F^C))+O[3]+4107603335&4294967295,L=F+(N<<14&4294967295|N>>>18),N=P+(F^C&(L^F))+O[8]+1163531501&4294967295,P=L+(N<<20&4294967295|N>>>12),N=C+(L^F&(P^L))+O[13]+2850285829&4294967295,C=P+(N<<5&4294967295|N>>>27),N=F+(P^L&(C^P))+O[2]+4243563512&4294967295,F=C+(N<<9&4294967295|N>>>23),N=L+(C^P&(F^C))+O[7]+1735328473&4294967295,L=F+(N<<14&4294967295|N>>>18),N=P+(F^C&(L^F))+O[12]+2368359562&4294967295,P=L+(N<<20&4294967295|N>>>12),N=C+(P^L^F)+O[5]+4294588738&4294967295,C=P+(N<<4&4294967295|N>>>28),N=F+(C^P^L)+O[8]+2272392833&4294967295,F=C+(N<<11&4294967295|N>>>21),N=L+(F^C^P)+O[11]+1839030562&4294967295,L=F+(N<<16&4294967295|N>>>16),N=P+(L^F^C)+O[14]+4259657740&4294967295,P=L+(N<<23&4294967295|N>>>9),N=C+(P^L^F)+O[1]+2763975236&4294967295,C=P+(N<<4&4294967295|N>>>28),N=F+(C^P^L)+O[4]+1272893353&4294967295,F=C+(N<<11&4294967295|N>>>21),N=L+(F^C^P)+O[7]+4139469664&4294967295,L=F+(N<<16&4294967295|N>>>16),N=P+(L^F^C)+O[10]+3200236656&4294967295,P=L+(N<<23&4294967295|N>>>9),N=C+(P^L^F)+O[13]+681279174&4294967295,C=P+(N<<4&4294967295|N>>>28),N=F+(C^P^L)+O[0]+3936430074&4294967295,F=C+(N<<11&4294967295|N>>>21),N=L+(F^C^P)+O[3]+3572445317&4294967295,L=F+(N<<16&4294967295|N>>>16),N=P+(L^F^C)+O[6]+76029189&4294967295,P=L+(N<<23&4294967295|N>>>9),N=C+(P^L^F)+O[9]+3654602809&4294967295,C=P+(N<<4&4294967295|N>>>28),N=F+(C^P^L)+O[12]+3873151461&4294967295,F=C+(N<<11&4294967295|N>>>21),N=L+(F^C^P)+O[15]+530742520&4294967295,L=F+(N<<16&4294967295|N>>>16),N=P+(L^F^C)+O[2]+3299628645&4294967295,P=L+(N<<23&4294967295|N>>>9),N=C+(L^(P|~F))+O[0]+4096336452&4294967295,C=P+(N<<6&4294967295|N>>>26),N=F+(P^(C|~L))+O[7]+1126891415&4294967295,F=C+(N<<10&4294967295|N>>>22),N=L+(C^(F|~P))+O[14]+2878612391&4294967295,L=F+(N<<15&4294967295|N>>>17),N=P+(F^(L|~C))+O[5]+4237533241&4294967295,P=L+(N<<21&4294967295|N>>>11),N=C+(L^(P|~F))+O[12]+1700485571&4294967295,C=P+(N<<6&4294967295|N>>>26),N=F+(P^(C|~L))+O[3]+2399980690&4294967295,F=C+(N<<10&4294967295|N>>>22),N=L+(C^(F|~P))+O[10]+4293915773&4294967295,L=F+(N<<15&4294967295|N>>>17),N=P+(F^(L|~C))+O[1]+2240044497&4294967295,P=L+(N<<21&4294967295|N>>>11),N=C+(L^(P|~F))+O[8]+1873313359&4294967295,C=P+(N<<6&4294967295|N>>>26),N=F+(P^(C|~L))+O[15]+4264355552&4294967295,F=C+(N<<10&4294967295|N>>>22),N=L+(C^(F|~P))+O[6]+2734768916&4294967295,L=F+(N<<15&4294967295|N>>>17),N=P+(F^(L|~C))+O[13]+1309151649&4294967295,P=L+(N<<21&4294967295|N>>>11),N=C+(L^(P|~F))+O[4]+4149444226&4294967295,C=P+(N<<6&4294967295|N>>>26),N=F+(P^(C|~L))+O[11]+3174756917&4294967295,F=C+(N<<10&4294967295|N>>>22),N=L+(C^(F|~P))+O[2]+718787259&4294967295,L=F+(N<<15&4294967295|N>>>17),N=P+(F^(L|~C))+O[9]+3951481745&4294967295,R.g[0]=R.g[0]+C&4294967295,R.g[1]=R.g[1]+(L+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+L&4294967295,R.g[3]=R.g[3]+F&4294967295}i.prototype.u=function(R,C){C===void 0&&(C=R.length);for(var P=C-this.blockSize,O=this.B,L=this.h,F=0;F<C;){if(L==0)for(;F<=P;)r(this,R,F),F+=this.blockSize;if(typeof R=="string"){for(;F<C;)if(O[L++]=R.charCodeAt(F++),L==this.blockSize){r(this,O),L=0;break}}else for(;F<C;)if(O[L++]=R[F++],L==this.blockSize){r(this,O),L=0;break}}this.h=L,this.o+=C},i.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var C=1;C<R.length-8;++C)R[C]=0;var P=8*this.o;for(C=R.length-8;C<R.length;++C)R[C]=P&255,P/=256;for(this.u(R),R=Array(16),C=P=0;4>C;++C)for(var O=0;32>O;O+=8)R[P++]=this.g[C]>>>O&255;return R};function o(R,C){var P=c;return Object.prototype.hasOwnProperty.call(P,R)?P[R]:P[R]=C(R)}function l(R,C){this.h=C;for(var P=[],O=!0,L=R.length-1;0<=L;L--){var F=R[L]|0;O&&F==C||(P[L]=F,O=!1)}this.g=P}var c={};function h(R){return-128<=R&&128>R?o(R,function(C){return new l([C|0],0>C?-1:0)}):new l([R|0],0>R?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return v;if(0>R)return b(p(-R));for(var C=[],P=1,O=0;R>=P;O++)C[O]=R/P|0,P*=4294967296;return new l(C,0)}function g(R,C){if(R.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(R.charAt(0)=="-")return b(g(R.substring(1),C));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=p(Math.pow(C,8)),O=v,L=0;L<R.length;L+=8){var F=Math.min(8,R.length-L),N=parseInt(R.substring(L,L+F),C);8>F?(F=p(Math.pow(C,F)),O=O.j(F).add(p(N))):(O=O.j(P),O=O.add(p(N)))}return O}var v=h(0),w=h(1),T=h(16777216);n=l.prototype,n.m=function(){if(A(this))return-b(this).m();for(var R=0,C=1,P=0;P<this.g.length;P++){var O=this.i(P);R+=(0<=O?O:4294967296+O)*C,C*=4294967296}return R},n.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(I(this))return"0";if(A(this))return"-"+b(this).toString(R);for(var C=p(Math.pow(R,6)),P=this,O="";;){var L=G(P,C).g;P=D(P,L.j(C));var F=((0<P.g.length?P.g[0]:P.h)>>>0).toString(R);if(P=L,I(P))return F+O;for(;6>F.length;)F="0"+F;O=F+O}},n.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function I(R){if(R.h!=0)return!1;for(var C=0;C<R.g.length;C++)if(R.g[C]!=0)return!1;return!0}function A(R){return R.h==-1}n.l=function(R){return R=D(this,R),A(R)?-1:I(R)?0:1};function b(R){for(var C=R.g.length,P=[],O=0;O<C;O++)P[O]=~R.g[O];return new l(P,~R.h).add(w)}n.abs=function(){return A(this)?b(this):this},n.add=function(R){for(var C=Math.max(this.g.length,R.g.length),P=[],O=0,L=0;L<=C;L++){var F=O+(this.i(L)&65535)+(R.i(L)&65535),N=(F>>>16)+(this.i(L)>>>16)+(R.i(L)>>>16);O=N>>>16,F&=65535,N&=65535,P[L]=N<<16|F}return new l(P,P[P.length-1]&-2147483648?-1:0)};function D(R,C){return R.add(b(C))}n.j=function(R){if(I(this)||I(R))return v;if(A(this))return A(R)?b(this).j(b(R)):b(b(this).j(R));if(A(R))return b(this.j(b(R)));if(0>this.l(T)&&0>R.l(T))return p(this.m()*R.m());for(var C=this.g.length+R.g.length,P=[],O=0;O<2*C;O++)P[O]=0;for(O=0;O<this.g.length;O++)for(var L=0;L<R.g.length;L++){var F=this.i(O)>>>16,N=this.i(O)&65535,Ne=R.i(L)>>>16,Se=R.i(L)&65535;P[2*O+2*L]+=N*Se,V(P,2*O+2*L),P[2*O+2*L+1]+=F*Se,V(P,2*O+2*L+1),P[2*O+2*L+1]+=N*Ne,V(P,2*O+2*L+1),P[2*O+2*L+2]+=F*Ne,V(P,2*O+2*L+2)}for(O=0;O<C;O++)P[O]=P[2*O+1]<<16|P[2*O];for(O=C;O<2*C;O++)P[O]=0;return new l(P,0)};function V(R,C){for(;(R[C]&65535)!=R[C];)R[C+1]+=R[C]>>>16,R[C]&=65535,C++}function $(R,C){this.g=R,this.h=C}function G(R,C){if(I(C))throw Error("division by zero");if(I(R))return new $(v,v);if(A(R))return C=G(b(R),C),new $(b(C.g),b(C.h));if(A(C))return C=G(R,b(C)),new $(b(C.g),C.h);if(30<R.g.length){if(A(R)||A(C))throw Error("slowDivide_ only works with positive integers.");for(var P=w,O=C;0>=O.l(R);)P=Y(P),O=Y(O);var L=J(P,1),F=J(O,1);for(O=J(O,2),P=J(P,2);!I(O);){var N=F.add(O);0>=N.l(R)&&(L=L.add(P),F=N),O=J(O,1),P=J(P,1)}return C=D(R,L.j(C)),new $(L,C)}for(L=v;0<=R.l(C);){for(P=Math.max(1,Math.floor(R.m()/C.m())),O=Math.ceil(Math.log(P)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),F=p(P),N=F.j(C);A(N)||0<N.l(R);)P-=O,F=p(P),N=F.j(C);I(F)&&(F=w),L=L.add(F),R=D(R,N)}return new $(L,R)}n.A=function(R){return G(this,R).h},n.and=function(R){for(var C=Math.max(this.g.length,R.g.length),P=[],O=0;O<C;O++)P[O]=this.i(O)&R.i(O);return new l(P,this.h&R.h)},n.or=function(R){for(var C=Math.max(this.g.length,R.g.length),P=[],O=0;O<C;O++)P[O]=this.i(O)|R.i(O);return new l(P,this.h|R.h)},n.xor=function(R){for(var C=Math.max(this.g.length,R.g.length),P=[],O=0;O<C;O++)P[O]=this.i(O)^R.i(O);return new l(P,this.h^R.h)};function Y(R){for(var C=R.g.length+1,P=[],O=0;O<C;O++)P[O]=R.i(O)<<1|R.i(O-1)>>>31;return new l(P,R.h)}function J(R,C){var P=C>>5;C%=32;for(var O=R.g.length-P,L=[],F=0;F<O;F++)L[F]=0<C?R.i(F+P)>>>C|R.i(F+P+1)<<32-C:R.i(F+P);return new l(L,R.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,QE=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,oo=l}).apply(typeof Nv<"u"?Nv:typeof self<"u"?self:typeof window<"u"?window:{});var Wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YE,Ol,XE,gh,Gp,JE,ZE,ex;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,E){return d==Array.prototype||d==Object.prototype||(d[y]=E.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wu=="object"&&Wu];for(var y=0;y<d.length;++y){var E=d[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=t(this);function r(d,y){if(y)e:{var E=i;d=d.split(".");for(var k=0;k<d.length-1;k++){var H=d[k];if(!(H in E))break e;E=E[H]}d=d[d.length-1],k=E[d],y=y(k),y!=k&&y!=null&&e(E,d,{configurable:!0,writable:!0,value:y})}}function o(d,y){d instanceof String&&(d+="");var E=0,k=!1,H={next:function(){if(!k&&E<d.length){var Q=E++;return{value:y(Q,d[Q]),done:!1}}return k=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}r("Array.prototype.values",function(d){return d||function(){return o(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function p(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function g(d,y,E){return d.call.apply(d.bind,arguments)}function v(d,y,E){if(!d)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,k),d.apply(y,H)}}return function(){return d.apply(y,arguments)}}function w(d,y,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,w.apply(null,arguments)}function T(d,y){var E=Array.prototype.slice.call(arguments,1);return function(){var k=E.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function I(d,y){function E(){}E.prototype=y.prototype,d.aa=y.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(k,H,Q){for(var ae=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ae[Ge-2]=arguments[Ge];return y.prototype[H].apply(k,ae)}}function A(d){const y=d.length;if(0<y){const E=Array(y);for(let k=0;k<y;k++)E[k]=d[k];return E}return[]}function b(d,y){for(let E=1;E<arguments.length;E++){const k=arguments[E];if(h(k)){const H=d.length||0,Q=k.length||0;d.length=H+Q;for(let ae=0;ae<Q;ae++)d[H+ae]=k[ae]}else d.push(k)}}class D{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function V(d){return/^[\s\xa0]*$/.test(d)}function $(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function G(d){return G[" "](d),d}G[" "]=function(){};var Y=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function J(d,y,E){for(const k in d)y.call(E,d[k],k,d)}function R(d,y){for(const E in d)y.call(void 0,d[E],E,d)}function C(d){const y={};for(const E in d)y[E]=d[E];return y}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(d,y){let E,k;for(let H=1;H<arguments.length;H++){k=arguments[H];for(E in k)d[E]=k[E];for(let Q=0;Q<P.length;Q++)E=P[Q],Object.prototype.hasOwnProperty.call(k,E)&&(d[E]=k[E])}}function L(d){var y=1;d=d.split(":");const E=[];for(;0<y&&d.length;)E.push(d.shift()),y--;return d.length&&E.push(d.join(":")),E}function F(d){c.setTimeout(()=>{throw d},0)}function N(){var d=me;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class Ne{constructor(){this.h=this.g=null}add(y,E){const k=Se.get();k.set(y,E),this.h?this.h.next=k:this.g=k,this.h=k}}var Se=new D(()=>new De,d=>d.reset());class De{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,oe=!1,me=new Ne,le=()=>{const d=c.Promise.resolve(void 0);Ee=()=>{d.then(B)}};var B=()=>{for(var d;d=N();){try{d.h.call(d.g)}catch(E){F(E)}var y=Se;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}oe=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return d}();function Te(d,y){if(fe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(Y){e:{try{G(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else E=="mouseover"?y=d.fromElement:E=="mouseout"&&(y=d.toElement);this.relatedTarget=y,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ie[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Te.aa.h.call(this)}}I(Te,fe);var Ie={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),Pe=0;function He(d,y,E,k,H){this.listener=d,this.proxy=null,this.src=y,this.type=E,this.capture=!!k,this.ha=H,this.key=++Pe,this.da=this.fa=!1}function ht(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function En(d){this.src=d,this.g={},this.h=0}En.prototype.add=function(d,y,E,k,H){var Q=d.toString();d=this.g[Q],d||(d=this.g[Q]=[],this.h++);var ae=Wn(d,y,k,H);return-1<ae?(y=d[ae],E||(y.fa=!1)):(y=new He(y,this.src,Q,!!k,H),y.fa=E,d.push(y)),y};function Hi(d,y){var E=y.type;if(E in d.g){var k=d.g[E],H=Array.prototype.indexOf.call(k,y,void 0),Q;(Q=0<=H)&&Array.prototype.splice.call(k,H,1),Q&&(ht(y),d.g[E].length==0&&(delete d.g[E],d.h--))}}function Wn(d,y,E,k){for(var H=0;H<d.length;++H){var Q=d[H];if(!Q.da&&Q.listener==y&&Q.capture==!!E&&Q.ha==k)return H}return-1}var xr="closure_lm_"+(1e6*Math.random()|0),Wi={};function xs(d,y,E,k,H){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)xs(d,y[Q],E,k,H);return null}return E=Ss(E),d&&d[Ve]?d.K(y,E,p(k)?!!k.capture:!!k,H):Ts(d,y,E,!1,k,H)}function Ts(d,y,E,k,H,Q){if(!y)throw Error("Invalid event type");var ae=p(H)?!!H.capture:!!H,Ge=Tr(d);if(Ge||(d[xr]=Ge=new En(d)),E=Ge.add(y,E,k,ae,Q),E.proxy)return E;if(k=yo(),E.proxy=k,k.src=d,k.listener=E,d.addEventListener)xe||(H=ae),H===void 0&&(H=!1),d.addEventListener(y.toString(),k,H);else if(d.attachEvent)d.attachEvent(xn(y.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return E}function yo(){function d(E){return y.call(d.src,d.listener,E)}const y=pi;return d}function qi(d,y,E,k,H){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)qi(d,y[Q],E,k,H);else k=p(k)?!!k.capture:!!k,E=Ss(E),d&&d[Ve]?(d=d.i,y=String(y).toString(),y in d.g&&(Q=d.g[y],E=Wn(Q,E,k,H),-1<E&&(ht(Q[E]),Array.prototype.splice.call(Q,E,1),Q.length==0&&(delete d.g[y],d.h--)))):d&&(d=Tr(d))&&(y=d.g[y.toString()],d=-1,y&&(d=Wn(y,E,k,H)),(E=-1<d?y[d]:null)&&Zt(E))}function Zt(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[Ve])Hi(y.i,d);else{var E=d.type,k=d.proxy;y.removeEventListener?y.removeEventListener(E,k,d.capture):y.detachEvent?y.detachEvent(xn(E),k):y.addListener&&y.removeListener&&y.removeListener(k),(E=Tr(y))?(Hi(E,d),E.h==0&&(E.src=null,y[xr]=null)):ht(d)}}}function xn(d){return d in Wi?Wi[d]:Wi[d]="on"+d}function pi(d,y){if(d.da)d=!0;else{y=new Te(y,this);var E=d.listener,k=d.ha||d.src;d.fa&&Zt(d),d=E.call(k,y)}return d}function Tr(d){return d=d[xr],d instanceof En?d:null}var Sr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ss(d){return typeof d=="function"?d:(d[Sr]||(d[Sr]=function(y){return d.handleEvent(y)}),d[Sr])}function dt(){X.call(this),this.i=new En(this),this.M=this,this.F=null}I(dt,X),dt.prototype[Ve]=!0,dt.prototype.removeEventListener=function(d,y,E,k){qi(this,d,y,E,k)};function pt(d,y){var E,k=d.F;if(k)for(E=[];k;k=k.F)E.push(k);if(d=d.M,k=y.type||y,typeof y=="string")y=new fe(y,d);else if(y instanceof fe)y.target=y.target||d;else{var H=y;y=new fe(k,d),O(y,H)}if(H=!0,E)for(var Q=E.length-1;0<=Q;Q--){var ae=y.g=E[Q];H=qn(ae,k,!0,y)&&H}if(ae=y.g=d,H=qn(ae,k,!0,y)&&H,H=qn(ae,k,!1,y)&&H,E)for(Q=0;Q<E.length;Q++)ae=y.g=E[Q],H=qn(ae,k,!1,y)&&H}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var E=d.g[y],k=0;k<E.length;k++)ht(E[k]);delete d.g[y],d.h--}}this.F=null},dt.prototype.K=function(d,y,E,k){return this.i.add(String(d),y,!1,E,k)},dt.prototype.L=function(d,y,E,k){return this.i.add(String(d),y,!0,E,k)};function qn(d,y,E,k){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,Q=0;Q<y.length;++Q){var ae=y[Q];if(ae&&!ae.da&&ae.capture==E){var Ge=ae.listener,Tt=ae.ha||ae.src;ae.fa&&Hi(d.i,ae),H=Ge.call(Tt,k)!==!1&&H}}return H&&!k.defaultPrevented}function Is(d,y,E){if(typeof d=="function")E&&(d=w(d,E));else if(d&&typeof d.handleEvent=="function")d=w(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(d,y||0)}function mi(d){d.g=Is(()=>{d.g=null,d.i&&(d.i=!1,mi(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class on extends X{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:mi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ie(d){X.call(this),this.h=d,this.g={}}I(ie,X);var an=[];function gi(d){J(d.g,function(y,E){this.g.hasOwnProperty(E)&&Zt(y)},d),d.g={}}ie.prototype.N=function(){ie.aa.N.call(this),gi(this)},ie.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ki=c.JSON.stringify,_o=c.JSON.parse,Ba=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function bs(){}bs.prototype.h=null;function vo(d){return d.h||(d.h=d.i())}function wo(){}var Pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yi(){fe.call(this,"d")}I(yi,fe);function Eo(){fe.call(this,"c")}I(Eo,fe);var _i={},$a=null;function ks(){return $a=$a||new dt}_i.La="serverreachability";function Ha(d){fe.call(this,_i.La,d)}I(Ha,fe);function Gi(d){const y=ks();pt(y,new Ha(y))}_i.STAT_EVENT="statevent";function Wa(d,y){fe.call(this,_i.STAT_EVENT,d),this.stat=y}I(Wa,fe);function mt(d){const y=ks();pt(y,new Wa(y,d))}_i.Ma="timingevent";function xo(d,y){fe.call(this,_i.Ma,d),this.size=y}I(xo,fe);function Kn(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},y)}function Cs(){this.g=!0}Cs.prototype.xa=function(){this.g=!1};function As(d,y,E,k,H,Q){d.info(function(){if(d.g)if(Q)for(var ae="",Ge=Q.split("&"),Tt=0;Tt<Ge.length;Tt++){var Ue=Ge[Tt].split("=");if(1<Ue.length){var At=Ue[0];Ue=Ue[1];var vt=At.split("_");ae=2<=vt.length&&vt[1]=="type"?ae+(At+"="+Ue+"&"):ae+(At+"=redacted&")}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+k+") [attempt "+H+"]: "+y+`
`+E+`
`+ae})}function To(d,y,E,k,H,Q,ae){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+H+"]: "+y+`
`+E+`
`+Q+" "+ae})}function Gn(d,y,E,k){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+Pd(d,E)+(k?" "+k:"")})}function qa(d,y){d.info(function(){return"TIMEOUT: "+y})}Cs.prototype.info=function(){};function Pd(d,y){if(!d.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var k=E[d];if(!(2>k.length)){var H=k[1];if(Array.isArray(H)&&!(1>H.length)){var Q=H[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ae=1;ae<H.length;ae++)H[ae]=""}}}}return Ki(E)}catch{return y}}var So={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Cc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qn;function Rs(){}I(Rs,bs),Rs.prototype.g=function(){return new XMLHttpRequest},Rs.prototype.i=function(){return{}},Qn=new Rs;function Yn(d,y,E,k){this.j=d,this.i=y,this.l=E,this.R=k||1,this.U=new ie(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ac}function Ac(){this.i=null,this.g="",this.h=!1}var Ka={},Io={};function bo(d,y,E){d.L=1,d.v=Ar(Sn(y)),d.m=E,d.P=!0,Ga(d,null)}function Ga(d,y){d.F=Date.now(),Je(d),d.A=Sn(d.v);var E=d.A,k=d.R;Array.isArray(k)||(k=[String(k)]),Pr(E.i,"t",k),d.C=0,E=d.j.J,d.h=new Ac,d.g=Kc(d.j,E?y:null,!d.m),0<d.O&&(d.M=new on(w(d.Y,d,d.g),d.O)),y=d.U,E=d.g,k=d.ca;var H="readystatechange";Array.isArray(H)||(H&&(an[0]=H.toString()),H=an);for(var Q=0;Q<H.length;Q++){var ae=xs(E,H[Q],k||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),Gi(),As(d.i,d.u,d.A,d.l,d.R,d.m)}Yn.prototype.ca=function(d){d=d.target;const y=this.M;y&&cn(d)==3?y.j():this.Y(d)},Yn.prototype.Y=function(d){try{if(d==this.g)e:{const vt=cn(this.g);var y=this.g.Ba();const Mn=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||el(this.g)))){this.J||vt!=4||y==7||(y==8||0>=Mn?Gi(3):Gi(2)),Ps(this);var E=this.g.Z();this.X=E;t:if(Rc(this)){var k=el(this.g);d="";var H=k.length,Q=cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dn(this),Ir(this);var ae="";break t}this.h.i=new c.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,d+=this.h.i.decode(k[y],{stream:!(Q&&y==H-1)});k.length=0,this.h.g+=d,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=E==200,To(this.i,this.u,this.A,this.l,this.R,vt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Tt=this.g;if((Ge=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(Ge)){var Ue=Ge;break t}}Ue=null}if(E=Ue)Gn(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qa(this,E);else{this.o=!1,this.s=3,mt(12),Dn(this),Ir(this);break e}}if(this.P){E=!0;let bn;for(;!this.J&&this.C<ae.length;)if(bn=Dd(this,ae),bn==Io){vt==4&&(this.s=4,mt(14),E=!1),Gn(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==Ka){this.s=4,mt(15),Gn(this.i,this.l,ae,"[Invalid Chunk]"),E=!1;break}else Gn(this.i,this.l,bn,null),Qa(this,bn);if(Rc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||ae.length!=0||this.h.h||(this.s=1,mt(16),E=!1),this.o=this.o&&E,!E)Gn(this.i,this.l,ae,"[Invalid Chunked Response]"),Dn(this),Ir(this);else if(0<ae.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),nl(At),At.M=!0,mt(11))}}else Gn(this.i,this.l,ae,null),Qa(this,ae);vt==4&&Dn(this),this.o&&!this.J&&(vt==4?Vo(this.j,this):(this.o=!1,Je(this)))}else Do(this.g),E==400&&0<ae.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),Dn(this),Ir(this)}}}catch{}finally{}};function Rc(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Dd(d,y){var E=d.C,k=y.indexOf(`
`,E);return k==-1?Io:(E=Number(y.substring(E,k)),isNaN(E)?Ka:(k+=1,k+E>y.length?Io:(y=y.slice(k,k+E),d.C=k+E,y)))}Yn.prototype.cancel=function(){this.J=!0,Dn(this)};function Je(d){d.S=Date.now()+d.I,Pc(d,d.I)}function Pc(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Kn(w(d.ba,d),y)}function Ps(d){d.B&&(c.clearTimeout(d.B),d.B=null)}Yn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(qa(this.i,this.A),this.L!=2&&(Gi(),mt(17)),Dn(this),this.s=2,Ir(this)):Pc(this,this.S-d)};function Ir(d){d.j.G==0||d.J||Vo(d.j,d)}function Dn(d){Ps(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,gi(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function Qa(d,y){try{var E=d.j;if(E.G!=0&&(E.g==d||en(E.h,d))){if(!d.K&&en(E.h,d)&&E.G==3){try{var k=E.Da.g.parse(y)}catch{k=null}if(Array.isArray(k)&&k.length==3){var H=k;if(H[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)Lo(E),ti(E);else break e;Oo(E),mt(18)}}else E.za=H[1],0<E.za-E.T&&37500>H[2]&&E.F&&E.v==0&&!E.C&&(E.C=Kn(w(E.Za,E),6e3));if(1>=Nc(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Zi(E,11)}else if((d.K||E.g==d)&&Lo(E),!V(y))for(H=E.Da.g.parse(y),y=0;y<H.length;y++){let Ue=H[y];if(E.T=Ue[0],Ue=Ue[1],E.G==2)if(Ue[0]=="c"){E.K=Ue[1],E.ia=Ue[2];const At=Ue[3];At!=null&&(E.la=At,E.j.info("VER="+E.la));const vt=Ue[4];vt!=null&&(E.Aa=vt,E.j.info("SVER="+E.Aa));const Mn=Ue[5];Mn!=null&&typeof Mn=="number"&&0<Mn&&(k=1.5*Mn,E.L=k,E.j.info("backChannelRequestTimeoutMs_="+k)),k=E;const bn=d.g;if(bn){const Fs=bn.g?bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fs){var Q=k.h;Q.g||Fs.indexOf("spdy")==-1&&Fs.indexOf("quic")==-1&&Fs.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ya(Q,Q.h),Q.h=null))}if(k.D){const jo=bn.g?bn.g.getResponseHeader("X-HTTP-Session-Id"):null;jo&&(k.ya=jo,Xe(k.I,k.D,jo))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),k=E;var ae=d;if(k.qa=qc(k,k.J?k.ia:null,k.W),ae.K){Mc(k.h,ae);var Ge=ae,Tt=k.L;Tt&&(Ge.I=Tt),Ge.B&&(Ps(Ge),Je(Ge)),k.g=ae}else Vs(k);0<E.i.length&&xi(E)}else Ue[0]!="stop"&&Ue[0]!="close"||Zi(E,7);else E.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Zi(E,7):Ot(E):Ue[0]!="noop"&&E.l&&E.l.ta(Ue),E.v=0)}}Gi(4)}catch{}}var Dc=class{constructor(d,y){this.g=d,this.map=y}};function Ds(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Nc(d){return d.h?1:d.g?d.g.size:0}function en(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function Ya(d,y){d.g?d.g.add(y):d.h=y}function Mc(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}Ds.prototype.cancel=function(){if(this.i=Oc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Oc(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const E of d.g.values())y=y.concat(E.D);return y}return A(d.i)}function ko(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var y=[],E=d.length,k=0;k<E;k++)y.push(d[k]);return y}y=[],E=0;for(k in d)y[E++]=d[k];return y}function Co(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var y=[];d=d.length;for(var E=0;E<d;E++)y.push(E);return y}y=[],E=0;for(const k in d)y[E++]=k;return y}}}function br(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var E=Co(d),k=ko(d),H=k.length,Q=0;Q<H;Q++)y.call(void 0,k[Q],E&&E[Q],d)}var Ns=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nd(d,y){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var k=d[E].indexOf("="),H=null;if(0<=k){var Q=d[E].substring(0,k);H=d[E].substring(k+1)}else Q=d[E];y(Q,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Qi(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Qi){this.h=d.h,Ms(this,d.j),this.o=d.o,this.g=d.g,kr(this,d.s),this.l=d.l;var y=d.i,E=new vi;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),Cr(this,E),this.m=d.m}else d&&(y=String(d).match(Ns))?(this.h=!1,Ms(this,y[1]||"",!0),this.o=Fe(y[2]||""),this.g=Fe(y[3]||"",!0),kr(this,y[4]),this.l=Fe(y[5]||"",!0),Cr(this,y[6]||"",!0),this.m=Fe(y[7]||"")):(this.h=!1,this.i=new vi(null,this.h))}Qi.prototype.toString=function(){var d=[],y=this.j;y&&d.push(Rr(y,Ao,!0),":");var E=this.g;return(E||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Rr(y,Ao,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Rr(E,E.charAt(0)=="/"?Fc:Vc,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Rr(E,Xa)),d.join("")};function Sn(d){return new Qi(d)}function Ms(d,y,E){d.j=E?Fe(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function kr(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function Cr(d,y,E){y instanceof vi?(d.i=y,wi(d.i,d.h)):(E||(y=Rr(y,jc)),d.i=new vi(y,d.h))}function Xe(d,y,E){d.i.set(y,E)}function Ar(d){return Xe(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Fe(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Rr(d,y,E){return typeof d=="string"?(d=encodeURI(d).replace(y,Lc),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Lc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ao=/[#\/\?@]/g,Vc=/[#\?:]/g,Fc=/[#\?]/g,jc=/[#\?@]/g,Xa=/#/g;function vi(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function Mt(d){d.g||(d.g=new Map,d.h=0,d.i&&Nd(d.i,function(y,E){d.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=vi.prototype,n.add=function(d,y){Mt(this),this.i=null,d=Nn(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(y),this.h+=1,this};function Xn(d,y){Mt(d),y=Nn(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function Jn(d,y){return Mt(d),y=Nn(d,y),d.g.has(y)}n.forEach=function(d,y){Mt(this),this.g.forEach(function(E,k){E.forEach(function(H){d.call(y,H,k,this)},this)},this)},n.na=function(){Mt(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let k=0;k<y.length;k++){const H=d[k];for(let Q=0;Q<H.length;Q++)E.push(y[k])}return E},n.V=function(d){Mt(this);let y=[];if(typeof d=="string")Jn(this,d)&&(y=y.concat(this.g.get(Nn(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)y=y.concat(d[E])}return y},n.set=function(d,y){return Mt(this),this.i=null,d=Nn(this,d),Jn(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},n.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function Pr(d,y,E){Xn(d,y),0<E.length&&(d.i=null,d.g.set(Nn(d,y),A(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var k=y[E];const Q=encodeURIComponent(String(k)),ae=this.V(k);for(k=0;k<ae.length;k++){var H=Q;ae[k]!==""&&(H+="="+encodeURIComponent(String(ae[k]))),d.push(H)}}return this.i=d.join("&")};function Nn(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function wi(d,y){y&&!d.j&&(Mt(d),d.i=null,d.g.forEach(function(E,k){var H=k.toLowerCase();k!=H&&(Xn(this,k),Pr(this,H,E))},d)),d.j=y}function Md(d,y){const E=new Cs;if(c.Image){const k=new Image;k.onload=T(ln,E,"TestLoadImage: loaded",!0,y,k),k.onerror=T(ln,E,"TestLoadImage: error",!1,y,k),k.onabort=T(ln,E,"TestLoadImage: abort",!1,y,k),k.ontimeout=T(ln,E,"TestLoadImage: timeout",!1,y,k),c.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else y(!1)}function Uc(d,y){const E=new Cs,k=new AbortController,H=setTimeout(()=>{k.abort(),ln(E,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:k.signal}).then(Q=>{clearTimeout(H),Q.ok?ln(E,"TestPingServer: ok",!0,y):ln(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),ln(E,"TestPingServer: error",!1,y)})}function ln(d,y,E,k,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),k(E)}catch{}}function Od(){this.g=new Ba}function zc(d,y,E){const k=E||"";try{br(d,function(H,Q){let ae=H;p(H)&&(ae=Ki(H)),y.push(k+Q+"="+encodeURIComponent(ae))})}catch(H){throw y.push(k+"type="+encodeURIComponent("_badmap")),H}}function Yi(d){this.l=d.Ub||null,this.j=d.eb||!1}I(Yi,bs),Yi.prototype.g=function(){return new Os(this.l,this.j)},Yi.prototype.i=function(d){return function(){return d}}({});function Os(d,y){dt.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Os,dt),n=Os.prototype,n.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,ei(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zn(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Zn(this):ei(this),this.readyState==3&&Bc(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Zn(this))},n.Qa=function(d){this.g&&(this.response=d,Zn(this))},n.ga=function(){this.g&&Zn(this)};function Zn(d){d.readyState=4,d.l=null,d.j=null,d.v=null,ei(d)}n.setRequestHeader=function(d,y){this.u.append(d,y)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=y.next();return d.join(`\r
`)};function ei(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Xi(d){let y="";return J(d,function(E,k){y+=k,y+=":",y+=E,y+=`\r
`}),y}function Dr(d,y,E){e:{for(k in E){var k=!1;break e}k=!0}k||(E=Xi(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):Xe(d,y,E))}function st(d){dt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(st,dt);var Ld=/^https?$/i,Ja=["POST","PUT"];n=st.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,y,E,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qn.g(),this.v=this.o?vo(this.o):vo(Qn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(Q){Ls(this,Q);return}if(d=E||"",E=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var H in k)E.set(H,k[H]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const Q of k.keys())E.set(Q,k.get(Q));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ja,y,void 0))||k||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of E)this.g.setRequestHeader(Q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Po(this),this.u=!0,this.g.send(d),this.u=!1}catch(Q){Ls(this,Q)}};function Ls(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,Ro(d),In(d)}function Ro(d){d.A||(d.A=!0,pt(d,"complete"),pt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,pt(this,"complete"),pt(this,"abort"),In(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),In(this,!0)),st.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Za(this):this.bb())},n.bb=function(){Za(this)};function Za(d){if(d.h&&typeof l<"u"&&(!d.v[1]||cn(d)!=4||d.Z()!=2)){if(d.u&&cn(d)==4)Is(d.Ea,0,d);else if(pt(d,"readystatechange"),cn(d)==4){d.h=!1;try{const ae=d.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var k;if(k=ae===0){var H=String(d.D).match(Ns)[1]||null;!H&&c.self&&c.self.location&&(H=c.self.location.protocol.slice(0,-1)),k=!Ld.test(H?H.toLowerCase():"")}E=k}if(E)pt(d,"complete"),pt(d,"success");else{d.m=6;try{var Q=2<cn(d)?d.g.statusText:""}catch{Q=""}d.l=Q+" ["+d.Z()+"]",Ro(d)}}finally{In(d)}}}}function In(d,y){if(d.g){Po(d);const E=d.g,k=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||pt(d,"ready");try{E.onreadystatechange=k}catch{}}}function Po(d){d.I&&(c.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function cn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<cn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),_o(y)}};function el(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Do(d){const y={};d=(d.g&&2<=cn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(V(d[k]))continue;var E=L(d[k]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=y[H]||[];y[H]=Q,Q.push(E)}R(y,function(k){return k.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(d,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||y}function tl(d){this.Aa=0,this.i=[],this.j=new Cs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ei("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ei("baseRetryDelayMs",5e3,d),this.cb=Ei("retryDelaySeedMs",1e4,d),this.Wa=Ei("forwardChannelMaxRetries",2,d),this.wa=Ei("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Ds(d&&d.concurrentRequestLimit),this.Da=new Od,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=tl.prototype,n.la=8,n.G=1,n.connect=function(d,y,E,k){mt(0),this.W=d,this.H=y||{},E&&k!==void 0&&(this.H.OSID=E,this.H.OAID=k),this.F=this.X,this.I=qc(this,null,this.W),xi(this)};function Ot(d){if(No(d),d.G==3){var y=d.U++,E=Sn(d.I);if(Xe(E,"SID",d.K),Xe(E,"RID",y),Xe(E,"TYPE","terminate"),Ji(d,E),y=new Yn(d,d.j,y),y.L=2,y.v=Ar(Sn(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.v,E=!0),E||(y.g=Kc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Je(y)}Wc(d)}function ti(d){d.g&&(nl(d),d.g.cancel(),d.g=null)}function No(d){ti(d),d.u&&(c.clearTimeout(d.u),d.u=null),Lo(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function xi(d){if(!Tn(d.h)&&!d.s){d.s=!0;var y=d.Ga;Ee||le(),oe||(Ee(),oe=!0),me.add(y,d),d.B=0}}function Vd(d,y){return Nc(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Kn(w(d.Ga,d,y),Hc(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const H=new Yn(this,this.j,d);let Q=this.o;if(this.S&&(Q?(Q=C(Q),O(Q,this.S)):Q=this.S),this.m!==null||this.O||(H.H=Q,Q=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var k=this.i[E];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(y+=k,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Nr(this,H,y),E=Sn(this.I),Xe(E,"RID",d),Xe(E,"CVER",22),this.D&&Xe(E,"X-HTTP-Session-Id",this.D),Ji(this,E),Q&&(this.O?y="headers="+encodeURIComponent(String(Xi(Q)))+"&"+y:this.m&&Dr(E,this.m,Q)),Ya(this.h,H),this.Ua&&Xe(E,"TYPE","init"),this.P?(Xe(E,"$req",y),Xe(E,"SID","null"),H.T=!0,bo(H,E,null)):bo(H,E,y),this.G=2}}else this.G==3&&(d?Mo(this,d):this.i.length==0||Tn(this.h)||Mo(this))};function Mo(d,y){var E;y?E=y.l:E=d.U++;const k=Sn(d.I);Xe(k,"SID",d.K),Xe(k,"RID",E),Xe(k,"AID",d.T),Ji(d,k),d.m&&d.o&&Dr(k,d.m,d.o),E=new Yn(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),y&&(d.i=y.D.concat(d.i)),y=Nr(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ya(d.h,E),bo(E,k,y)}function Ji(d,y){d.H&&J(d.H,function(E,k){Xe(y,k,E)}),d.l&&br({},function(E,k){Xe(y,k,E)})}function Nr(d,y,E){E=Math.min(d.i.length,E);var k=d.l?w(d.l.Na,d.l,d):null;e:{var H=d.i;let Q=-1;for(;;){const ae=["count="+E];Q==-1?0<E?(Q=H[0].g,ae.push("ofs="+Q)):Q=0:ae.push("ofs="+Q);let Ge=!0;for(let Tt=0;Tt<E;Tt++){let Ue=H[Tt].g;const At=H[Tt].map;if(Ue-=Q,0>Ue)Q=Math.max(0,H[Tt].g-100),Ge=!1;else try{zc(At,ae,"req"+Ue+"_")}catch{k&&k(At)}}if(Ge){k=ae.join("&");break e}}}return d=d.i.splice(0,E),y.D=d,k}function Vs(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;Ee||le(),oe||(Ee(),oe=!0),me.add(y,d),d.v=0}}function Oo(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Kn(w(d.Fa,d),Hc(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,$c(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Kn(w(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),ti(this),$c(this))};function nl(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function $c(d){d.g=new Yn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=Sn(d.qa);Xe(y,"RID","rpc"),Xe(y,"SID",d.K),Xe(y,"AID",d.T),Xe(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&Xe(y,"TO",d.ja),Xe(y,"TYPE","xmlhttp"),Ji(d,y),d.m&&d.o&&Dr(y,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=Ar(Sn(y)),E.m=null,E.P=!0,Ga(E,d)}n.Za=function(){this.C!=null&&(this.C=null,ti(this),Oo(this),mt(19))};function Lo(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Vo(d,y){var E=null;if(d.g==y){Lo(d),nl(d),d.g=null;var k=2}else if(en(d.h,y))E=y.D,Mc(d.h,y),k=1;else return;if(d.G!=0){if(y.o)if(k==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var H=d.B;k=ks(),pt(k,new xo(k,E)),xi(d)}else Vs(d);else if(H=y.s,H==3||H==0&&0<y.X||!(k==1&&Vd(d,y)||k==2&&Oo(d)))switch(E&&0<E.length&&(y=d.h,y.i=y.i.concat(E)),H){case 1:Zi(d,5);break;case 4:Zi(d,10);break;case 3:Zi(d,6);break;default:Zi(d,2)}}}function Hc(d,y){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*y}function Zi(d,y){if(d.j.info("Error code "+y),y==2){var E=w(d.fb,d),k=d.Xa;const H=!k;k=new Qi(k||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ms(k,"https"),Ar(k),H?Md(k.toString(),E):Uc(k.toString(),E)}else mt(2);d.G=0,d.l&&d.l.sa(y),Wc(d),No(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function Wc(d){if(d.G=0,d.ka=[],d.l){const y=Oc(d.h);(y.length!=0||d.i.length!=0)&&(b(d.ka,y),b(d.ka,d.i),d.h.i.length=0,A(d.i),d.i.length=0),d.l.ra()}}function qc(d,y,E){var k=E instanceof Qi?Sn(E):new Qi(E);if(k.g!="")y&&(k.g=y+"."+k.g),kr(k,k.s);else{var H=c.location;k=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var Q=new Qi(null);k&&Ms(Q,k),y&&(Q.g=y),H&&kr(Q,H),E&&(Q.l=E),k=Q}return E=d.D,y=d.ya,E&&y&&Xe(k,E,y),Xe(k,"VER",d.la),Ji(d,k),k}function Kc(d,y,E){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new st(new Yi({eb:E})):new st(d.pa),y.Ha(d.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function il(){}n=il.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Fo(){}Fo.prototype.g=function(d,y){return new tn(d,y)};function tn(d,y){dt.call(this),this.g=new tl(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!V(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!V(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Ti(this)}I(tn,dt),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Ot(this.g)},tn.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=Ki(d),d=E);y.i.push(new Dc(y.Ya++,d)),y.G==3&&xi(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,Ot(this.g),delete this.g,tn.aa.N.call(this)};function Gc(d){yi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const E in y){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}I(Gc,yi);function Qc(){Eo.call(this),this.status=1}I(Qc,Eo);function Ti(d){this.g=d}I(Ti,il),Ti.prototype.ua=function(){pt(this.g,"a")},Ti.prototype.ta=function(d){pt(this.g,new Gc(d))},Ti.prototype.sa=function(d){pt(this.g,new Qc)},Ti.prototype.ra=function(){pt(this.g,"b")},Fo.prototype.createWebChannel=Fo.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,ex=function(){return new Fo},ZE=function(){return ks()},JE=_i,Gp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},So.NO_ERROR=0,So.TIMEOUT=8,So.HTTP_ERROR=6,gh=So,Cc.COMPLETE="complete",XE=Cc,wo.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Ol=wo,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,YE=st}).apply(typeof Wu<"u"?Wu:typeof self<"u"?self:typeof window<"u"?window:{});const Mv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Na="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=new bm("@firebase/firestore");function aa(){return uo.logLevel}function ue(n,...e){if(uo.logLevel<=Oe.DEBUG){const t=e.map(jm);uo.debug(`Firestore (${Na}): ${n}`,...t)}}function wr(n,...e){if(uo.logLevel<=Oe.ERROR){const t=e.map(jm);uo.error(`Firestore (${Na}): ${n}`,...t)}}function wa(n,...e){if(uo.logLevel<=Oe.WARN){const t=e.map(jm);uo.warn(`Firestore (${Na}): ${n}`,...t)}}function jm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(n="Unexpected state"){const e=`FIRESTORE (${Na}) INTERNAL ASSERTION FAILED: `+n;throw wr(e),new Error(e)}function Ke(n,e){n||ke()}function Re(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Bi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gt.UNAUTHENTICATED))}shutdown(){}}class CA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class AA{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0);let i=this.i;const r=h=>this.i!==i?(i=this.i,t(h)):Promise.resolve();let o=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new gr,e.enqueueRetryable(()=>r(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await r(this.currentUser)})},c=h=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new gr)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ke(typeof i.accessToken=="string"),new tx(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new Gt(e)}}class RA{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class PA{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new RA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ke(this.o===void 0);const i=o=>{o.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,ue("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ke(typeof t.token=="string"),this.R=t.token,new DA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=MA(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%e.length))}return i}}function je(n,e){return n<e?-1:n>e?1:0}function Ea(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{static now(){return kt.fromMillis(Date.now())}static fromDate(e){return kt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new kt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new kt(0,0))}static max(){return new Ae(new kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,t,i){t===void 0?t=0:t>e.length&&ke(),i===void 0?i=e.length-t:i>e.length-t&&ke(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return tc.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof tc?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),l=t.get(r);if(o<l)return-1;if(o>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class it extends tc{construct(e,t,i){return new it(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new de(ee.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new it(t)}static emptyPath(){return new it([])}}const OA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends tc{construct(e,t,i){return new jt(e,t,i)}static isValidIdentifier(e){return OA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new jt(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(i.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;r<e.length;){const c=e[r];if(c==="\\"){if(r+1===e.length)throw new de(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[r+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new de(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,r+=2}else c==="`"?(l=!l,r++):c!=="."||l?(i+=c,r++):(o(),r++)}if(o(),l)throw new de(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(t)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(it.fromString(e))}static fromName(e){return new _e(it.fromString(e).popFirst(5))}static empty(){return new _e(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new it(e.slice()))}}function LA(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ae.fromTimestamp(i===1e9?new kt(t+1,0):new kt(t,i));return new fs(r,_e.empty(),e)}function VA(n){return new fs(n.readTime,n.key,-1)}class fs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new fs(Ae.min(),_e.empty(),-1)}static max(){return new fs(Ae.max(),_e.empty(),-1)}}function FA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:je(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ma(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==jA)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,i)=>{t(e)})}static reject(e){return new Z((t,i)=>{i(e)})}static waitFor(e){return new Z((t,i)=>{let r=0,o=0,l=!1;e.forEach(c=>{++r,c.next(()=>{++o,l&&o===r&&t()},h=>i(h))}),l=!0,o===r&&t()})}static or(e){let t=Z.resolve(!1);for(const i of e)t=t.next(r=>r?Z.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new Z((i,r)=>{const o=e.length,l=new Array(o);let c=0;for(let h=0;h<o;h++){const p=h;t(e[p]).next(g=>{l[p]=g,++c,c===o&&i(l)},g=>r(g))}})}static doWhile(e,t){return new Z((i,r)=>{const o=()=>{e()===!0?t().next(()=>{o()},r):i()};o()})}}function zA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Oa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ad.oe=-1;function ld(n){return n==null}function Oh(n){return n===0&&1/n==-1/0}function BA(n){return typeof n=="number"&&Number.isInteger(n)&&!Oh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ov(e)),e=HA(n.get(t),e);return Ov(e)}function HA(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="";break;case"":t+="";break;default:t+=o}}return t}function Ov(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ws(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ix(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this.comparator=e,this.root=t||Ft.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qu(this.root,e,this.comparator,!0)}}class qu{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??Ft.RED,this.left=r??Ft.EMPTY,this.right=o??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new Ft(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):o===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return Ft.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ke();const e=this.left.check();if(e!==this.right.check())throw ke();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw ke()}get value(){throw ke()}get color(){throw ke()}get left(){throw ke()}get right(){throw ke()}copy(e,t,i,r,o){return this}insert(e,t,i){return new Ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Vv(this.data.getIterator())}getIteratorFrom(e){return new Vv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ct(this.comparator);return t.data=e,t}}class Vv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new Rn([])}unionWith(e){let t=new Ct(jt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Rn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ea(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new rx("Invalid base64 string: "+o):o}}(e);return new zt(t)}static fromUint8Array(e){const t=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const WA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(n){if(Ke(!!n),typeof n=="string"){let e=0;const t=WA.exec(n);if(Ke(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:yt(n.seconds),nanos:yt(n.nanos)}}function yt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ms(n){return typeof n=="string"?zt.fromBase64String(n):zt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function cd(n){const e=n.mapValue.fields.__previous_value__;return Um(e)?cd(e):e}function nc(n){const e=ps(n.mapValue.fields.__local_write_time__.timestampValue);return new kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,t,i,r,o,l,c,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=p}}class ic{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ic("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ic&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function gs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Um(n)?4:GA(n)?9007199254740991:KA(n)?10:11:ke()}function Vi(n,e){if(n===e)return!0;const t=gs(n);if(t!==gs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return nc(n).isEqual(nc(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=ps(r.timestampValue),c=ps(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,o){return ms(r.bytesValue).isEqual(ms(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return yt(r.geoPointValue.latitude)===yt(o.geoPointValue.latitude)&&yt(r.geoPointValue.longitude)===yt(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return yt(r.integerValue)===yt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=yt(r.doubleValue),c=yt(o.doubleValue);return l===c?Oh(l)===Oh(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return Ea(n.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return function(r,o){const l=r.mapValue.fields||{},c=o.mapValue.fields||{};if(Lv(l)!==Lv(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!Vi(l[h],c[h])))return!1;return!0}(n,e);default:return ke()}}function rc(n,e){return(n.values||[]).find(t=>Vi(t,e))!==void 0}function xa(n,e){if(n===e)return 0;const t=gs(n),i=gs(e);if(t!==i)return je(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(n.booleanValue,e.booleanValue);case 2:return function(o,l){const c=yt(o.integerValue||o.doubleValue),h=yt(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return Fv(n.timestampValue,e.timestampValue);case 4:return Fv(nc(n),nc(e));case 5:return je(n.stringValue,e.stringValue);case 6:return function(o,l){const c=ms(o),h=ms(l);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),h=l.split("/");for(let p=0;p<c.length&&p<h.length;p++){const g=je(c[p],h[p]);if(g!==0)return g}return je(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const c=je(yt(o.latitude),yt(l.latitude));return c!==0?c:je(yt(o.longitude),yt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return jv(n.arrayValue,e.arrayValue);case 10:return function(o,l){var c,h,p,g;const v=o.fields||{},w=l.fields||{},T=(c=v.value)===null||c===void 0?void 0:c.arrayValue,I=(h=w.value)===null||h===void 0?void 0:h.arrayValue,A=je(((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0,((g=I==null?void 0:I.values)===null||g===void 0?void 0:g.length)||0);return A!==0?A:jv(T,I)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===Ku.mapValue&&l===Ku.mapValue)return 0;if(o===Ku.mapValue)return 1;if(l===Ku.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),p=l.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let v=0;v<h.length&&v<g.length;++v){const w=je(h[v],g[v]);if(w!==0)return w;const T=xa(c[h[v]],p[g[v]]);if(T!==0)return T}return je(h.length,g.length)}(n.mapValue,e.mapValue);default:throw ke()}}function Fv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return je(n,e);const t=ps(n),i=ps(e),r=je(t.seconds,i.seconds);return r!==0?r:je(t.nanos,i.nanos)}function jv(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const o=xa(t[r],i[r]);if(o)return o}return je(t.length,i.length)}function Ta(n){return Qp(n)}function Qp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ps(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ms(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const o of t.values||[])r?r=!1:i+=",",i+=Qp(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",o=!0;for(const l of i)o?o=!1:r+=",",r+=`${l}:${Qp(t.fields[l])}`;return r+"}"}(n.mapValue):ke()}function yh(n){switch(gs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cd(n);return e?16+yh(e):16;case 5:return 2*n.stringValue.length;case 6:return ms(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,o)=>r+yh(o),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return ws(i.fields,(o,l)=>{r+=o.length+yh(l)}),r}(n.mapValue);default:throw ke()}}function Uv(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Yp(n){return!!n&&"integerValue"in n}function zm(n){return!!n&&"arrayValue"in n}function zv(n){return!!n&&"nullValue"in n}function Bv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _h(n){return!!n&&"mapValue"in n}function KA(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function $l(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ws(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=$l(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$l(n.arrayValue.values[t]);return e}return Object.assign({},n)}function GA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!_h(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(t)}setAll(e){let t=jt.emptyPath(),i={},r=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,i,r),i={},r=[],t=c.popLast()}l?i[c.lastSegment()]=$l(l):r.push(c.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());_h(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];_h(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){ws(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new _n($l(this.value))}}function sx(n){const e=[];return ws(n.fields,(t,i)=>{const r=new jt([t]);if(_h(i)){const o=sx(i.mapValue).fields;if(o.length===0)e.push(r);else for(const l of o)e.push(r.child(l))}else e.push(r)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,t,i,r,o,l,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Qt(e,0,Ae.min(),Ae.min(),Ae.min(),_n.empty(),0)}static newFoundDocument(e,t,i,r){return new Qt(e,1,t,Ae.min(),i,r,0)}static newNoDocument(e,t){return new Qt(e,2,t,Ae.min(),Ae.min(),_n.empty(),0)}static newUnknownDocument(e,t){return new Qt(e,3,t,Ae.min(),Ae.min(),_n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,t){this.position=e,this.inclusive=t}}function $v(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],l=n.position[r];if(o.field.isKeyField()?i=_e.comparator(_e.fromName(l.referenceValue),t.key):i=xa(l,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function Hv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t="asc"){this.field=e,this.dir=t}}function QA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{}class xt extends ox{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new XA(e,t,i):t==="array-contains"?new eR(e,i):t==="in"?new tR(e,i):t==="not-in"?new nR(e,i):t==="array-contains-any"?new iR(e,i):new xt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new JA(e,i):new ZA(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(xa(t,this.value)):t!==null&&gs(this.value)===gs(t)&&this.matchesComparison(xa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends ox{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new di(e,t)}matches(e){return ax(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ax(n){return n.op==="and"}function lx(n){return YA(n)&&ax(n)}function YA(n){for(const e of n.filters)if(e instanceof di)return!1;return!0}function Xp(n){if(n instanceof xt)return n.field.canonicalString()+n.op.toString()+Ta(n.value);if(lx(n))return n.filters.map(e=>Xp(e)).join(",");{const e=n.filters.map(t=>Xp(t)).join(",");return`${n.op}(${e})`}}function cx(n,e){return n instanceof xt?function(i,r){return r instanceof xt&&i.op===r.op&&i.field.isEqual(r.field)&&Vi(i.value,r.value)}(n,e):n instanceof di?function(i,r){return r instanceof di&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,l,c)=>o&&cx(l,r.filters[c]),!0):!1}(n,e):void ke()}function ux(n){return n instanceof xt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ta(t.value)}`}(n):n instanceof di?function(t){return t.op.toString()+" {"+t.getFilters().map(ux).join(" ,")+"}"}(n):"Filter"}class XA extends xt{constructor(e,t,i){super(e,t,i),this.key=_e.fromName(i.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class JA extends xt{constructor(e,t){super(e,"in",t),this.keys=hx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ZA extends xt{constructor(e,t){super(e,"not-in",t),this.keys=hx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function hx(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>_e.fromName(i.referenceValue))}class eR extends xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zm(t)&&rc(t.arrayValue,this.value)}}class tR extends xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&rc(this.value.arrayValue,t)}}class nR extends xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!rc(this.value.arrayValue,t)}}class iR extends xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>rc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,t=null,i=[],r=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=l,this.endAt=c,this.ue=null}}function Wv(n,e=null,t=[],i=[],r=null,o=null,l=null){return new rR(n,e,t,i,r,o,l)}function Bm(n){const e=Re(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Xp(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),ld(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ta(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ta(i)).join(",")),e.ue=t}return e.ue}function $m(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!QA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!cx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Hv(n.startAt,e.startAt)&&Hv(n.endAt,e.endAt)}function Jp(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,t=null,i=[],r=[],o=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function sR(n,e,t,i,r,o,l,c){return new wc(n,e,t,i,r,o,l,c)}function Hm(n){return new wc(n)}function qv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function dx(n){return n.collectionGroup!==null}function Hl(n){const e=Re(n);if(e.ce===null){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Ct(jt.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Vh(o,i))}),t.has(jt.keyField().canonicalString())||e.ce.push(new Vh(jt.keyField(),i))}return e.ce}function Mi(n){const e=Re(n);return e.le||(e.le=oR(e,Hl(n))),e.le}function oR(n,e){if(n.limitType==="F")return Wv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new Vh(r.field,o)});const t=n.endAt?new Lh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Lh(n.startAt.position,n.startAt.inclusive):null;return Wv(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Zp(n,e){const t=n.filters.concat([e]);return new wc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function em(n,e,t){return new wc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ud(n,e){return $m(Mi(n),Mi(e))&&n.limitType===e.limitType}function fx(n){return`${Bm(Mi(n))}|lt:${n.limitType}`}function la(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>ux(r)).join(", ")}]`),ld(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Ta(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Ta(r)).join(",")),`Target(${i})`}(Mi(n))}; limitType=${n.limitType})`}function hd(n,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):_e.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(const o of Hl(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(l,c,h){const p=$v(l,c,h);return l.inclusive?p<=0:p<0}(i.startAt,Hl(i),r)||i.endAt&&!function(l,c,h){const p=$v(l,c,h);return l.inclusive?p>=0:p>0}(i.endAt,Hl(i),r))}(n,e)}function aR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function px(n){return(e,t)=>{let i=!1;for(const r of Hl(n)){const o=lR(r,e,t);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function lR(n,e,t){const i=n.field.isKeyField()?_e.comparator(e.key,t.key):function(o,l,c){const h=l.data.field(o),p=c.data.field(o);return h!==null&&p!==null?xa(h,p):ke()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ws(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return ix(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=new ut(_e.comparator);function Er(){return cR}const mx=new ut(_e.comparator);function Ll(...n){let e=mx;for(const t of n)e=e.insert(t.key,t);return e}function gx(n){let e=mx;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function io(){return Wl()}function yx(){return Wl()}function Wl(){return new mo(n=>n.toString(),(n,e)=>n.isEqual(e))}const uR=new ut(_e.comparator),hR=new Ct(_e.comparator);function Le(...n){let e=hR;for(const t of n)e=e.add(t);return e}const dR=new Ct(je);function fR(){return dR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function _x(n){return{integerValue:""+n}}function pR(n,e){return BA(e)?_x(e):Wm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(){this._=void 0}}function mR(n,e,t){return n instanceof Fh?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Um(o)&&(o=cd(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof Sa?wx(n,e):n instanceof sc?Ex(n,e):function(r,o){const l=vx(r,o),c=Kv(l)+Kv(r.Pe);return Yp(l)&&Yp(r.Pe)?_x(c):Wm(r.serializer,c)}(n,e)}function gR(n,e,t){return n instanceof Sa?wx(n,e):n instanceof sc?Ex(n,e):t}function vx(n,e){return n instanceof jh?function(i){return Yp(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class Fh extends dd{}class Sa extends dd{constructor(e){super(),this.elements=e}}function wx(n,e){const t=xx(e);for(const i of n.elements)t.some(r=>Vi(r,i))||t.push(i);return{arrayValue:{values:t}}}class sc extends dd{constructor(e){super(),this.elements=e}}function Ex(n,e){let t=xx(e);for(const i of n.elements)t=t.filter(r=>!Vi(r,i));return{arrayValue:{values:t}}}class jh extends dd{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Kv(n){return yt(n.integerValue||n.doubleValue)}function xx(n){return zm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,t){this.field=e,this.transform=t}}function _R(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof Sa&&r instanceof Sa||i instanceof sc&&r instanceof sc?Ea(i.elements,r.elements,Vi):i instanceof jh&&r instanceof jh?Vi(i.Pe,r.Pe):i instanceof Fh&&r instanceof Fh}(n.transform,e.transform)}class vR{constructor(e,t){this.version=e,this.transformResults=t}}class hi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class fd{}function Tx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new qm(n.key,hi.none()):new Ec(n.key,n.data,hi.none());{const t=n.data,i=_n.empty();let r=new Ct(jt.comparator);for(let o of e.fields)if(!r.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?i.delete(o):i.set(o,l),r=r.add(o)}return new Es(n.key,i,new Rn(r.toArray()),hi.none())}}function wR(n,e,t){n instanceof Ec?function(r,o,l){const c=r.value.clone(),h=Qv(r.fieldTransforms,o,l.transformResults);c.setAll(h),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Es?function(r,o,l){if(!vh(r.precondition,o))return void o.convertToUnknownDocument(l.version);const c=Qv(r.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(Sx(r)),h.setAll(c),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(r,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function ql(n,e,t,i){return n instanceof Ec?function(o,l,c,h){if(!vh(o.precondition,l))return c;const p=o.value.clone(),g=Yv(o.fieldTransforms,h,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof Es?function(o,l,c,h){if(!vh(o.precondition,l))return c;const p=Yv(o.fieldTransforms,h,l),g=l.data;return g.setAll(Sx(o)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,e,t,i):function(o,l,c){return vh(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function ER(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=vx(i.transform,r||null);o!=null&&(t===null&&(t=_n.empty()),t.set(i.field,o))}return t||null}function Gv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ea(i,r,(o,l)=>_R(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ec extends fd{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Es extends fd{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Sx(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Qv(n,e,t){const i=new Map;Ke(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],l=o.transform,c=e.data.field(o.field);i.set(o.field,gR(l,c,t[r]))}return i}function Yv(n,e,t){const i=new Map;for(const r of n){const o=r.transform,l=t.data.field(r.field);i.set(r.field,mR(o,l,e))}return i}class qm extends fd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xR extends fd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&wR(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ql(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ql(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=yx();return this.mutations.forEach(r=>{const o=e.get(r.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=t.has(r.key)?null:c;const h=Tx(l,c);h!==null&&i.set(r.key,h),l.isValidDocument()||l.convertToNoDocument(Ae.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&Ea(this.mutations,e.mutations,(t,i)=>Gv(t,i))&&Ea(this.baseMutations,e.baseMutations,(t,i)=>Gv(t,i))}}class Km{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ke(e.mutations.length===i.length);let r=function(){return uR}();const o=e.mutations;for(let l=0;l<o.length;l++)r=r.insert(o[l].key,i[l].version);return new Km(e,t,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,ze;function bR(n){switch(n){default:return ke();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function Ix(n){if(n===void 0)return wr("GRPC error has no .code"),ee.UNKNOWN;switch(n){case Et.OK:return ee.OK;case Et.CANCELLED:return ee.CANCELLED;case Et.UNKNOWN:return ee.UNKNOWN;case Et.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Et.INTERNAL:return ee.INTERNAL;case Et.UNAVAILABLE:return ee.UNAVAILABLE;case Et.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Et.NOT_FOUND:return ee.NOT_FOUND;case Et.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Et.ABORTED:return ee.ABORTED;case Et.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Et.DATA_LOSS:return ee.DATA_LOSS;default:return ke()}}(ze=Et||(Et={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=new oo([4294967295,4294967295],0);function Xv(n){const e=kR().encode(n),t=new QE;return t.update(e),new Uint8Array(t.digest())}function Jv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new oo([t,i],0),new oo([r,o],0)]}class Gm{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Vl(`Invalid padding: ${t}`);if(i<0)throw new Vl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Vl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Vl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=oo.fromNumber(this.Te)}Ee(e,t,i){let r=e.add(t.multiply(oo.fromNumber(i)));return r.compare(CR)===1&&(r=new oo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Xv(e),[i,r]=Jv(t);for(let o=0;o<this.hashCount;o++){const l=this.Ee(i,r,o);if(!this.de(l))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Gm(o,r,t);return i.forEach(c=>l.insert(c)),l}insert(e){if(this.Te===0)return;const t=Xv(e),[i,r]=Jv(t);for(let o=0;o<this.hashCount;o++){const l=this.Ee(i,r,o);this.Ae(l)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,xc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new pd(Ae.min(),r,new ut(je),Er(),Le())}}class xc{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new xc(i,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,t,i,r){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=r}}class bx{constructor(e,t){this.targetId=e,this.me=t}}class kx{constructor(e,t,i=zt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class Zv{constructor(){this.fe=0,this.ge=e0(),this.pe=zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Le(),t=Le(),i=Le();return this.ge.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ke()}}),new xc(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=e0()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class AR{constructor(e){this.Le=e,this.Be=new Map,this.ke=Er(),this.qe=Gu(),this.Qe=Gu(),this.Ke=new ut(je)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:ke()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,r)=>{this.je(r)&&t(r)})}Je(e){const t=e.targetId,i=e.me.count,r=this.Ye(t);if(r){const o=r.target;if(Jp(o))if(i===0){const l=new _e(o.path);this.We(t,l,Qt.newNoDocument(l,Ae.min()))}else Ke(i===1);else{const l=this.Ze(t);if(l!==i){const c=this.Xe(e),h=c?this.et(c,e,l):1;if(h!==0){this.He(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,p)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t;let l,c;try{l=ms(i).toUint8Array()}catch(h){if(h instanceof rx)return wa("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new Gm(l,r,o)}catch(h){return wa(h instanceof Vl?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Te===0?null:c}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const l=this.Le.nt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.We(t,o,null),r++)}),r}it(e){const t=new Map;this.Be.forEach((o,l)=>{const c=this.Ye(l);if(c){if(o.current&&Jp(c.target)){const h=new _e(c.target.path);this.st(h).has(l)||this.ot(l,h)||this.We(l,h,Qt.newNoDocument(h,e))}o.be&&(t.set(l,o.ve()),o.Ce())}});let i=Le();this.Qe.forEach((o,l)=>{let c=!0;l.forEachWhile(h=>{const p=this.Ye(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(o))}),this.ke.forEach((o,l)=>l.setReadTime(e));const r=new pd(e,t,this.Ke,this.ke,i);return this.ke=Er(),this.qe=Gu(),this.Qe=Gu(),this.Ke=new ut(je),r}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const r=this.ze(e);this.ot(e,t)?r.Fe(t,1):r.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Zv,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Ct(je),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ct(je),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Zv),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Gu(){return new ut(_e.comparator)}function e0(){return new ut(_e.comparator)}const RR={asc:"ASCENDING",desc:"DESCENDING"},PR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DR={and:"AND",or:"OR"};class NR{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function tm(n,e){return n.useProto3Json||ld(e)?e:{value:e}}function Uh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function MR(n,e){return Uh(n,e.toTimestamp())}function Oi(n){return Ke(!!n),Ae.fromTimestamp(function(t){const i=ps(t);return new kt(i.seconds,i.nanos)}(n))}function Qm(n,e){return nm(n,e).canonicalString()}function nm(n,e){const t=function(r){return new it(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Ax(n){const e=it.fromString(n);return Ke(Mx(e)),e}function im(n,e){return Qm(n.databaseId,e.path)}function Ep(n,e){const t=Ax(e);if(t.get(1)!==n.databaseId.projectId)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(Px(t))}function Rx(n,e){return Qm(n.databaseId,e)}function OR(n){const e=Ax(n);return e.length===4?it.emptyPath():Px(e)}function rm(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Px(n){return Ke(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function t0(n,e,t){return{name:im(n,e),fields:t.value.mapValue.fields}}function LR(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(p,g){return p.useProto3Json?(Ke(g===void 0||typeof g=="string"),zt.fromBase64String(g||"")):(Ke(g===void 0||g instanceof Buffer||g instanceof Uint8Array),zt.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const g=p.code===void 0?ee.UNKNOWN:Ix(p.code);return new de(g,p.message||"")}(l);t=new kx(i,r,o,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Ep(n,i.document.name),o=Oi(i.document.updateTime),l=i.document.createTime?Oi(i.document.createTime):Ae.min(),c=new _n({mapValue:{fields:i.document.fields}}),h=Qt.newFoundDocument(r,o,l,c),p=i.targetIds||[],g=i.removedTargetIds||[];t=new wh(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Ep(n,i.document),o=i.readTime?Oi(i.readTime):Ae.min(),l=Qt.newNoDocument(r,o),c=i.removedTargetIds||[];t=new wh([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Ep(n,i.document),o=i.removedTargetIds||[];t=new wh([],o,r,null)}else{if(!("filter"in e))return ke();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,l=new IR(r,o),c=i.targetId;t=new bx(c,l)}}return t}function VR(n,e){let t;if(e instanceof Ec)t={update:t0(n,e.key,e.value)};else if(e instanceof qm)t={delete:im(n,e.key)};else if(e instanceof Es)t={update:t0(n,e.key,e.data),updateMask:qR(e.fieldMask)};else{if(!(e instanceof xR))return ke();t={verify:im(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,l){const c=l.transform;if(c instanceof Fh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Sa)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof sc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof jh)return{fieldPath:l.field.canonicalString(),increment:c.Pe};throw ke()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:MR(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ke()}(n,e.precondition)),t}function FR(n,e){return n&&n.length>0?(Ke(e!==void 0),n.map(t=>function(r,o){let l=r.updateTime?Oi(r.updateTime):Oi(o);return l.isEqual(Ae.min())&&(l=Oi(o)),new vR(l,r.transformResults||[])}(t,e))):[]}function jR(n,e){return{documents:[Rx(n,e.path)]}}function UR(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Rx(n,r);const o=function(p){if(p.length!==0)return Nx(di.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(p){if(p.length!==0)return p.map(g=>function(w){return{field:ca(w.field),direction:$R(w.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=tm(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:t,parent:r}}function zR(n){let e=OR(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Ke(i===1);const g=t.from[0];g.allDescendants?r=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(v){const w=Dx(v);return w instanceof di&&lx(w)?w.getFilters():[w]}(t.where));let l=[];t.orderBy&&(l=function(v){return v.map(w=>function(I){return new Vh(ua(I.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(w))}(t.orderBy));let c=null;t.limit&&(c=function(v){let w;return w=typeof v=="object"?v.value:v,ld(w)?null:w}(t.limit));let h=null;t.startAt&&(h=function(v){const w=!!v.before,T=v.values||[];return new Lh(T,w)}(t.startAt));let p=null;return t.endAt&&(p=function(v){const w=!v.before,T=v.values||[];return new Lh(T,w)}(t.endAt)),sR(e,r,l,o,c,"F",h,p)}function BR(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Dx(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=ua(t.unaryFilter.field);return xt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=ua(t.unaryFilter.field);return xt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ua(t.unaryFilter.field);return xt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ua(t.unaryFilter.field);return xt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return ke()}}(n):n.fieldFilter!==void 0?function(t){return xt.create(ua(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ke()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return di.create(t.compositeFilter.filters.map(i=>Dx(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ke()}}(t.compositeFilter.op))}(n):ke()}function $R(n){return RR[n]}function HR(n){return PR[n]}function WR(n){return DR[n]}function ca(n){return{fieldPath:n.canonicalString()}}function ua(n){return jt.fromServerFormat(n.fieldPath)}function Nx(n){return n instanceof xt?function(t){if(t.op==="=="){if(Bv(t.value))return{unaryFilter:{field:ca(t.field),op:"IS_NAN"}};if(zv(t.value))return{unaryFilter:{field:ca(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Bv(t.value))return{unaryFilter:{field:ca(t.field),op:"IS_NOT_NAN"}};if(zv(t.value))return{unaryFilter:{field:ca(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ca(t.field),op:HR(t.op),value:t.value}}}(n):n instanceof di?function(t){const i=t.getFilters().map(r=>Nx(r));return i.length===1?i[0]:{compositeFilter:{op:WR(t.op),filters:i}}}(n):ke()}function qR(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Mx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,t,i,r,o=Ae.min(),l=Ae.min(),c=zt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.ht=e}}function GR(n){const e=zR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?em(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this.ln=new YR}addToCollectionParentIndex(e,t){return this.ln.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(fs.min())}updateCollectionGroup(e,t,i){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class YR{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Ct(it.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Ct(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(41943040,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Ia(0)}static Qn(){return new Ia(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0([n,e],[t,i]){const r=je(n,t);return r===0?je(e,i):r}class XR{constructor(e){this.Gn=e,this.buffer=new Ct(i0),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();i0(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class JR{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ue("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Oa(t)?ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Ma(t)}await this.Yn(3e5)})}}class ZR{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(ad.oe);const i=new XR(t);return this.Zn.forEachTarget(e,r=>i.Hn(r.sequenceNumber)).next(()=>this.Zn.er(e,r=>i.Hn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(n0)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n0):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,r,o,l,c,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,l=Date.now(),this.nthSequenceNumber(e,r))).next(v=>(i=v,c=Date.now(),this.removeTargets(e,i,t))).next(v=>(o=v,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(v=>(p=Date.now(),aa()<=Oe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${r} in `+(c-l)+`ms
	Removed ${o} targets in `+(h-c)+`ms
	Removed ${v} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:v})))}}function eP(n,e){return new ZR(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(){this.changes=new mo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Z.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&ql(i.mutation,r,Rn.empty(),kt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Le()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Le()){const r=io();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let l=Ll();return o.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=io();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Le()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,i,r){let o=Er();const l=Wl(),c=function(){return Wl()}();return t.forEach((h,p)=>{const g=i.get(p.key);r.has(p.key)&&(g===void 0||g.mutation instanceof Es)?o=o.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),ql(g.mutation,p,g.mutation.getFieldMask(),kt.now())):l.set(p.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((p,g)=>l.set(p,g)),t.forEach((p,g)=>{var v;return c.set(p,new nP(g,(v=l.get(p))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,t){const i=Wl();let r=new ut((l,c)=>l-c),o=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(h=>{const p=t.get(h);if(p===null)return;let g=i.get(h)||Rn.empty();g=c.applyToLocalView(p,g),i.set(h,g);const v=(r.get(c.batchId)||Le()).add(h);r=r.insert(c.batchId,v)})}).next(()=>{const l=[],c=r.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),p=h.key,g=h.value,v=yx();g.forEach(w=>{if(!o.has(w)){const T=Tx(t.get(w),i.get(w));T!==null&&v.set(w,T),o=o.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,v))}return Z.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):dx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const l=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):Z.resolve(io());let c=-1,h=o;return l.next(p=>Z.forEach(p,(g,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),o.get(g)?Z.resolve():this.remoteDocumentCache.getEntry(e,g).next(w=>{h=h.insert(g,w)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,h,p,Le())).next(g=>({batchId:c,changes:gx(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(i=>{let r=Ll();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const o=t.collectionGroup;let l=Ll();return this.indexManager.getCollectionParents(e,o).next(c=>Z.forEach(c,h=>{const p=function(v,w){return new wc(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,i,r).next(g=>{g.forEach((v,w)=>{l=l.insert(v,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(l=>{o.forEach((h,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,Qt.newInvalidDocument(g)))});let c=Ll();return l.forEach((h,p)=>{const g=o.get(h);g!==void 0&&ql(g.mutation,p,Rn.empty(),kt.now()),hd(t,p)&&(c=c.insert(h,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Z.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:Oi(r.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(r){return{name:r.name,query:GR(r.bundledQuery),readTime:Oi(r.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(){this.overlays=new ut(_e.comparator),this.Er=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const i=io();return Z.forEach(t,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.Tt(e,t,o)}),Z.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Er.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Er.delete(i)),Z.resolve()}getOverlaysForCollection(e,t,i){const r=io(),o=t.length+1,l=new _e(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&h.largestBatchId>i&&r.set(h.getKey(),h)}return Z.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new ut((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let g=o.get(p.largestBatchId);g===null&&(g=io(),o=o.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=io(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,g)=>c.set(p,g)),!(c.size()>=r)););return Z.resolve(c)}Tt(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.Er.get(r.largestBatchId).delete(i.key);this.Er.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new SR(t,i));let o=this.Er.get(t);o===void 0&&(o=Le(),this.Er.set(t,o)),this.Er.set(t,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(){this.dr=new Ct(Nt.Ar),this.Rr=new Ct(Nt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new Nt(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Nt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new _e(new it([])),i=new Nt(t,e),r=new Nt(t,e+1),o=[];return this.Rr.forEachInRange([i,r],l=>{this.gr(l),o.push(l.key)}),o}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new _e(new it([])),i=new Nt(t,e),r=new Nt(t,e+1);let o=Le();return this.Rr.forEachInRange([i,r],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new Nt(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Nt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return _e.comparator(e.key,t.key)||je(e.br,t.br)}static Vr(e,t){return je(e.br,t.br)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Ct(Nt.Ar)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new TR(o,t,i,r);this.mutationQueue.push(l);for(const c of r)this.vr=this.vr.add(new Nt(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Z.resolve(l)}lookupMutationBatch(e,t){return Z.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.Fr(i),o=r<0?0:r;return Z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Nt(t,0),r=new Nt(t,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([i,r],l=>{const c=this.Cr(l.br);o.push(c)}),Z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ct(je);return t.forEach(r=>{const o=new Nt(r,0),l=new Nt(r,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,l],c=>{i=i.add(c.br)})}),Z.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;_e.isDocumentKey(o)||(o=o.child(""));const l=new Nt(new _e(o),0);let c=new Ct(je);return this.vr.forEachWhile(h=>{const p=h.key.path;return!!i.isPrefixOf(p)&&(p.length===r&&(c=c.add(h.br)),!0)},l),Z.resolve(this.Mr(c))}Mr(e){const t=[];return e.forEach(i=>{const r=this.Cr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){Ke(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return Z.forEach(t.mutations,r=>{const o=new Nt(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new Nt(t,0),r=this.vr.firstAfterOrEqual(i);return Z.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.Nr=e,this.docs=function(){return new ut(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,l=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Z.resolve(i?i.document.mutableCopy():Qt.newInvalidDocument(t))}getEntries(e,t){let i=Er();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Qt.newInvalidDocument(r))}),Z.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Er();const l=t.path,c=new _e(l.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||FA(VA(g),i)<=0||(r.has(g.key)||hd(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return Z.resolve(o)}getAllFromCollectionGroup(e,t,i,r){ke()}Lr(e,t){return Z.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new cP(this)}getSize(e){return Z.resolve(this.size)}}class cP extends tP{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.hr.addEntry(e,r)):this.hr.removeEntry(i)}),Z.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.persistence=e,this.Br=new mo(t=>Bm(t),$m),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.kr=0,this.qr=new Ym,this.targetCount=0,this.Qr=Ia.qn()}forEachTarget(e,t){return this.Br.forEach((i,r)=>t(r)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),Z.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Ia(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Un(t),Z.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.Br.forEach((l,c)=>{c.sequenceNumber<=t&&i.get(c.targetId)===null&&(this.Br.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),Z.waitFor(o).next(()=>r)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return Z.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),Z.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(l=>{o.push(r.markPotentiallyOrphaned(e,l))}),Z.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return Z.resolve(i)}containsKey(e,t){return Z.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,t){this.Kr={},this.overlays={},this.$r=new ad(0),this.Ur=!1,this.Ur=!0,this.Wr=new oP,this.referenceDelegate=e(this),this.Gr=new uP(this),this.indexManager=new QR,this.remoteDocumentCache=function(r){return new lP(r)}(i=>this.referenceDelegate.zr(i)),this.serializer=new KR(t),this.jr=new rP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new aP(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){ue("MemoryPersistence","Starting transaction:",e);const r=new hP(this.$r.next());return this.referenceDelegate.Hr(),i(r).next(o=>this.referenceDelegate.Jr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Yr(e,t){return Z.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class hP extends UA{constructor(e){super(),this.currentSequenceNumber=e}}class Xm{constructor(e){this.persistence=e,this.Zr=new Ym,this.Xr=null}static ei(e){return new Xm(e)}get ti(){if(this.Xr)return this.Xr;throw ke()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),Z.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(r=>this.ti.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.ti.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ti,i=>{const r=_e.fromPath(i);return this.ni(e,r).next(o=>{o||t.removeEntry(r,Ae.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Z.or([()=>Z.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class zh{constructor(e,t){this.persistence=e,this.ri=new mo(i=>$A(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=eP(this,t)}static ei(e,t){return new zh(e,t)}Hr(){}Jr(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return Z.forEach(this.ri,(i,r)=>this.ir(e,i,r).next(o=>o?Z.resolve():t(r)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.Lr(e,l=>this.ir(e,l,t).next(c=>{c||(i++,o.removeEntry(l,Ae.min()))})).next(()=>o.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Z.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=yh(e.data.value)),t}ir(e,t,i){return Z.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.ri.get(t);return Z.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=r}static zi(e,t){let i=Le(),r=Le();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Jm(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return hb()?8:zA(Jt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,r){const o={result:null};return this.Xi(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.es(e,t,r,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new dP;return this.ts(e,t,l).next(c=>{if(o.result=c,this.Hi)return this.ns(e,t,l,c.size)})}).next(()=>o.result)}ns(e,t,i,r){return i.documentReadCount<this.Ji?(aa()<=Oe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",la(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Z.resolve()):(aa()<=Oe.DEBUG&&ue("QueryEngine","Query:",la(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Yi*r?(aa()<=Oe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",la(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(t))):Z.resolve())}Xi(e,t){if(qv(t))return Z.resolve(null);let i=Mi(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=em(t,null,"F"),i=Mi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const l=Le(...o);return this.Zi.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,i).next(h=>{const p=this.rs(t,c);return this.ss(t,p,l,h.readTime)?this.Xi(e,em(t,null,"F")):this.os(e,p,t,h)}))})))}es(e,t,i,r){return qv(t)||r.isEqual(Ae.min())?Z.resolve(null):this.Zi.getDocuments(e,i).next(o=>{const l=this.rs(t,o);return this.ss(t,l,i,r)?Z.resolve(null):(aa()<=Oe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),la(t)),this.os(e,l,t,LA(r,-1)).next(c=>c))})}rs(e,t){let i=new Ct(px(e));return t.forEach((r,o)=>{hd(e,o)&&(i=i.add(o))}),i}ss(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}ts(e,t,i){return aa()<=Oe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",la(t)),this.Zi.getDocumentsMatchingQuery(e,t,fs.min(),i)}os(e,t,i,r){return this.Zi.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,t,i,r){this.persistence=e,this._s=t,this.serializer=r,this.us=new ut(je),this.cs=new mo(o=>Bm(o),$m),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iP(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function mP(n,e,t,i){return new pP(n,e,t,i)}async function Lx(n,e){const t=Re(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],c=[];let h=Le();for(const p of r){l.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of o){c.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(i,h).next(p=>({Ts:p,removedBatchIds:l,addedBatchIds:c}))})})}function gP(n,e){const t=Re(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.hs.newChangeBuffer({trackRemovals:!0});return function(c,h,p,g){const v=p.batch,w=v.keys();let T=Z.resolve();return w.forEach(I=>{T=T.next(()=>g.getEntry(h,I)).next(A=>{const b=p.docVersions.get(I);Ke(b!==null),A.version.compareTo(b)<0&&(v.applyToRemoteDocument(A,p),A.isValidDocument()&&(A.setReadTime(p.commitVersion),g.addEntry(A)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(h,v))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=Le();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function Vx(n){const e=Re(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function yP(n,e){const t=Re(n),i=e.snapshotVersion;let r=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.hs.newChangeBuffer({trackRemovals:!0});r=t.us;const c=[];e.targetChanges.forEach((g,v)=>{const w=r.get(v);if(!w)return;c.push(t.Gr.removeMatchingKeys(o,g.removedDocuments,v).next(()=>t.Gr.addMatchingKeys(o,g.addedDocuments,v)));let T=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?T=T.withResumeToken(zt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,i)),r=r.insert(v,T),function(A,b,D){return A.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(w,T,g)&&c.push(t.Gr.updateTargetData(o,T))});let h=Er(),p=Le();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),c.push(_P(o,l,e.documentUpdates).next(g=>{h=g.Is,p=g.Es})),!i.isEqual(Ae.min())){const g=t.Gr.getLastRemoteSnapshotVersion(o).next(v=>t.Gr.setTargetsMetadata(o,o.currentSequenceNumber,i));c.push(g)}return Z.waitFor(c).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,h,p)).next(()=>h)}).then(o=>(t.us=r,o))}function _P(n,e,t){let i=Le(),r=Le();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let l=Er();return t.forEach((c,h)=>{const p=o.get(c);h.isFoundDocument()!==p.isFoundDocument()&&(r=r.add(c)),h.isNoDocument()&&h.version.isEqual(Ae.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):ue("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),{Is:l,Es:r}})}function vP(n,e){const t=Re(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function wP(n,e){const t=Re(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Gr.getTargetData(i,e).next(o=>o?(r=o,Z.resolve(r)):t.Gr.allocateTargetId(i).next(l=>(r=new ns(e,l,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.us.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function sm(n,e,t){const i=Re(n),r=i.us.get(e),o=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,r))}catch(l){if(!Oa(l))throw l;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.us=i.us.remove(e),i.cs.delete(r.target)}function r0(n,e,t){const i=Re(n);let r=Ae.min(),o=Le();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,p,g){const v=Re(h),w=v.cs.get(g);return w!==void 0?Z.resolve(v.us.get(w)):v.Gr.getTargetData(p,g)}(i,l,Mi(e)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(l,c.targetId).next(h=>{o=h})}).next(()=>i._s.getDocumentsMatchingQuery(l,e,t?r:Ae.min(),t?o:Le())).next(c=>(EP(i,aR(e),c),{documents:c,ds:o})))}function EP(n,e,t){let i=n.ls.get(e)||Ae.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.ls.set(e,i)}class s0{constructor(){this.activeTargetIds=fR()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xP{constructor(){this._o=new s0,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new s0,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu=null;function xp(){return Qu===null?Qu=function(){return 268435456+Math.round(2147483648*Math.random())}():Qu++,"0x"+Qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="WebChannelConnection";class bP extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${r}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Oo(t,i,r,o,l){const c=xp(),h=this.No(t,i.toUriEncodedString());ue("RestConnection",`Sending RPC '${t}' ${c}:`,h,r);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(p,o,l),this.Bo(t,h,p,r).then(g=>(ue("RestConnection",`Received RPC '${t}' ${c}: `,g),g),g=>{throw wa("RestConnection",`RPC '${t}' ${c} failed with error: `,g,"url: ",h,"request:",r),g})}ko(t,i,r,o,l,c){return this.Oo(t,i,r,o,l)}Lo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Na}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,l)=>t[l]=o),r&&r.headers.forEach((o,l)=>t[l]=o)}No(t,i){const r=SP[t];return`${this.Fo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,r){const o=xp();return new Promise((l,c)=>{const h=new YE;h.setWithCredentials(!0),h.listenOnce(XE.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case gh.NO_ERROR:const g=h.getResponseJson();ue(qt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),l(g);break;case gh.TIMEOUT:ue(qt,`RPC '${e}' ${o} timed out`),c(new de(ee.DEADLINE_EXCEEDED,"Request time out"));break;case gh.HTTP_ERROR:const v=h.getStatus();if(ue(qt,`RPC '${e}' ${o} failed with status:`,v,"response text:",h.getResponseText()),v>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const T=w==null?void 0:w.error;if(T&&T.status&&T.message){const I=function(b){const D=b.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(D)>=0?D:ee.UNKNOWN}(T.status);c(new de(I,T.message))}else c(new de(ee.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new de(ee.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{ue(qt,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(r);ue(qt,`RPC '${e}' ${o} sending request:`,r),h.send(t,"POST",p,i,15)})}qo(e,t,i){const r=xp(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=ex(),c=ZE(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Lo(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const g=o.join("");ue(qt,`Creating RPC '${e}' stream ${r}: ${g}`,h);const v=l.createWebChannel(g,h);let w=!1,T=!1;const I=new IP({Eo:b=>{T?ue(qt,`Not sending because RPC '${e}' stream ${r} is closed:`,b):(w||(ue(qt,`Opening RPC '${e}' stream ${r} transport.`),v.open(),w=!0),ue(qt,`RPC '${e}' stream ${r} sending:`,b),v.send(b))},Ao:()=>v.close()}),A=(b,D,V)=>{b.listen(D,$=>{try{V($)}catch(G){setTimeout(()=>{throw G},0)}})};return A(v,Ol.EventType.OPEN,()=>{T||(ue(qt,`RPC '${e}' stream ${r} transport opened.`),I.So())}),A(v,Ol.EventType.CLOSE,()=>{T||(T=!0,ue(qt,`RPC '${e}' stream ${r} transport closed`),I.Do())}),A(v,Ol.EventType.ERROR,b=>{T||(T=!0,wa(qt,`RPC '${e}' stream ${r} transport errored:`,b),I.Do(new de(ee.UNAVAILABLE,"The operation could not be completed")))}),A(v,Ol.EventType.MESSAGE,b=>{var D;if(!T){const V=b.data[0];Ke(!!V);const $=V,G=($==null?void 0:$.error)||((D=$[0])===null||D===void 0?void 0:D.error);if(G){ue(qt,`RPC '${e}' stream ${r} received error:`,G);const Y=G.status;let J=function(P){const O=Et[P];if(O!==void 0)return Ix(O)}(Y),R=G.message;J===void 0&&(J=ee.INTERNAL,R="Unknown error status: "+Y+" with message "+G.message),T=!0,I.Do(new de(J,R)),v.close()}else ue(qt,`RPC '${e}' stream ${r} received:`,V),I.vo(V)}}),A(c,JE.STAT_EVENT,b=>{b.stat===Gp.PROXY?ue(qt,`RPC '${e}' stream ${r} detected buffering proxy`):b.stat===Gp.NOPROXY&&ue(qt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{I.bo()},0),I}}function Tp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(n){return new NR(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,t,i=1e3,r=1.5,o=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=r,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),r=Math.max(0,t-i);r>0&&ue("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,r,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,t,i,r,o,l,c,h){this.li=e,this.Yo=i,this.Zo=r,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Fx(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(wr(t.toString()),wr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Xo===t&&this.I_(i,r)},i=>{e(()=>{const r=new de(ee.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(r)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(r=>{i(()=>this.E_(r))}),this.stream.onMessage(r=>{i(()=>++this.n_==1?this.A_(r):this.onNext(r))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kP extends jx{constructor(e,t,i,r,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,l),this.serializer=o}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=LR(this.serializer,e),i=function(o){if(!("targetChange"in o))return Ae.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ae.min():l.readTime?Oi(l.readTime):Ae.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=rm(this.serializer),t.addTarget=function(o,l){let c;const h=l.target;if(c=Jp(h)?{documents:jR(o,h)}:{query:UR(o,h).ct},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=Cx(o,l.resumeToken);const p=tm(o,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ae.min())>0){c.readTime=Uh(o,l.snapshotVersion.toTimestamp());const p=tm(o,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const i=BR(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=rm(this.serializer),t.removeTarget=e,this.c_(t)}}class CP extends jx{constructor(e,t,i,r,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,l),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=FR(e.writeResults,e.commitTime),i=Oi(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=rm(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>VR(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.S_=!1}b_(){if(this.S_)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,r){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Oo(e,nm(t,i),r,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(ee.UNKNOWN,o.toString())})}ko(e,t,i,r,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.ko(e,nm(t,i),r,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(ee.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class RP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(wr(t),this.C_=!1):ue("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e,t,i,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(l=>{i.enqueueAndForget(async()=>{go(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(h){const p=Re(h);p.k_.add(4),await Tc(p),p.K_.set("Unknown"),p.k_.delete(4),await gd(p)}(this))})}),this.K_=new RP(i,r)}}async function gd(n){if(go(n))for(const e of n.q_)await e(!0)}async function Tc(n){for(const e of n.q_)await e(!1)}function Ux(n,e){const t=Re(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),ng(t)?tg(t):La(t).s_()&&eg(t,e))}function Zm(n,e){const t=Re(n),i=La(t);t.B_.delete(e),i.s_()&&zx(t,e),t.B_.size===0&&(i.s_()?i.a_():go(t)&&t.K_.set("Unknown"))}function eg(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}La(n).V_(e)}function zx(n,e){n.U_.xe(e),La(n).m_(e)}function tg(n){n.U_=new AR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),La(n).start(),n.K_.F_()}function ng(n){return go(n)&&!La(n).i_()&&n.B_.size>0}function go(n){return Re(n).k_.size===0}function Bx(n){n.U_=void 0}async function DP(n){n.K_.set("Online")}async function NP(n){n.B_.forEach((e,t)=>{eg(n,e)})}async function MP(n,e){Bx(n),ng(n)?(n.K_.O_(e),tg(n)):n.K_.set("Unknown")}async function OP(n,e,t){if(n.K_.set("Online"),e instanceof kx&&e.state===2&&e.cause)try{await async function(r,o){const l=o.cause;for(const c of o.targetIds)r.B_.has(c)&&(await r.remoteSyncer.rejectListen(c,l),r.B_.delete(c),r.U_.removeTarget(c))}(n,e)}catch(i){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Bh(n,i)}else if(e instanceof wh?n.U_.$e(e):e instanceof bx?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ae.min()))try{const i=await Vx(n.localStore);t.compareTo(i)>=0&&await function(o,l){const c=o.U_.it(l);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=o.B_.get(p);g&&o.B_.set(p,g.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,p)=>{const g=o.B_.get(h);if(!g)return;o.B_.set(h,g.withResumeToken(zt.EMPTY_BYTE_STRING,g.snapshotVersion)),zx(o,h);const v=new ns(g.target,h,p,g.sequenceNumber);eg(o,v)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(i){ue("RemoteStore","Failed to raise snapshot:",i),await Bh(n,i)}}async function Bh(n,e,t){if(!Oa(e))throw e;n.k_.add(1),await Tc(n),n.K_.set("Offline"),t||(t=()=>Vx(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await gd(n)})}function $x(n,e){return e().catch(t=>Bh(n,t,e))}async function yd(n){const e=Re(n),t=ys(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;LP(e);)try{const r=await vP(e.localStore,i);if(r===null){e.L_.length===0&&t.a_();break}i=r.batchId,VP(e,r)}catch(r){await Bh(e,r)}Hx(e)&&Wx(e)}function LP(n){return go(n)&&n.L_.length<10}function VP(n,e){n.L_.push(e);const t=ys(n);t.s_()&&t.f_&&t.g_(e.mutations)}function Hx(n){return go(n)&&!ys(n).i_()&&n.L_.length>0}function Wx(n){ys(n).start()}async function FP(n){ys(n).w_()}async function jP(n){const e=ys(n);for(const t of n.L_)e.g_(t.mutations)}async function UP(n,e,t){const i=n.L_.shift(),r=Km.from(i,e,t);await $x(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await yd(n)}async function zP(n,e){e&&ys(n).f_&&await async function(i,r){if(function(l){return bR(l)&&l!==ee.ABORTED}(r.code)){const o=i.L_.shift();ys(i).__(),await $x(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await yd(i)}}(n,e),Hx(n)&&Wx(n)}async function a0(n,e){const t=Re(n);t.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const i=go(t);t.k_.add(3),await Tc(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await gd(t)}async function BP(n,e){const t=Re(n);e?(t.k_.delete(2),await gd(t)):e||(t.k_.add(2),await Tc(t),t.K_.set("Unknown"))}function La(n){return n.W_||(n.W_=function(t,i,r){const o=Re(t);return o.b_(),new kP(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Ro:DP.bind(null,n),mo:NP.bind(null,n),po:MP.bind(null,n),R_:OP.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),ng(n)?tg(n):n.K_.set("Unknown")):(await n.W_.stop(),Bx(n))})),n.W_}function ys(n){return n.G_||(n.G_=function(t,i,r){const o=Re(t);return o.b_(),new CP(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:FP.bind(null,n),po:zP.bind(null,n),p_:jP.bind(null,n),y_:UP.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await yd(n)):(await n.G_.stop(),n.L_.length>0&&(ue("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){const l=Date.now()+i,c=new ig(e,t,l,r,o);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rg(n,e){if(wr("AsyncQueue",`${e}: ${n}`),Oa(n))return new de(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{static emptySet(e){return new ga(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||_e.comparator(t.key,i.key):(t,i)=>_e.comparator(t.key,i.key),this.keyedMap=Ll(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ga)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ga;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this.z_=new ut(_e.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):ke():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class ba{constructor(e,t,i,r,o,l,c,h,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,r,o){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new ba(e,t,ga.emptySet(t),l,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ud(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class HP{constructor(){this.queries=c0(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const r=Re(t),o=r.queries;r.queries=c0(),o.forEach((l,c)=>{for(const h of c.J_)h.onError(i)})})(this,new de(ee.ABORTED,"Firestore shutting down"))}}function c0(){return new mo(n=>fx(n),ud)}async function qx(n,e){const t=Re(n);let i=3;const r=e.query;let o=t.queries.get(r);o?!o.Y_()&&e.Z_()&&(i=2):(o=new $P,i=e.Z_()?0:1);try{switch(i){case 0:o.H_=await t.onListen(r,!0);break;case 1:o.H_=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(l){const c=rg(l,`Initialization of query '${la(e.query)}' failed`);return void e.onError(c)}t.queries.set(r,o),o.J_.push(e),e.ea(t.onlineState),o.H_&&e.ta(o.H_)&&sg(t)}async function Kx(n,e){const t=Re(n),i=e.query;let r=3;const o=t.queries.get(i);if(o){const l=o.J_.indexOf(e);l>=0&&(o.J_.splice(l,1),o.J_.length===0?r=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function WP(n,e){const t=Re(n);let i=!1;for(const r of e){const o=r.query,l=t.queries.get(o);if(l){for(const c of l.J_)c.ta(r)&&(i=!0);l.H_=r}}i&&sg(t)}function qP(n,e,t){const i=Re(n),r=i.queries.get(e);if(r)for(const o of r.J_)o.onError(t);i.queries.delete(e)}function sg(n){n.X_.forEach(e=>{e.next()})}var om,u0;(u0=om||(om={})).na="default",u0.Cache="cache";class Gx{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new ba(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=ba.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==om.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.key=e}}class Yx{constructor(e){this.key=e}}class KP{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Le(),this.mutatedKeys=Le(),this.Va=px(e),this.ma=new ga(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new l0,r=t?t.ma:this.ma;let o=t?t.mutatedKeys:this.mutatedKeys,l=r,c=!1;const h=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,p=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((g,v)=>{const w=r.get(g),T=hd(this.query,v)?v:null,I=!!w&&this.mutatedKeys.has(w.key),A=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let b=!1;w&&T?w.data.isEqual(T.data)?I!==A&&(i.track({type:3,doc:T}),b=!0):this.ya(w,T)||(i.track({type:2,doc:T}),b=!0,(h&&this.Va(T,h)>0||p&&this.Va(T,p)<0)&&(c=!0)):!w&&T?(i.track({type:0,doc:T}),b=!0):w&&!T&&(i.track({type:1,doc:w}),b=!0,(h||p)&&(c=!0)),b&&(T?(l=l.add(T),o=A?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),i.track({type:1,doc:g})}return{ma:l,pa:i,ss:c,mutatedKeys:o}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const l=e.pa.j_();l.sort((g,v)=>function(T,I){const A=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}};return A(T)-A(I)}(g.type,v.type)||this.Va(g.doc,v.doc)),this.wa(i),r=r!=null&&r;const c=t&&!r?this.Sa():[],h=this.Ra.size===0&&this.current&&!r?1:0,p=h!==this.Aa;return this.Aa=h,l.length!==0||p?{snapshot:new ba(this.query,e.ma,o,l,e.mutatedKeys,h===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:c}:{ba:c}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new l0,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Le(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new Yx(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new Qx(i))}),t}va(e){this.da=e.ds,this.Ra=Le();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return ba.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class GP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class QP{constructor(e){this.key=e,this.Fa=!1}}class YP{constructor(e,t,i,r,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new mo(c=>fx(c),ud),this.Oa=new Map,this.Na=new Set,this.La=new ut(_e.comparator),this.Ba=new Map,this.ka=new Ym,this.qa={},this.Qa=new Map,this.Ka=Ia.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function XP(n,e,t=!0){const i=nT(n);let r;const o=i.xa.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.Ca()):r=await Xx(i,e,t,!0),r}async function JP(n,e){const t=nT(n);await Xx(t,e,!0,!1)}async function Xx(n,e,t,i){const r=await wP(n.localStore,Mi(e)),o=r.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let c;return i&&(c=await ZP(n,e,o,l==="current",r.resumeToken)),n.isPrimaryClient&&t&&Ux(n.remoteStore,r),c}async function ZP(n,e,t,i,r){n.Ua=(v,w,T)=>async function(A,b,D,V){let $=b.view.ga(D);$.ss&&($=await r0(A.localStore,b.query,!1).then(({documents:R})=>b.view.ga(R,$)));const G=V&&V.targetChanges.get(b.targetId),Y=V&&V.targetMismatches.get(b.targetId)!=null,J=b.view.applyChanges($,A.isPrimaryClient,G,Y);return d0(A,b.targetId,J.ba),J.snapshot}(n,v,w,T);const o=await r0(n.localStore,e,!0),l=new KP(e,o.ds),c=l.ga(o.documents),h=xc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),p=l.applyChanges(c,n.isPrimaryClient,h);d0(n,t,p.ba);const g=new GP(e,t,l);return n.xa.set(e,g),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),p.snapshot}async function eD(n,e,t){const i=Re(n),r=i.xa.get(e),o=i.Oa.get(r.targetId);if(o.length>1)return i.Oa.set(r.targetId,o.filter(l=>!ud(l,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await sm(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&Zm(i.remoteStore,r.targetId),am(i,r.targetId)}).catch(Ma)):(am(i,r.targetId),await sm(i.localStore,r.targetId,!0))}async function tD(n,e){const t=Re(n),i=t.xa.get(e),r=t.Oa.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Zm(t.remoteStore,i.targetId))}async function nD(n,e,t){const i=cD(n);try{const r=await function(l,c){const h=Re(l),p=kt.now(),g=c.reduce((T,I)=>T.add(I.key),Le());let v,w;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>{let I=Er(),A=Le();return h.hs.getEntries(T,g).next(b=>{I=b,I.forEach((D,V)=>{V.isValidDocument()||(A=A.add(D))})}).next(()=>h.localDocuments.getOverlayedDocuments(T,I)).next(b=>{v=b;const D=[];for(const V of c){const $=ER(V,v.get(V.key).overlayedDocument);$!=null&&D.push(new Es(V.key,$,sx($.value.mapValue),hi.exists(!0)))}return h.mutationQueue.addMutationBatch(T,p,D,c)}).next(b=>{w=b;const D=b.applyToLocalDocumentSet(v,A);return h.documentOverlayCache.saveOverlays(T,b.batchId,D)})}).then(()=>({batchId:w.batchId,changes:gx(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(l,c,h){let p=l.qa[l.currentUser.toKey()];p||(p=new ut(je)),p=p.insert(c,h),l.qa[l.currentUser.toKey()]=p}(i,r.batchId,t),await Sc(i,r.changes),await yd(i.remoteStore)}catch(r){const o=rg(r,"Failed to persist write");t.reject(o)}}async function Jx(n,e){const t=Re(n);try{const i=await yP(t.localStore,e);e.targetChanges.forEach((r,o)=>{const l=t.Ba.get(o);l&&(Ke(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.Fa=!0:r.modifiedDocuments.size>0?Ke(l.Fa):r.removedDocuments.size>0&&(Ke(l.Fa),l.Fa=!1))}),await Sc(t,i,e)}catch(i){await Ma(i)}}function h0(n,e,t){const i=Re(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.xa.forEach((o,l)=>{const c=l.view.ea(e);c.snapshot&&r.push(c.snapshot)}),function(l,c){const h=Re(l);h.onlineState=c;let p=!1;h.queries.forEach((g,v)=>{for(const w of v.J_)w.ea(c)&&(p=!0)}),p&&sg(h)}(i.eventManager,e),r.length&&i.Ma.R_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function iD(n,e,t){const i=Re(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Ba.get(e),o=r&&r.key;if(o){let l=new ut(_e.comparator);l=l.insert(o,Qt.newNoDocument(o,Ae.min()));const c=Le().add(o),h=new pd(Ae.min(),new Map,new ut(je),l,c);await Jx(i,h),i.La=i.La.remove(o),i.Ba.delete(e),og(i)}else await sm(i.localStore,e,!1).then(()=>am(i,e,t)).catch(Ma)}async function rD(n,e){const t=Re(n),i=e.batch.batchId;try{const r=await gP(t.localStore,e);eT(t,i,null),Zx(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Sc(t,r)}catch(r){await Ma(r)}}async function sD(n,e,t){const i=Re(n);try{const r=await function(l,c){const h=Re(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return h.mutationQueue.lookupMutationBatch(p,c).next(v=>(Ke(v!==null),g=v.keys(),h.mutationQueue.removeMutationBatch(p,v))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>h.localDocuments.getDocuments(p,g))})}(i.localStore,e);eT(i,e,t),Zx(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Sc(i,r)}catch(r){await Ma(r)}}function Zx(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function eT(n,e,t){const i=Re(n);let r=i.qa[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.qa[i.currentUser.toKey()]=r}}function am(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||tT(n,i)})}function tT(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Zm(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),og(n))}function d0(n,e,t){for(const i of t)i instanceof Qx?(n.ka.addReference(i.key,e),oD(n,i)):i instanceof Yx?(ue("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||tT(n,i.key)):ke()}function oD(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(ue("SyncEngine","New document in limbo: "+t),n.Na.add(i),og(n))}function og(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new _e(it.fromString(e)),i=n.Ka.next();n.Ba.set(i,new QP(t)),n.La=n.La.insert(t,i),Ux(n.remoteStore,new ns(Mi(Hm(t.path)),i,"TargetPurposeLimboResolution",ad.oe))}}async function Sc(n,e,t){const i=Re(n),r=[],o=[],l=[];i.xa.isEmpty()||(i.xa.forEach((c,h)=>{l.push(i.Ua(h,e,t).then(p=>{var g;if((p||t)&&i.isPrimaryClient){const v=p?!p.fromCache:(g=t==null?void 0:t.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;i.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(p){r.push(p);const v=Jm.zi(h.targetId,p);o.push(v)}}))}),await Promise.all(l),i.Ma.R_(r),await async function(h,p){const g=Re(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>Z.forEach(p,w=>Z.forEach(w.Wi,T=>g.persistence.referenceDelegate.addReference(v,w.targetId,T)).next(()=>Z.forEach(w.Gi,T=>g.persistence.referenceDelegate.removeReference(v,w.targetId,T)))))}catch(v){if(!Oa(v))throw v;ue("LocalStore","Failed to update sequence numbers: "+v)}for(const v of p){const w=v.targetId;if(!v.fromCache){const T=g.us.get(w),I=T.snapshotVersion,A=T.withLastLimboFreeSnapshotVersion(I);g.us=g.us.insert(w,A)}}}(i.localStore,o))}async function aD(n,e){const t=Re(n);if(!t.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const i=await Lx(t.localStore,e);t.currentUser=e,function(o,l){o.Qa.forEach(c=>{c.forEach(h=>{h.reject(new de(ee.CANCELLED,l))})}),o.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Sc(t,i.Ts)}}function lD(n,e){const t=Re(n),i=t.Ba.get(e);if(i&&i.Fa)return Le().add(i.key);{let r=Le();const o=t.Oa.get(e);if(!o)return r;for(const l of o){const c=t.xa.get(l);r=r.unionWith(c.view.fa)}return r}}function nT(n){const e=Re(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iD.bind(null,e),e.Ma.R_=WP.bind(null,e.eventManager),e.Ma.Wa=qP.bind(null,e.eventManager),e}function cD(n){const e=Re(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sD.bind(null,e),e}class $h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=md(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return mP(this.persistence,new fP,e.initialUser,this.serializer)}ja(e){return new Ox(Xm.ei,this.serializer)}za(e){return new xP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$h.provider={build:()=>new $h};class uD extends $h{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Ke(this.persistence.referenceDelegate instanceof zh);const i=this.persistence.referenceDelegate.garbageCollector;return new JR(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new Ox(i=>zh.ei(i,t),this.serializer)}}class lm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>h0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=aD.bind(null,this.syncEngine),await BP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new HP}()}createDatastore(e){const t=md(e.databaseInfo.databaseId),i=function(o){return new bP(o)}(e.databaseInfo);return function(o,l,c,h){return new AP(o,l,c,h)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,o,l,c){return new PP(i,r,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>h0(this.syncEngine,t,0),function(){return o0.p()?new o0:new TP}())}createSyncEngine(e,t){return function(r,o,l,c,h,p,g){const v=new YP(r,o,l,c,h,p);return g&&(v.$a=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(r){const o=Re(r);ue("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await Tc(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}lm.provider={build:()=>new lm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):wr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,t,i,r,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Gt.UNAUTHENTICATED,this.clientId=nx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async l=>{ue("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(ue("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=rg(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Sp(n,e){n.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await Lx(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function f0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await dD(n);ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>a0(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>a0(e.remoteStore,r)),n._onlineComponents=e}async function dD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await Sp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(r){return r.name==="FirebaseError"?r.code===ee.FAILED_PRECONDITION||r.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;wa("Error using user provided cache. Falling back to memory cache: "+t),await Sp(n,new $h)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await Sp(n,new uD(void 0));return n._offlineComponents}async function rT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await f0(n,n._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await f0(n,new lm))),n._onlineComponents}function fD(n){return rT(n).then(e=>e.syncEngine)}async function sT(n){const e=await rT(n),t=e.eventManager;return t.onListen=XP.bind(null,e.syncEngine),t.onUnlisten=eD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=JP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=tD.bind(null,e.syncEngine),t}function pD(n,e,t={}){const i=new gr;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,c,h,p){const g=new iT({next:w=>{g.eu(),l.enqueueAndForget(()=>Kx(o,v));const T=w.docs.has(c);!T&&w.fromCache?p.reject(new de(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&w.fromCache&&h&&h.source==="server"?p.reject(new de(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new Gx(Hm(c.path),g,{includeMetadataChanges:!0,ua:!0});return qx(o,v)}(await sT(n),n.asyncQueue,e,t,i)),i.promise}function mD(n,e,t={}){const i=new gr;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,c,h,p){const g=new iT({next:w=>{g.eu(),l.enqueueAndForget(()=>Kx(o,v)),w.fromCache&&h.source==="server"?p.reject(new de(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new Gx(c,g,{includeMetadataChanges:!0,ua:!0});return qx(o,v)}(await sT(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(n,e,t){if(!t)throw new de(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function gD(n,e,t,i){if(e===!0&&i===!0)throw new de(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function m0(n){if(!_e.isDocumentKey(n))throw new de(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function g0(n){if(_e.isDocumentKey(n))throw new de(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _d(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ke()}function Fi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_d(n);throw new de(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new de(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vd{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y0(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new kA;switch(i.type){case"firstParty":return new PA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new de(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=p0.get(t);i&&(ue("ComponentProvider","Removing Datastore"),p0.delete(t),i.terminate())}(this),Promise.resolve()}}function yD(n,e,t,i={}){var r;const o=(n=Fi(n,vd))._getSettings(),l=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),i.mockUserToken){let c,h;if(typeof i.mockUserToken=="string")c=i.mockUserToken,h=Gt.MOCK_USER;else{c=uE(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new de(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Gt(p)}n._authCredentials=new CA(new tx(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Va(this.firestore,e,this._query)}}class sn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new as(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}}class as extends Va{constructor(e,t,i){super(e,t,Hm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new _e(e))}withConverter(e){return new as(this.firestore,e,this._path)}}function ag(n,e,...t){if(n=Ut(n),aT("collection","path",e),n instanceof vd){const i=it.fromString(e,...t);return g0(i),new as(n,null,i)}{if(!(n instanceof sn||n instanceof as))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return g0(i),new as(n.firestore,null,i)}}function fi(n,e,...t){if(n=Ut(n),arguments.length===1&&(e=nx.newId()),aT("doc","path",e),n instanceof vd){const i=it.fromString(e,...t);return m0(i),new sn(n,null,new _e(i))}{if(!(n instanceof sn||n instanceof as))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return m0(i),new sn(n.firestore,n instanceof as?n.converter:null,new _e(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Fx(this,"async_queue_retry"),this.fu=()=>{const i=Tp();i&&ue("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=Tp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Tp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new gr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Oa(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const r=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(i);throw wr("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const r=ig.createAndSchedule(this,e,t,i,o=>this.Su(o));return this.du.push(r),r}pu(){this.Au&&ke()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class Fa extends vd{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new _0,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _0(e),this._firestoreClient=void 0,await e}}}function _D(n,e){const t=Cm(),i="(default)",r=rd(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=aE("firestore");o&&yD(r,...o)}return r}function lg(n){if(n._terminated)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||vD(n),n._firestoreClient}function vD(n){var e,t,i;const r=n._freezeSettings(),o=function(c,h,p,g){return new qA(c,h,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,oT(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new hD(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ka(zt.fromBase64String(e))}catch(t){throw new de(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ka(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=/^__.*__$/;class ED{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Es(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ec(e,this.data,t,this.fieldTransforms)}}class lT{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Es(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function cT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}class xd{constructor(e,t,i,r,o,l){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new xd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.xu({path:i,Nu:!1});return r.Lu(e),r}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.xu({path:i,Nu:!1});return r.Fu(),r}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Hh(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(cT(this.Mu)&&wD.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class xD{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||md(e)}$u(e,t,i,r=!1){return new xd({Mu:e,methodName:t,Ku:i,path:jt.emptyPath(),Nu:!1,Qu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hg(n){const e=n._freezeSettings(),t=md(n._databaseId);return new xD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function TD(n,e,t,i,r,o={}){const l=n.$u(o.merge||o.mergeFields?2:0,e,t,r);fg("Data must be an object, but it was:",l,i);const c=uT(i,l);let h,p;if(o.merge)h=new Rn(l.fieldMask),p=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const v of o.mergeFields){const w=cm(e,v,t);if(!l.contains(w))throw new de(ee.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);dT(g,w)||g.push(w)}h=new Rn(g),p=l.fieldTransforms.filter(v=>h.covers(v.field))}else h=null,p=l.fieldTransforms;return new ED(new _n(c),h,p)}class Td extends Ed{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Td}}function SD(n,e,t){return new xd({Mu:3,Ku:e.settings.Ku,methodName:n._methodName,Nu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class dg extends Ed{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=SD(this,e,!0),i=this.Uu.map(o=>ja(o,t)),r=new Sa(i);return new yR(e.path,r)}isEqual(e){return e instanceof dg&&Jl(this.Uu,e.Uu)}}function ID(n,e,t,i){const r=n.$u(1,e,t);fg("Data must be an object, but it was:",r,i);const o=[],l=_n.empty();ws(i,(h,p)=>{const g=pg(e,h,t);p=Ut(p);const v=r.Bu(g);if(p instanceof Td)o.push(g);else{const w=ja(p,v);w!=null&&(o.push(g),l.set(g,w))}});const c=new Rn(o);return new lT(l,c,r.fieldTransforms)}function bD(n,e,t,i,r,o){const l=n.$u(1,e,t),c=[cm(e,i,t)],h=[r];if(o.length%2!=0)throw new de(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)c.push(cm(e,o[w])),h.push(o[w+1]);const p=[],g=_n.empty();for(let w=c.length-1;w>=0;--w)if(!dT(p,c[w])){const T=c[w];let I=h[w];I=Ut(I);const A=l.Bu(T);if(I instanceof Td)p.push(T);else{const b=ja(I,A);b!=null&&(p.push(T),g.set(T,b))}}const v=new Rn(p);return new lT(g,v,l.fieldTransforms)}function kD(n,e,t,i=!1){return ja(t,n.$u(i?4:3,e))}function ja(n,e){if(hT(n=Ut(n)))return fg("Unsupported field value:",e,n),uT(n,e);if(n instanceof Ed)return function(i,r){if(!cT(r.Mu))throw r.qu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.qu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,r){const o=[];let l=0;for(const c of i){let h=ja(c,r.ku(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if((i=Ut(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return pR(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=kt.fromDate(i);return{timestampValue:Uh(r.serializer,o)}}if(i instanceof kt){const o=new kt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Uh(r.serializer,o)}}if(i instanceof cg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ka)return{bytesValue:Cx(r.serializer,i._byteString)};if(i instanceof sn){const o=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw r.qu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Qm(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof ug)return function(l,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw c.qu("VectorValues must only contain numeric values.");return Wm(c.serializer,h)})}}}}}}(i,r);throw r.qu(`Unsupported field value: ${_d(i)}`)}(n,e)}function uT(n,e){const t={};return ix(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ws(n,(i,r)=>{const o=ja(r,e.Ou(i));o!=null&&(t[i]=o)}),{mapValue:{fields:t}}}function hT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof kt||n instanceof cg||n instanceof ka||n instanceof sn||n instanceof Ed||n instanceof ug)}function fg(n,e,t){if(!hT(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){const i=_d(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function cm(n,e,t){if((e=Ut(e))instanceof wd)return e._internalPath;if(typeof e=="string")return pg(n,e);throw Hh("Field path arguments must be of type string or ",n,!1,void 0,t)}const CD=new RegExp("[~\\*/\\[\\]]");function pg(n,e,t){if(e.search(CD)>=0)throw Hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wd(...e.split("."))._internalPath}catch{throw Hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Hh(n,e,t,i,r){const o=i&&!i.isEmpty(),l=r!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${i}`),l&&(h+=` in document ${r}`),h+=")"),new de(ee.INVALID_ARGUMENT,c+n+h)}function dT(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class AD extends fT{data(){return super.data()}}function pT(n,e){return typeof e=="string"?pg(n,e):e instanceof wd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mg{}class PD extends mg{}function gg(n,e,...t){let i=[];e instanceof mg&&i.push(e),i=i.concat(t),function(o){const l=o.filter(h=>h instanceof _g).length,c=o.filter(h=>h instanceof yg).length;if(l>1||l>0&&c>0)throw new de(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class yg extends PD{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new yg(e,t,i)}_apply(e){const t=this._parse(e);return mT(e._query,t),new Va(e.firestore,e.converter,Zp(e._query,t))}_parse(e){const t=hg(e.firestore);return function(o,l,c,h,p,g,v){let w;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new de(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){w0(v,g);const T=[];for(const I of v)T.push(v0(h,o,I));w={arrayValue:{values:T}}}else w=v0(h,o,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||w0(v,g),w=kD(c,l,v,g==="in"||g==="not-in");return xt.create(p,g,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class _g extends mg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new _g(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:di.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(r,o){let l=r;const c=o.getFlattenedFilters();for(const h of c)mT(l,h),l=Zp(l,h)}(e._query,t),new Va(e.firestore,e.converter,Zp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function v0(n,e,t){if(typeof(t=Ut(t))=="string"){if(t==="")throw new de(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dx(e)&&t.indexOf("/")!==-1)throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(it.fromString(t));if(!_e.isDocumentKey(i))throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Uv(n,new _e(i))}if(t instanceof sn)return Uv(n,t._key);throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_d(t)}.`)}function w0(n,e){if(!Array.isArray(n)||n.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mT(n,e){const t=function(r,o){for(const l of r)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new de(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class DD{convertValue(e,t="none"){switch(gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ws(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertVectorValue(e){var t,i,r;const o=(r=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(l=>yt(l.doubleValue));return new ug(o)}convertGeoPoint(e){return new cg(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=cd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(nc(e));default:return null}}convertTimestamp(e){const t=ps(e);return new kt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=it.fromString(e);Ke(Mx(i));const r=new ic(i.get(1),i.get(3)),o=new _e(i.popFirst(5));return r.isEqual(t)||wr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gT extends fT{constructor(e,t,i,r,o,l){super(e,t,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(pT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Eh extends gT{data(e={}){return super.data(e)}}class MD{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Fl(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Eh(this._firestore,this._userDataWriter,i.key,i,new Fl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(c=>{const h=new Eh(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Fl(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const h=new Eh(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Fl(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let p=-1,g=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:OD(c.type),doc:h,oldIndex:p,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function OD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(n){n=Fi(n,sn);const e=Fi(n.firestore,Fa);return pD(lg(e),n._key).then(t=>VD(e,n,t))}class yT extends DD{constructor(e){super(),this.firestore=e}convertBytes(e){return new ka(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,t)}}function vg(n){n=Fi(n,Va);const e=Fi(n.firestore,Fa),t=lg(e),i=new yT(e);return RD(n._query),mD(t,n._query).then(r=>new MD(e,i,n,r))}function wg(n,e,t){n=Fi(n,sn);const i=Fi(n.firestore,Fa),r=ND(n.converter,e);return xg(i,[TD(hg(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,hi.none())])}function Sd(n,e,t,...i){n=Fi(n,sn);const r=Fi(n.firestore,Fa),o=hg(r);let l;return l=typeof(e=Ut(e))=="string"||e instanceof wd?bD(o,"updateDoc",n._key,e,t,i):ID(o,"updateDoc",n._key,e),xg(r,[l.toMutation(n._key,hi.exists(!0))])}function Eg(n){return xg(Fi(n.firestore,Fa),[new qm(n._key,hi.none())])}function xg(n,e){return function(i,r){const o=new gr;return i.asyncQueue.enqueueAndForget(async()=>nD(await fD(i),r,o)),o.promise}(lg(n),e)}function VD(n,e,t){const i=t.docs.get(e._key),r=new yT(n);return new gT(n,r,e._key,i,new Fl(t.hasPendingWrites,t.fromCache),e.converter)}function FD(...n){return new dg("arrayUnion",n)}(function(e,t=!0){(function(r){Na=r})(po),lo(new ds("firestore",(i,{instanceIdentifier:r,options:o})=>{const l=i.getProvider("app").getImmediate(),c=new Fa(new AA(i.getProvider("auth-internal")),new NA(i.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new de(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ic(p.options.projectId,g)}(l,r),l);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Pi(Mv,"4.7.5",e),Pi(Mv,"4.7.5","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="firebasestorage.googleapis.com",jD="storageBucket",UD=2*60*1e3,zD=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Bi{constructor(e,t,i=0){super(Ip(e),`Firebase Storage: ${t} (${Ip(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$i.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ip(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ji;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ji||(ji={}));function Ip(n){return"storage/"+n}function BD(){const n="An unknown error occurred, please check the error payload for server response.";return new $i(ji.UNKNOWN,n)}function $D(){return new $i(ji.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function HD(){return new $i(ji.CANCELED,"User canceled the upload/download.")}function WD(n){return new $i(ji.INVALID_URL,"Invalid URL '"+n+"'.")}function qD(n){return new $i(ji.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function E0(n){return new $i(ji.INVALID_ARGUMENT,n)}function vT(){return new $i(ji.APP_DELETED,"The Firebase app was deleted.")}function KD(n){return new $i(ji.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=li.makeFromUrl(e,t)}catch{return new li(e,"")}if(i.path==="")return i;throw qD(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+r+l,"i"),h={bucket:1,path:3};function p(G){G.path_=decodeURIComponent(G.path)}const g="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",T=new RegExp(`^https?://${v}/${g}/b/${r}/o${w}`,"i"),I={bucket:1,path:3},A=t===_T?"(?:storage.googleapis.com|storage.cloud.google.com)":t,b="([^?#]*)",D=new RegExp(`^https?://${A}/${r}/${b}`,"i"),$=[{regex:c,indices:h,postModify:o},{regex:T,indices:I,postModify:p},{regex:D,indices:{bucket:1,path:2},postModify:p}];for(let G=0;G<$.length;G++){const Y=$[G],J=Y.regex.exec(e);if(J){const R=J[Y.indices.bucket];let C=J[Y.indices.path];C||(C=""),i=new li(R,C),Y.postModify(i);break}}if(i==null)throw WD(e);return i}}class GD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(n,e,t){let i=1,r=null,o=null,l=!1,c=0;function h(){return c===2}let p=!1;function g(...b){p||(p=!0,e.apply(null,b))}function v(b){r=setTimeout(()=>{r=null,n(T,h())},b)}function w(){o&&clearTimeout(o)}function T(b,...D){if(p){w();return}if(b){w(),g.call(null,b,...D);return}if(h()||l){w(),g.call(null,b,...D);return}i<64&&(i*=2);let $;c===1?(c=2,$=0):$=(i+Math.random())*1e3,v($)}let I=!1;function A(b){I||(I=!0,w(),!p&&(r!==null?(b||(c=2),clearTimeout(r),v(0)):b||(c=1)))}return v(0),o=setTimeout(()=>{l=!0,A(!0)},t),A}function YD(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(n){return n!==void 0}function x0(n,e,t,i){if(i<e)throw E0(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw E0(`Invalid value for '${n}'. Expected ${t} or less.`)}function JD(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const r=e(i)+"="+e(n[i]);t=t+r+"&"}return t=t.slice(0,-1),t}var Wh;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Wh||(Wh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(n,e){const t=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,t,i,r,o,l,c,h,p,g,v,w=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=v,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,I)=>{this.resolve_=T,this.reject_=I,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new Yu(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const h=c.loaded,p=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,p)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===Wh.NO_ERROR,h=o.getStatus();if(!c||ZD(h,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===Wh.ABORT;i(!1,new Yu(!1,null,g));return}const p=this.successCodes_.indexOf(h)!==-1;i(!0,new Yu(p,o))})},t=(i,r)=>{const o=this.resolve_,l=this.reject_,c=r.connection;if(r.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());XD(h)?o(h):o()}catch(h){l(h)}else if(c!==null){const h=BD();h.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,h)):l(h)}else if(r.canceled){const h=this.appDelete_?vT():HD();l(h)}else{const h=$D();l(h)}};this.canceled_?t(!1,new Yu(!1,null,!0)):this.backoffId_=QD(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&YD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yu{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function tN(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function nN(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function iN(n,e){e&&(n["X-Firebase-GMPID"]=e)}function rN(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function sN(n,e,t,i,r,o,l=!0){const c=JD(n.urlParams),h=n.url+c,p=Object.assign({},n.headers);return iN(p,e),tN(p,t),nN(p,o),rN(p,i),new eN(h,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function aN(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,t){this._service=e,t instanceof li?this._location=t:this._location=li.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new qh(e,t)}get root(){const e=new li(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return aN(this._location.path)}get storage(){return this._service}get parent(){const e=oN(this._location.path);if(e===null)return null;const t=new li(this._location.bucket,e);return new qh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw KD(e)}}function T0(n,e){const t=e==null?void 0:e[jD];return t==null?null:li.makeFromBucketSpec(t,n)}function lN(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken=typeof r=="string"?r:uE(r,n.app.options.projectId))}class cN{constructor(e,t,i,r,o){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=_T,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=UD,this._maxUploadRetryTime=zD,this._requests=new Set,r!=null?this._bucket=li.makeFromBucketSpec(r,this._host):this._bucket=T0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=li.makeFromBucketSpec(this._url,e):this._bucket=T0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){x0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){x0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qh(this,e)}_makeRequest(e,t,i,r,o=!0){if(this._deleted)return new GD(vT());{const l=sN(e,this._appId,i,r,t,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,r).getPromise()}}const S0="@firebase/storage",I0="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="storage";function uN(n=Cm(),e){n=Ut(n);const i=rd(n,wT).getImmediate({identifier:e}),r=aE("storage");return r&&hN(i,...r),i}function hN(n,e,t,i={}){lN(n,e,t,i)}function dN(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new cN(t,i,r,e,po)}function fN(){lo(new ds(wT,dN,"PUBLIC").setMultipleInstances(!0)),Pi(S0,I0,""),Pi(S0,I0,"esm2017")}fN();const pN={apiKey:"AIzaSyABxD0J3nbfj1YBsEZYD03pubSBCnN7i6g",authDomain:"crud-firebase-783e9firebaseapp.com",projectId:"crud-firebase-783e9",storageBucket:"crud-firebase-783e9appspot.com"},ET=fE(pN),wn=_D(),mN=IA(ET);uN(ET);fC(mN,UE);const Ic="personas",gN=async(n,e)=>{const t=fi(wn,Ic,n);await wg(t,e)},um=async(n,e)=>{const t=fi(wn,Ic,n);await Sd(t,e)},Id=async()=>{const n=ag(wn,Ic),e=await vg(gg(n));return Tg(e)},yN=async n=>{const e=fi(wn,Ic,n);return(await LD(e)).data()},_N=async n=>{const e=fi(wn,Ic,n);await Eg(e)},Tg=n=>n.docs.map(e=>({id:e.id,...e.data()})),bd="clases",vN=async(n,e)=>{const t=fi(wn,bd,n);await wg(t,e)},wN=async(n,e)=>{const t=fi(wn,bd,n);await Sd(t,e)},Sg=async()=>{const n=ag(wn,bd),e=await vg(gg(n));return Tg(e)},EN=async n=>{const e=fi(wn,bd,n);await Eg(e)},kd="ventas",xN=async(n,e)=>{const t=fi(wn,kd,n);await wg(t,e)},b0=async(n,e)=>{const t=fi(wn,kd,n);await Sd(t,e)},TN=async()=>{const n=ag(wn,kd),e=await vg(gg(n));return Tg(e)},SN=async n=>{const e=fi(wn,kd,n);await Eg(e)},IN=()=>{const[n,e]=z.useState([]),[t,i]=z.useState([]),[r,o]=z.useState([]),[l,c]=z.useState([]),[h,p]=z.useState(!1),[g,v]=z.useState([]);z.useEffect(()=>{w(),T()},[]);const w=()=>{Sg().then(V=>{e(V),i(V)})},T=()=>{Id().then(V=>{o(V),I(V)})},I=async V=>{const $=new Date,G=await Promise.all(V.map(async Y=>{const J=new Date(Y.fecha),R=Math.ceil((J-$)/(1e3*60*60*24));if(R>=-10&&R<=5&&(J.getMonth()===$.getMonth()||J.getMonth()===$.getMonth()+1||J.getMonth()===0&&$.getMonth()===11)&&!Y.mensualidad){const P={...Y,mensualidad:!0};return await um(Y.id,P),P}return Y}));o(G),c(G.filter(Y=>Y.mensualidad))},A=async(V,$)=>{const G=r.find(L=>L.id===V);if(!G)return;const Y=new Date(G.fecha);Y.setMonth(Y.getMonth()+1);const J=new Date(G.fecha).toLocaleString("es-ES",{month:"long"}),R=Y.toISOString().split("T")[0],C={...G.pago,[J]:$},P={...G,mensualidad:!1,fecha:R,pago:C};await um(V,P);const O=r.map(L=>L.id===V?P:L);o(O),c(O.filter(L=>L.mensualidad===!0))},b=V=>{v(V.inscritos||[]),p(!0)},D=()=>{p(!1)};return x.jsxs("div",{children:[x.jsxs("section",{className:"section",children:[x.jsx("h2",{children:"Clases del día"}),x.jsxs("table",{className:"table",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{children:"Nombre"}),x.jsx("th",{children:"Fecha"}),x.jsx("th",{children:"Hora"}),x.jsx("th",{children:"Inscritos"})]})}),x.jsx("tbody",{children:t.map(V=>{var $;return x.jsxs("tr",{children:[x.jsx("td",{children:V.nombre}),x.jsx("td",{children:V.fecha}),x.jsx("td",{children:V.hora}),x.jsxs("td",{children:[(($=V.inscritos)==null?void 0:$.length)||0," ",x.jsx("button",{onClick:()=>b(V),className:"btn btn-info",children:"Ver"})]})]},V.id)})})]})]}),x.jsxs("section",{className:"section",children:[x.jsx("h2",{children:"Mensualidades a vencer"}),x.jsxs("table",{className:"table",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{children:"Nombre"}),x.jsx("th",{children:"Teléfono"}),x.jsx("th",{children:"Fecha"}),x.jsx("th",{children:"Acciones"})]})}),x.jsx("tbody",{children:l.length>0?l.map(V=>x.jsxs("tr",{children:[x.jsx("td",{children:V.nombre}),x.jsx("td",{children:V.telefono}),x.jsx("td",{children:V.fecha}),x.jsxs("td",{children:[x.jsx("button",{onClick:()=>A(V.id,"Efectivo"),className:"btn btn-success",children:"Pago en Efectivo"}),x.jsx("button",{onClick:()=>A(V.id,"Transferencia"),className:"btn btn-primary",children:"Pago por Transferencia"})]})]},V.id)):x.jsx("tr",{children:x.jsx("td",{colSpan:"4",children:"No hay mensualidades próximas a vencer"})})})]})]}),h&&x.jsx("div",{className:"modal",children:x.jsxs("div",{className:"modal-content",children:[x.jsx("h3",{children:"Inscritos en la clase"}),x.jsx("ul",{children:g.length>0?g.map((V,$)=>x.jsx("li",{children:V},$)):x.jsx("li",{children:"No hay inscritos en esta clase."})}),x.jsx("button",{onClick:D,className:"btn btn-close",children:"Cerrar"})]})})]})},xT=()=>{const[n,e]=z.useState(""),[t,i]=z.useState(""),[r,o]=z.useState(""),[l,c]=z.useState(""),[h,p]=z.useState(""),[g,v]=z.useState(""),[w,T]=z.useState(""),[I,A]=z.useState(""),[b,D]=z.useState(""),[V,$]=z.useState(""),[G,Y]=z.useState(""),[J,R]=z.useState(""),[C,P]=z.useState(""),[O,L]=z.useState(""),[F,N]=z.useState(!1),[Ne,Se]=z.useState(!1),[De,Ee]=z.useState(!1),[oe,me]=z.useState(!1),[le,B]=z.useState([]),[X,fe]=z.useState(""),[xe,Te]=z.useState([]),[Ie,Ve]=z.useState("plan1"),[Pe,He]=z.useState([]),[ht,En]=z.useState("transferencia"),[Hi,Wn]=z.useState({}),[xr,Wi]=z.useState(!1),[xs,Ts]=z.useState(""),[yo,qi]=z.useState(!1),[Zt,xn]=z.useState(!1);z.useEffect(()=>{pi()},[]);const pi=()=>{Id().then(ie=>{B(ie),Te(ie)})},Tr=async()=>{if(!n||!t||!r||!l){alert("Por favor, completa todos los campos obligatorios.");return}const ie=new Date(l),an=ie.toLocaleString("es-ES",{month:"long"}).toLowerCase(),gi={...Hi,[an]:ht};ie.setMonth(ie.getMonth()+1);const Ki=ie.toISOString().split("T")[0];await gN(n,{nombre:t,telefono:r,fecha:Ki,direccion:h,grupoSanguineo:g,ocupacion:w,talla:I,nivelEstudio:b,eps:V,arl:G,lesiones:J,alergias:C,medicamentos:O,problemasPulmonares:F,enfermedadesCardiacas:Ne,enfermedadRenal:De,sistemaInmunitarioDebilitado:oe,plan:Ie,diasSeleccionados:Pe,pago:gi,mensualidad:!1}),pi(),dt(),qi(!1)},Sr=async ie=>{await _N(ie),pi()},Ss=async()=>{if(!t||!r||!l){alert("Por favor, completa todos los campos obligatorios.");return}const ie=new Date(l).toLocaleString("es-ES",{month:"long"}).toLowerCase(),an={...Hi,[ie]:ht};await um(xs,{nombre:t,telefono:r,fecha:l,direccion:h,grupoSanguineo:g,ocupacion:w,talla:I,nivelEstudio:b,eps:V,arl:G,lesiones:J,alergias:C,medicamentos:O,problemasPulmonares:F,enfermedadesCardiacas:Ne,enfermedadRenal:De,sistemaInmunitarioDebilitado:oe,plan:Ie,diasSeleccionados:Pe,pago:an}),pi(),dt(),Wi(!1),xn(!1)},dt=()=>{e(""),i(""),o(""),c(""),p(""),v(""),T(""),A(""),D(""),$(""),Y(""),R(""),P(""),L(""),N(!1),Se(!1),Ee(!1),me(!1),Ve("plan1"),He([]),En("transferencia"),Wn({})},pt=ie=>{e(ie.id),i(ie.nombre),o(ie.telefono),c(ie.fecha),p(ie.direccion),v(ie.grupoSanguineo),T(ie.ocupacion),A(ie.talla),D(ie.nivelEstudio),$(ie.eps),Y(ie.arl),R(ie.lesiones),P(ie.alergias),L(ie.medicamentos),N(ie.problemasPulmonares),Se(ie.enfermedadesCardiacas),Ee(ie.enfermedadRenal),me(ie.sistemaInmunitarioDebilitado),Ve(ie.plan),He(ie.diasSeleccionados),En(ie.pago?Object.values(ie.pago)[0]:"transferencia"),Wn(ie.pago||{}),Ts(ie.id),Wi(!0),xn(!0)},qn=()=>{const ie=le.filter(an=>an.id.includes(X));Te(ie)},Is=()=>{Te(le)},mi=ie=>{Ve(ie.target.value),ie.target.value==="plan2"&&He([])},on=ie=>{const{value:an,checked:gi}=ie.target;He(gi?[...Pe,an]:Pe.filter(Ki=>Ki!==an))};return x.jsx("div",{className:"admin-container",children:x.jsx("main",{className:"main-content",children:x.jsxs("section",{className:"section",children:[x.jsx("h2",{children:"Gestión de Personas"}),x.jsxs("div",{className:"search-container",children:[x.jsx("input",{type:"text",value:X,onChange:ie=>fe(ie.target.value),placeholder:"Buscar por ID",className:"search-input"}),x.jsx("button",{onClick:qn,className:"action-button",children:"Buscar"}),x.jsx("button",{onClick:Is,className:"action-button",children:"Mostrar Todo"})]}),x.jsxs("table",{className:"table",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{children:"ID"}),x.jsx("th",{children:"Nombre"}),x.jsx("th",{children:"Teléfono"}),x.jsx("th",{children:"Fecha"}),x.jsx("th",{children:"Dirección"}),x.jsx("th",{children:"Acciones"})]})}),x.jsx("tbody",{children:xe.map(ie=>x.jsxs("tr",{children:[x.jsx("td",{children:ie.id}),x.jsx("td",{children:ie.nombre}),x.jsx("td",{children:ie.telefono}),x.jsx("td",{children:ie.fecha}),x.jsx("td",{children:ie.direccion}),x.jsxs("td",{children:[x.jsx("button",{onClick:()=>pt(ie),className:"action-button",children:"Editar"}),x.jsx("button",{onClick:()=>Sr(ie.id),className:"action-button",children:"Eliminar"})]})]},ie.id))})]}),x.jsx("div",{className:"button-container",children:x.jsx("button",{onClick:()=>{qi(!0),xn(!1)},className:"action-button",children:"Agregar Persona"})}),(yo||Zt)&&x.jsxs("section",{className:"section",children:[x.jsx("h2",{children:Zt?"Editar Persona":"Agregar Nueva Persona"}),x.jsxs("div",{className:"form-grild",children:[x.jsx("input",{type:"text",value:n,onChange:ie=>e(ie.target.value),placeholder:"ID",className:"input-field"}),x.jsx("input",{type:"text",value:t,onChange:ie=>i(ie.target.value),placeholder:"Nombre",className:"input-field"}),x.jsx("input",{type:"text",value:r,onChange:ie=>o(ie.target.value),placeholder:"Teléfono",className:"input-field"}),x.jsx("input",{type:"date",value:l,onChange:ie=>c(ie.target.value),className:"input-field"}),x.jsx("input",{type:"text",value:h,onChange:ie=>p(ie.target.value),placeholder:"Dirección",className:"input-field"}),x.jsx("input",{type:"text",value:g,onChange:ie=>v(ie.target.value),placeholder:"Grupo Sanguíneo",className:"input-field"}),x.jsx("input",{type:"text",value:w,onChange:ie=>T(ie.target.value),placeholder:"Ocupación",className:"input-field"}),x.jsx("input",{type:"text",value:I,onChange:ie=>A(ie.target.value),placeholder:"Talla",className:"input-field"}),x.jsx("input",{type:"text",value:b,onChange:ie=>D(ie.target.value),placeholder:"Nivel de Estudio",className:"input-field"}),x.jsx("input",{type:"text",value:V,onChange:ie=>$(ie.target.value),placeholder:"EPS",className:"input-field"}),x.jsx("input",{type:"text",value:G,onChange:ie=>Y(ie.target.value),placeholder:"ARL",className:"input-field"}),x.jsx("input",{type:"text",value:J,onChange:ie=>R(ie.target.value),placeholder:"Lesiones",className:"input-field"}),x.jsx("input",{type:"text",value:C,onChange:ie=>P(ie.target.value),placeholder:"Alergias",className:"input-field"}),x.jsx("input",{type:"text",value:O,onChange:ie=>L(ie.target.value),placeholder:"Medicamentos",className:"input-field"})]}),x.jsx("div",{children:x.jsxs("select",{value:ht,onChange:ie=>En(ie.target.value),disabled:Zt,children:[x.jsx("option",{value:"transferencia",children:"Transferencia"}),x.jsx("option",{value:"efectivo",children:"Efectivo"}),x.jsx("option",{value:"otro",children:"Otro"})]})}),x.jsxs("div",{className:"form-section",children:[x.jsxs("label",{children:[x.jsx("input",{type:"checkbox",checked:F,onChange:ie=>N(ie.target.checked)}),"Problemas pulmonares"]}),x.jsxs("label",{children:[x.jsx("input",{type:"checkbox",checked:Ne,onChange:ie=>Se(ie.target.checked)}),"Enfermedades cardíacas"]}),x.jsxs("label",{children:[x.jsx("input",{type:"checkbox",checked:De,onChange:ie=>Ee(ie.target.checked)}),"Enfermedad renal"]}),x.jsxs("label",{children:[x.jsx("input",{type:"checkbox",checked:oe,onChange:ie=>me(ie.target.checked)}),"Sistema inmunitario debilitado"]})]}),x.jsxs("div",{className:"form-plan",children:[x.jsxs("select",{value:Ie,onChange:mi,className:"select-field",children:[x.jsx("option",{value:"plan1",children:"Plan 1"}),x.jsx("option",{value:"plan2",children:"Plan 2"})]}),Ie==="plan1"&&x.jsxs("div",{className:"checkbox-group",children:[x.jsxs("label",{children:[x.jsx("input",{type:"checkbox",value:"Lunes",checked:Pe.includes("Lunes"),onChange:on}),"Lunes"]}),x.jsxs("label",{children:[x.jsx("input",{type:"checkbox",value:"Martes",checked:Pe.includes("Martes"),onChange:on}),"Martes"]}),x.jsxs("label",{children:[x.jsx("input",{type:"checkbox",value:"Miércoles",checked:Pe.includes("Miércoles"),onChange:on}),"Miércoles"]}),x.jsxs("label",{children:[x.jsx("input",{type:"checkbox",value:"Jueves",checked:Pe.includes("Jueves"),onChange:on}),"Jueves"]}),x.jsxs("label",{children:[x.jsx("input",{type:"checkbox",value:"Viernes",checked:Pe.includes("Viernes"),onChange:on}),"Viernes"]}),x.jsxs("label",{children:[x.jsx("input",{type:"checkbox",value:"Sábado",checked:Pe.includes("Sábado"),onChange:on}),"Sábado"]})]})]}),x.jsx("div",{className:"button-container",children:x.jsx("button",{onClick:Zt?Ss:Tr,className:"action-button",children:Zt?"Actualizar":"Agregar"})})]})]})})})},bN=()=>{const[n,e]=z.useState(""),[t,i]=z.useState(""),[r,o]=z.useState(""),[l,c]=z.useState(""),[h,p]=z.useState([]),[g,v]=z.useState(""),[w,T]=z.useState([]),[I,A]=z.useState(!1);z.useEffect(()=>{b()},[]);const b=()=>{Sg().then(R=>{p(R),T(R)})},D=async()=>{if(!n||!t||!r||!l){alert("Por favor, completa todos los campos.");return}const R={nombre:t,fecha:r,hora:l};I?await wN(n,R):await vN(n,R),b(),J()},V=R=>{e(R.id),i(R.nombre),o(R.fecha),c(R.hora),A(!0)},$=async R=>{await EN(R),b()},G=()=>{const R=h.filter(C=>C.id.toString().includes(g));T(R)},Y=()=>{T(h),v("")},J=()=>{e(""),i(""),o(""),c(""),A(!1)};return x.jsx("div",{className:"admin-container",children:x.jsxs("main",{className:"main-content",children:[x.jsxs("section",{className:"section",children:[x.jsx("h2",{children:"Gestión de Clases"}),x.jsxs("div",{className:"search-container",children:[x.jsx("input",{type:"text",value:g,onChange:R=>v(R.target.value),placeholder:"Buscar por ID",className:"search-input"}),x.jsx("button",{onClick:G,className:"action-button",children:"Buscar"}),x.jsx("button",{onClick:Y,className:"action-button",children:"Mostrar Todo"})]}),x.jsxs("table",{className:"table",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{children:"ID"}),x.jsx("th",{children:"Nombre"}),x.jsx("th",{children:"Fecha"}),x.jsx("th",{children:"Hora"}),x.jsx("th",{children:"Acciones"})]})}),x.jsx("tbody",{children:w.map(R=>x.jsxs("tr",{children:[x.jsx("td",{children:R.id}),x.jsx("td",{children:R.nombre}),x.jsx("td",{children:R.fecha}),x.jsx("td",{children:R.hora}),x.jsxs("td",{children:[x.jsx("button",{onClick:()=>V(R),className:"action-button",children:"Editar"}),x.jsx("button",{onClick:()=>$(R.id),className:"action-button",children:"Eliminar"})]})]},R.id))})]})]}),x.jsxs("section",{className:"section",children:[x.jsx("h2",{children:I?"Editar Clase":"Agregar Nueva Clase"}),x.jsx("input",{type:"text",value:n,onChange:R=>e(R.target.value),placeholder:"ID",className:"input-field",disabled:I}),x.jsx("input",{type:"text",value:t,onChange:R=>i(R.target.value),placeholder:"Nombre",className:"input-field"}),x.jsx("input",{type:"date",value:r,onChange:R=>o(R.target.value),className:"input-field"}),x.jsx("input",{type:"time",value:l,onChange:R=>c(R.target.value),className:"input-field"}),x.jsx("button",{onClick:D,className:"action-button",children:I?"Actualizar Clase":"Insertar Clase"}),I&&x.jsx("button",{onClick:J,className:"action-button",children:"Cancelar"})]})]})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function bc(n){return n+.5|0}const is=(n,e,t)=>Math.max(Math.min(n,t),e);function jl(n){return is(bc(n*2.55),0,255)}function ls(n){return is(bc(n*255),0,255)}function hr(n){return is(bc(n/2.55)/100,0,1)}function k0(n){return is(bc(n*100),0,100)}const zn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hm=[..."0123456789ABCDEF"],kN=n=>hm[n&15],CN=n=>hm[(n&240)>>4]+hm[n&15],Xu=n=>(n&240)>>4===(n&15),AN=n=>Xu(n.r)&&Xu(n.g)&&Xu(n.b)&&Xu(n.a);function RN(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&zn[n[1]]*17,g:255&zn[n[2]]*17,b:255&zn[n[3]]*17,a:e===5?zn[n[4]]*17:255}:(e===7||e===9)&&(t={r:zn[n[1]]<<4|zn[n[2]],g:zn[n[3]]<<4|zn[n[4]],b:zn[n[5]]<<4|zn[n[6]],a:e===9?zn[n[7]]<<4|zn[n[8]]:255})),t}const PN=(n,e)=>n<255?e(n):"";function DN(n){var e=AN(n)?kN:CN;return n?"#"+e(n.r)+e(n.g)+e(n.b)+PN(n.a,e):void 0}const NN=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function TT(n,e,t){const i=e*Math.min(t,1-t),r=(o,l=(o+n/30)%12)=>t-i*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function MN(n,e,t){const i=(r,o=(r+n/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function ON(n,e,t){const i=TT(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function LN(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}function Ig(n){const t=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(t,i,r),l=Math.min(t,i,r),c=(o+l)/2;let h,p,g;return o!==l&&(g=o-l,p=c>.5?g/(2-o-l):g/(o+l),h=LN(t,i,r,g,o),h=h*60+.5),[h|0,p||0,c]}function bg(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(ls)}function kg(n,e,t){return bg(TT,n,e,t)}function VN(n,e,t){return bg(ON,n,e,t)}function FN(n,e,t){return bg(MN,n,e,t)}function ST(n){return(n%360+360)%360}function jN(n){const e=NN.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?jl(+e[5]):ls(+e[5]));const r=ST(+e[2]),o=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?i=VN(r,o,l):e[1]==="hsv"?i=FN(r,o,l):i=kg(r,o,l),{r:i[0],g:i[1],b:i[2],a:t}}function UN(n,e){var t=Ig(n);t[0]=ST(t[0]+e),t=kg(t),n.r=t[0],n.g=t[1],n.b=t[2]}function zN(n){if(!n)return;const e=Ig(n),t=e[0],i=k0(e[1]),r=k0(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${hr(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}const C0={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},A0={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function BN(){const n={},e=Object.keys(A0),t=Object.keys(C0);let i,r,o,l,c;for(i=0;i<e.length;i++){for(l=c=e[i],r=0;r<t.length;r++)o=t[r],c=c.replace(o,C0[o]);o=parseInt(A0[l],16),n[c]=[o>>16&255,o>>8&255,o&255]}return n}let Ju;function $N(n){Ju||(Ju=BN(),Ju.transparent=[0,0,0,0]);const e=Ju[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const HN=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function WN(n){const e=HN.exec(n);let t=255,i,r,o;if(e){if(e[7]!==i){const l=+e[7];t=e[8]?jl(l):is(l*255,0,255)}return i=+e[1],r=+e[3],o=+e[5],i=255&(e[2]?jl(i):is(i,0,255)),r=255&(e[4]?jl(r):is(r,0,255)),o=255&(e[6]?jl(o):is(o,0,255)),{r:i,g:r,b:o,a:t}}}function qN(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${hr(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const bp=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,oa=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function KN(n,e,t){const i=oa(hr(n.r)),r=oa(hr(n.g)),o=oa(hr(n.b));return{r:ls(bp(i+t*(oa(hr(e.r))-i))),g:ls(bp(r+t*(oa(hr(e.g))-r))),b:ls(bp(o+t*(oa(hr(e.b))-o))),a:n.a+t*(e.a-n.a)}}function Zu(n,e,t){if(n){let i=Ig(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=kg(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function IT(n,e){return n&&Object.assign(e||{},n)}function R0(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=ls(n[3]))):(e=IT(n,{r:0,g:0,b:0,a:1}),e.a=ls(e.a)),e}function GN(n){return n.charAt(0)==="r"?WN(n):jN(n)}class oc{constructor(e){if(e instanceof oc)return e;const t=typeof e;let i;t==="object"?i=R0(e):t==="string"&&(i=RN(e)||$N(e)||GN(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=IT(this._rgb);return e&&(e.a=hr(e.a)),e}set rgb(e){this._rgb=R0(e)}rgbString(){return this._valid?qN(this._rgb):void 0}hexString(){return this._valid?DN(this._rgb):void 0}hslString(){return this._valid?zN(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let o;const l=t===o?.5:t,c=2*l-1,h=i.a-r.a,p=((c*h===-1?c:(c+h)/(1+c*h))+1)/2;o=1-p,i.r=255&p*i.r+o*r.r+.5,i.g=255&p*i.g+o*r.g+.5,i.b=255&p*i.b+o*r.b+.5,i.a=l*i.a+(1-l)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=KN(this._rgb,e._rgb,t)),this}clone(){return new oc(this.rgb)}alpha(e){return this._rgb.a=ls(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=bc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Zu(this._rgb,2,e),this}darken(e){return Zu(this._rgb,2,-e),this}saturate(e){return Zu(this._rgb,1,e),this}desaturate(e){return Zu(this._rgb,1,-e),this}rotate(e){return UN(this._rgb,e),this}}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function lr(){}const QN=(()=>{let n=0;return()=>n++})();function rt(n){return n==null}function bt(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function qe(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function $n(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Ci(n,e){return $n(n)?n:e}function Ye(n,e){return typeof n>"u"?e:n}const YN=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function nt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Qe(n,e,t,i){let r,o,l;if(bt(n))for(o=n.length,r=0;r<o;r++)e.call(t,n[r],r);else if(qe(n))for(l=Object.keys(n),o=l.length,r=0;r<o;r++)e.call(t,n[l[r]],l[r])}function Kh(n,e){let t,i,r,o;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],o=e[t],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Gh(n){if(bt(n))return n.map(Gh);if(qe(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=Gh(n[t[r]]);return e}return n}function bT(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function XN(n,e,t,i){if(!bT(n))return;const r=e[n],o=t[n];qe(r)&&qe(o)?ac(r,o,i):e[n]=Gh(o)}function ac(n,e,t){const i=bt(e)?e:[e],r=i.length;if(!qe(n))return n;t=t||{};const o=t.merger||XN;let l;for(let c=0;c<r;++c){if(l=i[c],!qe(l))continue;const h=Object.keys(l);for(let p=0,g=h.length;p<g;++p)o(h[p],n,l,t)}return n}function Kl(n,e){return ac(n,e,{merger:JN})}function JN(n,e,t){if(!bT(n))return;const i=e[n],r=t[n];qe(i)&&qe(r)?Kl(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Gh(r))}const P0={"":n=>n,x:n=>n.x,y:n=>n.y};function ZN(n){const e=n.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function eM(n){const e=ZN(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function Ca(n,e){return(P0[e]||(P0[e]=eM(e)))(n)}function Cg(n){return n.charAt(0).toUpperCase()+n.slice(1)}const lc=n=>typeof n<"u",_s=n=>typeof n=="function",D0=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function tM(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Xt=Math.PI,cs=2*Xt,Qh=Number.POSITIVE_INFINITY,nM=Xt/180,ci=Xt/2,Xs=Xt/4,N0=Xt*2/3,dm=Math.log10,us=Math.sign;function xh(n,e,t){return Math.abs(n-e)<t}function M0(n){const e=Math.round(n);n=xh(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(dm(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function iM(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((r,o)=>r-o).pop(),e}function Yh(n){return!isNaN(parseFloat(n))&&isFinite(n)}function rM(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function sM(n,e,t){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][t],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function ro(n){return n*(Xt/180)}function oM(n){return n*(180/Xt)}function O0(n){if(!$n(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function aM(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let o=Math.atan2(i,t);return o<-.5*Xt&&(o+=cs),{angle:o,distance:r}}function lM(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Js(n){return(n%cs+cs)%cs}function cM(n,e,t,i){const r=Js(n),o=Js(e),l=Js(t),c=Js(o-r),h=Js(l-r),p=Js(r-o),g=Js(r-l);return r===o||r===l||i&&o===l||c>h&&p<g}function ui(n,e,t){return Math.max(e,Math.min(t,n))}function uM(n){return ui(n,-32768,32767)}function da(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function Ag(n,e,t){t=t||(l=>n[l]<e);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,t(o)?r=o:i=o;return{lo:r,hi:i}}const fm=(n,e,t,i)=>Ag(n,t,i?r=>{const o=n[r][e];return o<t||o===t&&n[r+1][e]===t}:r=>n[r][e]<t),hM=(n,e,t)=>Ag(n,t,i=>n[i][e]>=t);function dM(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}const kT=["push","pop","shift","splice","unshift"];function fM(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),kT.forEach(t=>{const i="_onData"+Cg(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...o){const l=r.apply(this,o);return n._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...o)}),l}})})}function L0(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(kT.forEach(o=>{delete n[o]}),delete n._chartjs)}function CT(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const AT=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function RT(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,AT.call(window,()=>{i=!1,n.apply(e,t)}))}}function pM(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const Rg=n=>n==="start"?"left":n==="end"?"right":"center",Kt=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,mM=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e,eh=n=>n===0||n===1,V0=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*cs/t)),F0=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*cs/t)+1,Gl={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*ci)+1,easeOutSine:n=>Math.sin(n*ci),easeInOutSine:n=>-.5*(Math.cos(Xt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>eh(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>eh(n)?n:V0(n,.075,.3),easeOutElastic:n=>eh(n)?n:F0(n,.075,.3),easeInOutElastic(n){return eh(n)?n:n<.5?.5*V0(n*2,.1125,.45):.5+.5*F0(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Gl.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Gl.easeInBounce(n*2)*.5:Gl.easeOutBounce(n*2-1)*.5+.5};function PT(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function j0(n){return PT(n)?n:new oc(n)}function kp(n){return PT(n)?n:new oc(n).saturate(.5).darken(.1).hexString()}const gM=["x","y","borderWidth","radius","tension"],yM=["color","borderColor","backgroundColor"];function _M(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:yM},numbers:{type:"number",properties:gM}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function vM(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const U0=new Map;function wM(n,e){e=e||{};const t=n+JSON.stringify(e);let i=U0.get(t);return i||(i=new Intl.NumberFormat(n,e),U0.set(t,i)),i}function DT(n,e,t){return wM(e,t).format(n)}const NT={values(n){return bt(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(t.length>1){const p=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(p<1e-4||p>1e15)&&(r="scientific"),o=EM(n,t)}const l=dm(Math.abs(o)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:r,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),DT(n,i,h)},logarithmic(n,e,t){if(n===0)return"0";const i=t[e].significand||n/Math.pow(10,Math.floor(dm(n)));return[1,2,3,5,10,15].includes(i)||e>.8*t.length?NT.numeric.call(this,n,e,t):""}};function EM(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var MT={formatters:NT};function xM(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:MT.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ho=Object.create(null),pm=Object.create(null);function Ql(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const o=t[i];n=n[o]||(n[o]=Object.create(null))}return n}function Cp(n,e,t){return typeof e=="string"?ac(Ql(n,e),t):ac(Ql(n,""),e)}class TM{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>kp(r.backgroundColor),this.hoverBorderColor=(i,r)=>kp(r.borderColor),this.hoverColor=(i,r)=>kp(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Cp(this,e,t)}get(e){return Ql(this,e)}describe(e,t){return Cp(pm,e,t)}override(e,t){return Cp(ho,e,t)}route(e,t,i,r){const o=Ql(this,e),l=Ql(this,i),c="_"+t;Object.defineProperties(o,{[c]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[c],p=l[r];return qe(h)?Object.assign({},p,h):Ye(h,p)},set(h){this[c]=h}}})}apply(e){e.forEach(t=>t(this))}}var _t=new TM({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[_M,vM,xM]);function SM(n){return!n||rt(n.size)||rt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function z0(n,e,t,i,r){let o=e[r];return o||(o=e[r]=n.measureText(r).width,t.push(r)),o>i&&(i=o),i}function Zs(n,e,t){const i=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function B0(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function $0(n,e,t,i){OT(n,e,t,i,null)}function OT(n,e,t,i,r){let o,l,c,h,p,g,v,w;const T=e.pointStyle,I=e.rotation,A=e.radius;let b=(I||0)*nM;if(T&&typeof T=="object"&&(o=T.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(b),n.drawImage(T,-T.width/2,-T.height/2,T.width,T.height),n.restore();return}if(!(isNaN(A)||A<=0)){switch(n.beginPath(),T){default:r?n.ellipse(t,i,r/2,A,0,0,cs):n.arc(t,i,A,0,cs),n.closePath();break;case"triangle":g=r?r/2:A,n.moveTo(t+Math.sin(b)*g,i-Math.cos(b)*A),b+=N0,n.lineTo(t+Math.sin(b)*g,i-Math.cos(b)*A),b+=N0,n.lineTo(t+Math.sin(b)*g,i-Math.cos(b)*A),n.closePath();break;case"rectRounded":p=A*.516,h=A-p,l=Math.cos(b+Xs)*h,v=Math.cos(b+Xs)*(r?r/2-p:h),c=Math.sin(b+Xs)*h,w=Math.sin(b+Xs)*(r?r/2-p:h),n.arc(t-v,i-c,p,b-Xt,b-ci),n.arc(t+w,i-l,p,b-ci,b),n.arc(t+v,i+c,p,b,b+ci),n.arc(t-w,i+l,p,b+ci,b+Xt),n.closePath();break;case"rect":if(!I){h=Math.SQRT1_2*A,g=r?r/2:h,n.rect(t-g,i-h,2*g,2*h);break}b+=Xs;case"rectRot":v=Math.cos(b)*(r?r/2:A),l=Math.cos(b)*A,c=Math.sin(b)*A,w=Math.sin(b)*(r?r/2:A),n.moveTo(t-v,i-c),n.lineTo(t+w,i-l),n.lineTo(t+v,i+c),n.lineTo(t-w,i+l),n.closePath();break;case"crossRot":b+=Xs;case"cross":v=Math.cos(b)*(r?r/2:A),l=Math.cos(b)*A,c=Math.sin(b)*A,w=Math.sin(b)*(r?r/2:A),n.moveTo(t-v,i-c),n.lineTo(t+v,i+c),n.moveTo(t+w,i-l),n.lineTo(t-w,i+l);break;case"star":v=Math.cos(b)*(r?r/2:A),l=Math.cos(b)*A,c=Math.sin(b)*A,w=Math.sin(b)*(r?r/2:A),n.moveTo(t-v,i-c),n.lineTo(t+v,i+c),n.moveTo(t+w,i-l),n.lineTo(t-w,i+l),b+=Xs,v=Math.cos(b)*(r?r/2:A),l=Math.cos(b)*A,c=Math.sin(b)*A,w=Math.sin(b)*(r?r/2:A),n.moveTo(t-v,i-c),n.lineTo(t+v,i+c),n.moveTo(t+w,i-l),n.lineTo(t-w,i+l);break;case"line":l=r?r/2:Math.cos(b)*A,c=Math.sin(b)*A,n.moveTo(t-l,i-c),n.lineTo(t+l,i+c);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(b)*(r?r/2:A),i+Math.sin(b)*A);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function LT(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Pg(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Dg(n){n.restore()}function IM(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),rt(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function bM(n,e,t,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),l=e-o.actualBoundingBoxLeft,c=e+o.actualBoundingBoxRight,h=t-o.actualBoundingBoxAscent,p=t+o.actualBoundingBoxDescent,g=r.strikethrough?(h+p)/2:p;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(l,g),n.lineTo(c,g),n.stroke()}}function kM(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function cc(n,e,t,i,r,o={}){const l=bt(e)?e:[e],c=o.strokeWidth>0&&o.strokeColor!=="";let h,p;for(n.save(),n.font=r.string,IM(n,o),h=0;h<l.length;++h)p=l[h],o.backdrop&&kM(n,o.backdrop),c&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),rt(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(p,t,i,o.maxWidth)),n.fillText(p,t,i,o.maxWidth),bM(n,t,i,p,o),i+=Number(r.lineHeight);n.restore()}function Xh(n,e){const{x:t,y:i,w:r,h:o,radius:l}=e;n.arc(t+l.topLeft,i+l.topLeft,l.topLeft,1.5*Xt,Xt,!0),n.lineTo(t,i+o-l.bottomLeft),n.arc(t+l.bottomLeft,i+o-l.bottomLeft,l.bottomLeft,Xt,ci,!0),n.lineTo(t+r-l.bottomRight,i+o),n.arc(t+r-l.bottomRight,i+o-l.bottomRight,l.bottomRight,ci,0,!0),n.lineTo(t+r,i+l.topRight),n.arc(t+r-l.topRight,i+l.topRight,l.topRight,0,-ci,!0),n.lineTo(t+l.topLeft,i)}const CM=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,AM=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function RM(n,e){const t=(""+n).match(CM);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const PM=n=>+n||0;function VT(n,e){const t={},i=qe(e),r=i?Object.keys(e):e,o=qe(n)?i?l=>Ye(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of r)t[l]=PM(o(l));return t}function FT(n){return VT(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ya(n){return VT(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Hn(n){const e=FT(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Yt(n,e){n=n||{},e=e||_t.font;let t=Ye(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=Ye(n.style,e.style);i&&!(""+i).match(AM)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Ye(n.family,e.family),lineHeight:RM(Ye(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:Ye(n.weight,e.weight),string:""};return r.string=SM(r),r}function th(n,e,t,i){let r,o,l;for(r=0,o=n.length;r<o;++r)if(l=n[r],l!==void 0&&l!==void 0)return l}function DM(n,e,t){const{min:i,max:r}=n,o=YN(e,(r-i)/2),l=(c,h)=>t&&c===0?0:c+h;return{min:l(i,-Math.abs(o)),max:l(r,o)}}function Ua(n,e){return Object.assign(Object.create(n),e)}function Ng(n,e=[""],t,i,r=()=>n[0]){const o=t||n;typeof i>"u"&&(i=BT("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:c=>Ng([c,...n],e,o,i)};return new Proxy(l,{deleteProperty(c,h){return delete c[h],delete c._keys,delete n[0][h],!0},get(c,h){return UT(c,h,()=>UM(h,e,n,c))},getOwnPropertyDescriptor(c,h){return Reflect.getOwnPropertyDescriptor(c._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,h){return W0(c).includes(h)},ownKeys(c){return W0(c)},set(c,h,p){const g=c._storage||(c._storage=r());return c[h]=g[h]=p,delete c._keys,!0}})}function Aa(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:jT(n,i),setContext:o=>Aa(n,o,t,i),override:o=>Aa(n.override(o),e,t,i)};return new Proxy(r,{deleteProperty(o,l){return delete o[l],delete n[l],!0},get(o,l,c){return UT(o,l,()=>MM(o,l,c))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(o,l,c){return n[l]=c,delete o[l],!0}})}function jT(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:_s(t)?t:()=>t,isIndexable:_s(i)?i:()=>i}}const NM=(n,e)=>n?n+Cg(e):e,Mg=(n,e)=>qe(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function UT(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function MM(n,e,t){const{_proxy:i,_context:r,_subProxy:o,_descriptors:l}=n;let c=i[e];return _s(c)&&l.isScriptable(e)&&(c=OM(e,c,n,t)),bt(c)&&c.length&&(c=LM(e,c,n,l.isIndexable)),Mg(e,c)&&(c=Aa(c,r,o&&o[e],l)),c}function OM(n,e,t,i){const{_proxy:r,_context:o,_subProxy:l,_stack:c}=t;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let h=e(o,l||i);return c.delete(n),Mg(n,h)&&(h=Og(r._scopes,r,n,h)),h}function LM(n,e,t,i){const{_proxy:r,_context:o,_subProxy:l,_descriptors:c}=t;if(typeof o.index<"u"&&i(n))return e[o.index%e.length];if(qe(e[0])){const h=e,p=r._scopes.filter(g=>g!==h);e=[];for(const g of h){const v=Og(p,r,n,g);e.push(Aa(v,o,l&&l[n],c))}}return e}function zT(n,e,t){return _s(n)?n(e,t):n}const VM=(n,e)=>n===!0?e:typeof n=="string"?Ca(e,n):void 0;function FM(n,e,t,i,r){for(const o of e){const l=VM(t,o);if(l){n.add(l);const c=zT(l._fallback,t,r);if(typeof c<"u"&&c!==t&&c!==i)return c}else if(l===!1&&typeof i<"u"&&t!==i)return null}return!1}function Og(n,e,t,i){const r=e._rootScopes,o=zT(e._fallback,t,i),l=[...n,...r],c=new Set;c.add(i);let h=H0(c,l,t,o||t,i);return h===null||typeof o<"u"&&o!==t&&(h=H0(c,l,o,h,i),h===null)?!1:Ng(Array.from(c),[""],r,o,()=>jM(e,t,i))}function H0(n,e,t,i,r){for(;t;)t=FM(n,e,t,i,r);return t}function jM(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return bt(r)&&qe(t)?t:r||{}}function UM(n,e,t,i){let r;for(const o of e)if(r=BT(NM(o,n),t),typeof r<"u")return Mg(n,r)?Og(t,i,n,r):r}function BT(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function W0(n){let e=n._keys;return e||(e=n._keys=zM(n._scopes)),e}function zM(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function Lg(){return typeof window<"u"&&typeof document<"u"}function Vg(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Jh(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const Cd=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function BM(n,e){return Cd(n).getPropertyValue(e)}const $M=["top","right","bottom","left"];function ao(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const o=$M[r];i[o]=parseFloat(n[e+"-"+o+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const HM=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function WM(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:o}=i;let l=!1,c,h;if(HM(r,o,n.target))c=r,h=o;else{const p=e.getBoundingClientRect();c=i.clientX-p.left,h=i.clientY-p.top,l=!0}return{x:c,y:h,box:l}}function no(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=Cd(t),o=r.boxSizing==="border-box",l=ao(r,"padding"),c=ao(r,"border","width"),{x:h,y:p,box:g}=WM(n,t),v=l.left+(g&&c.left),w=l.top+(g&&c.top);let{width:T,height:I}=e;return o&&(T-=l.width+c.width,I-=l.height+c.height),{x:Math.round((h-v)/T*t.width/i),y:Math.round((p-w)/I*t.height/i)}}function qM(n,e,t){let i,r;if(e===void 0||t===void 0){const o=n&&Vg(n);if(!o)e=n.clientWidth,t=n.clientHeight;else{const l=o.getBoundingClientRect(),c=Cd(o),h=ao(c,"border","width"),p=ao(c,"padding");e=l.width-p.width-h.width,t=l.height-p.height-h.height,i=Jh(c.maxWidth,o,"clientWidth"),r=Jh(c.maxHeight,o,"clientHeight")}}return{width:e,height:t,maxWidth:i||Qh,maxHeight:r||Qh}}const nh=n=>Math.round(n*10)/10;function KM(n,e,t,i){const r=Cd(n),o=ao(r,"margin"),l=Jh(r.maxWidth,n,"clientWidth")||Qh,c=Jh(r.maxHeight,n,"clientHeight")||Qh,h=qM(n,e,t);let{width:p,height:g}=h;if(r.boxSizing==="content-box"){const w=ao(r,"border","width"),T=ao(r,"padding");p-=T.width+w.width,g-=T.height+w.height}return p=Math.max(0,p-o.width),g=Math.max(0,i?p/i:g-o.height),p=nh(Math.min(p,l,h.maxWidth)),g=nh(Math.min(g,c,h.maxHeight)),p&&!g&&(g=nh(p/2)),(e!==void 0||t!==void 0)&&i&&h.height&&g>h.height&&(g=h.height,p=nh(Math.floor(g*i))),{width:p,height:g}}function q0(n,e,t){const i=e||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==r||l.width!==o?(n.currentDevicePixelRatio=i,l.height=r,l.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const GM=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Lg()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function K0(n,e){const t=BM(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const QM=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},YM=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function _a(n,e,t){return n?QM(e,t):YM()}function $T(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function HT(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class XM{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const o=t.listeners[r],l=t.duration;o.forEach(c=>c({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(i-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=AT.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let l=o.length-1,c=!1,h;for(;l>=0;--l)h=o[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(e),c=!0):(o[l]=o[o.length-1],o.pop());c&&(r.draw(),this._notify(r,i,e,"progress")),o.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=o.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var cr=new XM;const G0="transparent",JM={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=j0(n||G0),r=i.valid&&j0(e||G0);return r&&r.valid?r.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class ZM{constructor(e,t,i,r){const o=t[i];r=th([e.to,r,o,e.from]);const l=th([e.from,o,r]);this._active=!0,this._fn=e.fn||JM[e.type||typeof l],this._easing=Gl[e.easing]||Gl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,l=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=th([e.to,t,r,e.from]),this._from=th([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,o=this._from,l=this._loop,c=this._to;let h;if(this._active=o!==c&&(l||t<i),!this._active){this._target[r]=c,this._notify(!0);return}if(t<0){this._target[r]=o;return}h=t/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[r]=this._fn(o,c,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}class WT{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!qe(e))return;const t=Object.keys(_t.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const o=e[r];if(!qe(o))return;const l={};for(const c of t)l[c]=o[c];(bt(o.properties)&&o.properties||[r]).forEach(c=>{(c===r||!i.has(c))&&i.set(c,l)})})}_animateOptions(e,t){const i=t.options,r=tO(e,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&eO(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,t){const i=this._properties,r=[],o=e.$animations||(e.$animations={}),l=Object.keys(t),c=Date.now();let h;for(h=l.length-1;h>=0;--h){const p=l[h];if(p.charAt(0)==="$")continue;if(p==="options"){r.push(...this._animateOptions(e,t));continue}const g=t[p];let v=o[p];const w=i.get(p);if(v)if(w&&v.active()){v.update(w,g,c);continue}else v.cancel();if(!w||!w.duration){e[p]=g;continue}o[p]=v=new ZM(w,e,p,g),r.push(v)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return cr.add(this._chart,i),!0}}function eO(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function tO(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Q0(n,e){const t=n&&n.options||{},i=t.reverse,r=t.min===void 0?e:0,o=t.max===void 0?e:0;return{start:i?o:r,end:i?r:o}}function nO(n,e,t){if(t===!1)return!1;const i=Q0(n,t),r=Q0(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function iO(n){let e,t,i,r;return qe(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:n===!1}}function qT(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,o;for(r=0,o=i.length;r<o;++r)t.push(i[r].index);return t}function Y0(n,e,t,i={}){const r=n.keys,o=i.mode==="single";let l,c,h,p;if(e===null)return;let g=!1;for(l=0,c=r.length;l<c;++l){if(h=+r[l],h===t){if(g=!0,i.all)continue;break}p=n.values[h],$n(p)&&(o||e===0||us(e)===us(p))&&(e+=p)}return!g&&!i.all?0:e}function rO(n,e){const{iScale:t,vScale:i}=e,r=t.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",l=Object.keys(n),c=new Array(l.length);let h,p,g;for(h=0,p=l.length;h<p;++h)g=l[h],c[h]={[r]:g,[o]:n[g]};return c}function Ap(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function sO(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function oO(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function aO(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function X0(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(t&&o>0||!t&&o<0)return r.index}return null}function J0(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:o,vScale:l,index:c}=i,h=o.axis,p=l.axis,g=sO(o,l,i),v=e.length;let w;for(let T=0;T<v;++T){const I=e[T],{[h]:A,[p]:b}=I,D=I._stacks||(I._stacks={});w=D[p]=aO(r,g,A),w[c]=b,w._top=X0(w,l,!0,i.type),w._bottom=X0(w,l,!1,i.type);const V=w._visualValues||(w._visualValues={});V[c]=b}}function Rp(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function lO(n,e){return Ua(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function cO(n,e,t){return Ua(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Rl(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const o=r._stacks;if(!o||o[i]===void 0||o[i][t]===void 0)return;delete o[i][t],o[i]._visualValues!==void 0&&o[i]._visualValues[t]!==void 0&&delete o[i]._visualValues[t]}}}const Pp=n=>n==="reset"||n==="none",Z0=(n,e)=>e?n:Object.assign({},n),uO=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:qT(t,!0),values:null};class Yl{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ap(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Rl(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),r=(v,w,T,I)=>v==="x"?w:v==="r"?I:T,o=t.xAxisID=Ye(i.xAxisID,Rp(e,"x")),l=t.yAxisID=Ye(i.yAxisID,Rp(e,"y")),c=t.rAxisID=Ye(i.rAxisID,Rp(e,"r")),h=t.indexAxis,p=t.iAxisID=r(h,o,l,c),g=t.vAxisID=r(h,l,o,c);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(c),t.iScale=this.getScaleForId(p),t.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&L0(this._data,this),e._stacked&&Rl(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(qe(t)){const r=this._cachedMeta;this._data=rO(t,r)}else if(i!==t){if(i){L0(i,this);const r=this._cachedMeta;Rl(r),r._parsed=[]}t&&Object.isExtensible(t)&&fM(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=t._stacked;t._stacked=Ap(t.vScale,t),t.stack!==i.stack&&(r=!0,Rl(t),t.stack=i.stack),this._resyncElements(e),(r||o!==t._stacked)&&(J0(this,t._parsed),t._stacked=Ap(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:l}=i,c=o.axis;let h=e===0&&t===r.length?!0:i._sorted,p=e>0&&i._parsed[e-1],g,v,w;if(this._parsing===!1)i._parsed=r,i._sorted=!0,w=r;else{bt(r[e])?w=this.parseArrayData(i,r,e,t):qe(r[e])?w=this.parseObjectData(i,r,e,t):w=this.parsePrimitiveData(i,r,e,t);const T=()=>v[c]===null||p&&v[c]<p[c];for(g=0;g<t;++g)i._parsed[g+e]=v=w[g],h&&(T()&&(h=!1),p=v);i._sorted=h}l&&J0(this,w)}parsePrimitiveData(e,t,i,r){const{iScale:o,vScale:l}=e,c=o.axis,h=l.axis,p=o.getLabels(),g=o===l,v=new Array(r);let w,T,I;for(w=0,T=r;w<T;++w)I=w+i,v[w]={[c]:g||o.parse(p[I],I),[h]:l.parse(t[I],I)};return v}parseArrayData(e,t,i,r){const{xScale:o,yScale:l}=e,c=new Array(r);let h,p,g,v;for(h=0,p=r;h<p;++h)g=h+i,v=t[g],c[h]={x:o.parse(v[0],g),y:l.parse(v[1],g)};return c}parseObjectData(e,t,i,r){const{xScale:o,yScale:l}=e,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,p=new Array(r);let g,v,w,T;for(g=0,v=r;g<v;++g)w=g+i,T=t[w],p[g]={x:o.parse(Ca(T,c),w),y:l.parse(Ca(T,h),w)};return p}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const r=this.chart,o=this._cachedMeta,l=t[e.axis],c={keys:qT(r,!0),values:t._stacks[e.axis]._visualValues};return Y0(c,l,o.index,{mode:i})}updateRangeFromParsed(e,t,i,r){const o=i[t.axis];let l=o===null?NaN:o;const c=r&&i._stacks[t.axis];r&&c&&(r.values=c,l=Y0(r,o,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&e===i.iScale,l=r.length,c=this._getOtherScale(e),h=uO(t,i,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:v}=oO(c);let w,T;function I(){T=r[w];const A=T[c.axis];return!$n(T[e.axis])||g>A||v<A}for(w=0;w<l&&!(!I()&&(this.updateRangeFromParsed(p,e,T,h),o));++w);if(o){for(w=l-1;w>=0;--w)if(!I()){this.updateRangeFromParsed(p,e,T,h);break}}return p}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let r,o,l;for(r=0,o=t.length;r<o;++r)l=t[r][e.axis],$n(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,r=t.vScale,o=this.getParsed(e);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=iO(Ye(this.options.clip,nO(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,r=i.data||[],o=t.chartArea,l=[],c=this._drawStart||0,h=this._drawCount||r.length-c,p=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(e,o,c,h),g=c;g<c+h;++g){const v=r[g];v.hidden||(v.active&&p?l.push(v):v.draw(e,o))}for(g=0;g<l.length;++g)l[g].draw(e,o)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const r=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];o=l.$context||(l.$context=cO(this.getContext(),e,l)),o.parsed=this.getParsed(e),o.raw=r.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=lO(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=i,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const r=t==="active",o=this._cachedDataOpts,l=e+"-"+t,c=o[l],h=this.enableOptionSharing&&lc(i);if(c)return Z0(c,h);const p=this.chart.config,g=p.datasetElementScopeKeys(this._type,e),v=r?[`${e}Hover`,"hover",e,""]:[e,""],w=p.getOptionScopes(this.getDataset(),g),T=Object.keys(_t.elements[e]),I=()=>this.getContext(i,r,t),A=p.resolveNamedOptions(w,T,I,v);return A.$shared&&(A.$shared=h,o[l]=Object.freeze(Z0(A,h))),A}_resolveAnimations(e,t,i){const r=this.chart,o=this._cachedDataOpts,l=`animation-${t}`,c=o[l];if(c)return c;let h;if(r.options.animation!==!1){const g=this.chart.config,v=g.datasetAnimationScopeKeys(this._type,t),w=g.getOptionScopes(this.getDataset(),v);h=g.createResolver(w,this.getContext(e,i,t))}const p=new WT(r,h&&h.animations);return h&&h._cacheable&&(o[l]=Object.freeze(p)),p}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Pp(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),r=this._sharedOptions,o=this.getSharedOptions(i),l=this.includeOptions(t,o)||o!==r;return this.updateSharedOptions(o,t,i),{sharedOptions:o,includeOptions:l}}updateElement(e,t,i,r){Pp(r)?Object.assign(e,i):this._resolveAnimations(t,r).update(e,i)}updateSharedOptions(e,t,i){e&&!Pp(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,r){e.active=r;const o=this.getStyle(t,r);this._resolveAnimations(t,i,r).update(e,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[c,h,p]of this._syncList)this[c](h,p);this._syncList=[];const r=i.length,o=t.length,l=Math.min(o,r);l&&this.parse(0,l),o>r?this._insertElements(r,o-r,e):o<r&&this._removeElements(o,r-o)}_insertElements(e,t,i=!0){const r=this._cachedMeta,o=r.data,l=e+t;let c;const h=p=>{for(p.length+=t,c=p.length-1;c>=l;c--)p[c]=p[c-t]};for(h(o),c=e;c<l;++c)o[c]=new this.dataElementType;this._parsing&&h(r._parsed),this.parse(e,t),i&&this.updateElements(o,e,t,"reset")}updateElements(e,t,i,r){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,t);i._stacked&&Rl(i,r)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,r]=e;this[t](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}$e(Yl,"defaults",{}),$e(Yl,"datasetElementType",null),$e(Yl,"dataElementType",null);function hO(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let r=0,o=t.length;r<o;r++)i=i.concat(t[r].controller.getAllParsedValues(n));n._cache.$bar=CT(i.sort((r,o)=>r-o))}return n._cache.$bar}function dO(n){const e=n.iScale,t=hO(e,n.type);let i=e._length,r,o,l,c;const h=()=>{l===32767||l===-32768||(lc(c)&&(i=Math.min(i,Math.abs(l-c)||i)),c=l)};for(r=0,o=t.length;r<o;++r)l=e.getPixelForValue(t[r]),h();for(c=void 0,r=0,o=e.ticks.length;r<o;++r)l=e.getPixelForTick(r),h();return i}function fO(n,e,t,i){const r=t.barThickness;let o,l;return rt(r)?(o=e.min*t.categoryPercentage,l=t.barPercentage):(o=r*i,l=1),{chunk:o/i,ratio:l,start:e.pixels[n]-o/2}}function pO(n,e,t,i){const r=e.pixels,o=r[n];let l=n>0?r[n-1]:null,c=n<r.length-1?r[n+1]:null;const h=t.categoryPercentage;l===null&&(l=o-(c===null?e.end-e.start:c-o)),c===null&&(c=o+o-l);const p=o-(o-Math.min(l,c))/2*h;return{chunk:Math.abs(c-l)/2*h/i,ratio:t.barPercentage,start:p}}function mO(n,e,t,i){const r=t.parse(n[0],i),o=t.parse(n[1],i),l=Math.min(r,o),c=Math.max(r,o);let h=l,p=c;Math.abs(l)>Math.abs(c)&&(h=c,p=l),e[t.axis]=p,e._custom={barStart:h,barEnd:p,start:r,end:o,min:l,max:c}}function KT(n,e,t,i){return bt(n)?mO(n,e,t,i):e[t.axis]=t.parse(n,i),e}function ew(n,e,t,i){const r=n.iScale,o=n.vScale,l=r.getLabels(),c=r===o,h=[];let p,g,v,w;for(p=t,g=t+i;p<g;++p)w=e[p],v={},v[r.axis]=c||r.parse(l[p],p),h.push(KT(w,v,o,p));return h}function Dp(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function gO(n,e,t){return n!==0?us(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function yO(n){let e,t,i,r,o;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(r="end",o="start"):(r="start",o="end"),{start:t,end:i,reverse:e,top:r,bottom:o}}function _O(n,e,t,i){let r=e.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:c,reverse:h,top:p,bottom:g}=yO(n);r==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?r=p:(t._bottom||0)===i?r=g:(o[tw(g,l,c,h)]=!0,r=p)),o[tw(r,l,c,h)]=!0,n.borderSkipped=o}function tw(n,e,t,i){return i?(n=vO(n,e,t),n=nw(n,t,e)):n=nw(n,e,t),n}function vO(n,e,t){return n===e?t:n===t?e:n}function nw(n,e,t){return n==="start"?e:n==="end"?t:n}function wO(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class Th extends Yl{parsePrimitiveData(e,t,i,r){return ew(e,t,i,r)}parseArrayData(e,t,i,r){return ew(e,t,i,r)}parseObjectData(e,t,i,r){const{iScale:o,vScale:l}=e,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,p=o.axis==="x"?c:h,g=l.axis==="x"?c:h,v=[];let w,T,I,A;for(w=i,T=i+r;w<T;++w)A=t[w],I={},I[o.axis]=o.parse(Ca(A,p),w),v.push(KT(Ca(A,g),I,l,w));return v}updateRangeFromParsed(e,t,i,r){super.updateRangeFromParsed(e,t,i,r);const o=i._custom;o&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:r}=t,o=this.getParsed(e),l=o._custom,c=Dp(l)?"["+l.start+", "+l.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,r){const o=r==="reset",{index:l,_cachedMeta:{vScale:c}}=this,h=c.getBasePixel(),p=c.isHorizontal(),g=this._getRuler(),{sharedOptions:v,includeOptions:w}=this._getSharedOptions(t,r);for(let T=t;T<t+i;T++){const I=this.getParsed(T),A=o||rt(I[c.axis])?{base:h,head:h}:this._calculateBarValuePixels(T),b=this._calculateBarIndexPixels(T,g),D=(I._stacks||{})[c.axis],V={horizontal:p,base:A.base,enableBorderRadius:!D||Dp(I._custom)||l===D._top||l===D._bottom,x:p?A.head:b.center,y:p?b.center:A.head,height:p?b.size:Math.abs(A.size),width:p?Math.abs(A.size):b.size};w&&(V.options=v||this.resolveDataElementOptions(T,e[T].active?"active":r));const $=V.options||e[T].options;_O(V,$,D,l),wO(V,$,g.ratio),this.updateElement(e[T],T,V,r)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),o=i.options.stacked,l=[],c=this._cachedMeta.controller.getParsed(t),h=c&&c[i.axis],p=g=>{const v=g._parsed.find(T=>T[i.axis]===h),w=v&&v[g.vScale.axis];if(rt(w)||isNaN(w))return!0};for(const g of r)if(!(t!==void 0&&p(g))&&((o===!1||l.indexOf(g.stack)===-1||o===void 0&&g.stack===void 0)&&l.push(g.stack),g.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,i){const r=this._getStacks(e,i),o=t!==void 0?r.indexOf(t):-1;return o===-1?r.length-1:o}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,r=[];let o,l;for(o=0,l=t.data.length;o<l;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const c=e.barThickness;return{min:c||dO(t),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:r},options:{base:o,minBarLength:l}}=this,c=o||0,h=this.getParsed(e),p=h._custom,g=Dp(p);let v=h[t.axis],w=0,T=i?this.applyStack(t,h,i):v,I,A;T!==v&&(w=T-v,T=v),g&&(v=p.barStart,T=p.barEnd-p.barStart,v!==0&&us(v)!==us(p.barEnd)&&(w=0),w+=v);const b=!rt(o)&&!g?o:w;let D=t.getPixelForValue(b);if(this.chart.getDataVisibility(e)?I=t.getPixelForValue(w+T):I=D,A=I-D,Math.abs(A)<l){A=gO(A,t,c)*l,v===c&&(D-=A/2);const V=t.getPixelForDecimal(0),$=t.getPixelForDecimal(1),G=Math.min(V,$),Y=Math.max(V,$);D=Math.max(Math.min(D,Y),G),I=D+A,i&&!g&&(h._stacks[t.axis]._visualValues[r]=t.getValueForPixel(I)-t.getValueForPixel(D))}if(D===t.getPixelForValue(c)){const V=us(A)*t.getLineWidthForValue(c)/2;D+=V,A-=V}return{size:A,base:D,head:I,center:I+A/2}}_calculateBarIndexPixels(e,t){const i=t.scale,r=this.options,o=r.skipNull,l=Ye(r.maxBarThickness,1/0);let c,h;if(t.grouped){const p=o?this._getStackCount(e):t.stackCount,g=r.barThickness==="flex"?pO(e,t,r,p):fO(e,t,r,p),v=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);c=g.start+g.chunk*v+g.chunk/2,h=Math.min(l,g.chunk*g.ratio)}else c=i.getPixelForValue(this.getParsed(e)[i.axis],e),h=Math.min(l,t.min*t.ratio);return{base:c-h/2,head:c+h/2,center:c,size:h}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[t.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}$e(Th,"id","bar"),$e(Th,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),$e(Th,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function eo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Fg{constructor(e){$e(this,"options");this.options=e||{}}static override(e){Object.assign(Fg.prototype,e)}init(){}formats(){return eo()}parse(){return eo()}format(){return eo()}add(){return eo()}diff(){return eo()}startOf(){return eo()}endOf(){return eo()}}var EO={_date:Fg};function xO(n,e,t,i){const{controller:r,data:o,_sorted:l}=n,c=r._cachedMeta.iScale;if(c&&e===c.axis&&e!=="r"&&l&&o.length){const h=c._reversePixels?hM:fm;if(i){if(r._sharedOptions){const p=o[0],g=typeof p.getRange=="function"&&p.getRange(e);if(g){const v=h(o,e,t-g),w=h(o,e,t+g);return{lo:v.lo,hi:w.hi}}}}else return h(o,e,t)}return{lo:0,hi:o.length-1}}function kc(n,e,t,i,r){const o=n.getSortedVisibleDatasetMetas(),l=t[e];for(let c=0,h=o.length;c<h;++c){const{index:p,data:g}=o[c],{lo:v,hi:w}=xO(o[c],e,l,r);for(let T=v;T<=w;++T){const I=g[T];I.skip||i(I,p,T)}}}function TO(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,r){const o=e?Math.abs(i.x-r.x):0,l=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function Np(n,e,t,i,r){const o=[];return!r&&!n.isPointInArea(e)||kc(n,t,e,function(c,h,p){!r&&!LT(c,n.chartArea,0)||c.inRange(e.x,e.y,i)&&o.push({element:c,datasetIndex:h,index:p})},!0),o}function SO(n,e,t,i){let r=[];function o(l,c,h){const{startAngle:p,endAngle:g}=l.getProps(["startAngle","endAngle"],i),{angle:v}=aM(l,{x:e.x,y:e.y});cM(v,p,g)&&r.push({element:l,datasetIndex:c,index:h})}return kc(n,t,e,o),r}function IO(n,e,t,i,r,o){let l=[];const c=TO(t);let h=Number.POSITIVE_INFINITY;function p(g,v,w){const T=g.inRange(e.x,e.y,r);if(i&&!T)return;const I=g.getCenterPoint(r);if(!(!!o||n.isPointInArea(I))&&!T)return;const b=c(e,I);b<h?(l=[{element:g,datasetIndex:v,index:w}],h=b):b===h&&l.push({element:g,datasetIndex:v,index:w})}return kc(n,t,e,p),l}function Mp(n,e,t,i,r,o){return!o&&!n.isPointInArea(e)?[]:t==="r"&&!i?SO(n,e,t,r):IO(n,e,t,i,r,o)}function iw(n,e,t,i,r){const o=[],l=t==="x"?"inXRange":"inYRange";let c=!1;return kc(n,t,e,(h,p,g)=>{h[l]&&h[l](e[t],r)&&(o.push({element:h,datasetIndex:p,index:g}),c=c||h.inRange(e.x,e.y,r))}),i&&!c?[]:o}var bO={evaluateInteractionItems:kc,modes:{index(n,e,t,i){const r=no(e,n),o=t.axis||"x",l=t.includeInvisible||!1,c=t.intersect?Np(n,r,o,i,l):Mp(n,r,o,!1,i,l),h=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(p=>{const g=c[0].index,v=p.data[g];v&&!v.skip&&h.push({element:v,datasetIndex:p.index,index:g})}),h):[]},dataset(n,e,t,i){const r=no(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;let c=t.intersect?Np(n,r,o,i,l):Mp(n,r,o,!1,i,l);if(c.length>0){const h=c[0].datasetIndex,p=n.getDatasetMeta(h).data;c=[];for(let g=0;g<p.length;++g)c.push({element:p[g],datasetIndex:h,index:g})}return c},point(n,e,t,i){const r=no(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;return Np(n,r,o,i,l)},nearest(n,e,t,i){const r=no(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;return Mp(n,r,o,t.intersect,i,l)},x(n,e,t,i){const r=no(e,n);return iw(n,r,"x",t.intersect,i)},y(n,e,t,i){const r=no(e,n);return iw(n,r,"y",t.intersect,i)}}};const GT=["left","top","right","bottom"];function Pl(n,e){return n.filter(t=>t.pos===e)}function rw(n,e){return n.filter(t=>GT.indexOf(t.pos)===-1&&t.box.axis===e)}function Dl(n,e){return n.sort((t,i)=>{const r=e?i:t,o=e?t:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function kO(n){const e=[];let t,i,r,o,l,c;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],{position:o,options:{stack:l,stackWeight:c=1}}=r,e.push({index:t,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&o+l,stackWeight:c});return e}function CO(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:o}=t;if(!i||!GT.includes(r))continue;const l=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return e}function AO(n,e){const t=CO(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let o,l,c;for(o=0,l=n.length;o<l;++o){c=n[o];const{fullSize:h}=c.box,p=t[c.stack],g=p&&c.stackWeight/p.weight;c.horizontal?(c.width=g?g*i:h&&e.availableWidth,c.height=r):(c.width=i,c.height=g?g*r:h&&e.availableHeight)}return t}function RO(n){const e=kO(n),t=Dl(e.filter(p=>p.box.fullSize),!0),i=Dl(Pl(e,"left"),!0),r=Dl(Pl(e,"right")),o=Dl(Pl(e,"top"),!0),l=Dl(Pl(e,"bottom")),c=rw(e,"x"),h=rw(e,"y");return{fullSize:t,leftAndTop:i.concat(o),rightAndBottom:r.concat(h).concat(l).concat(c),chartArea:Pl(e,"chartArea"),vertical:i.concat(r).concat(h),horizontal:o.concat(l).concat(c)}}function sw(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function QT(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function PO(n,e,t,i){const{pos:r,box:o}=t,l=n.maxPadding;if(!qe(r)){t.size&&(n[r]-=t.size);const v=i[t.stack]||{size:0,count:1};v.size=Math.max(v.size,t.horizontal?o.height:o.width),t.size=v.size/v.count,n[r]+=t.size}o.getPadding&&QT(l,o.getPadding());const c=Math.max(0,e.outerWidth-sw(l,n,"left","right")),h=Math.max(0,e.outerHeight-sw(l,n,"top","bottom")),p=c!==n.w,g=h!==n.h;return n.w=c,n.h=h,t.horizontal?{same:p,other:g}:{same:g,other:p}}function DO(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function NO(n,e){const t=e.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{o[l]=Math.max(e[l],t[l])}),o}return i(n?["left","right"]:["top","bottom"])}function Ul(n,e,t,i){const r=[];let o,l,c,h,p,g;for(o=0,l=n.length,p=0;o<l;++o){c=n[o],h=c.box,h.update(c.width||e.w,c.height||e.h,NO(c.horizontal,e));const{same:v,other:w}=PO(e,t,c,i);p|=v&&r.length,g=g||w,h.fullSize||r.push(c)}return p&&Ul(r,e,t,i)||g}function ih(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function ow(n,e,t,i){const r=t.padding;let{x:o,y:l}=e;for(const c of n){const h=c.box,p=i[c.stack]||{count:1,placed:0,weight:1},g=c.stackWeight/p.weight||1;if(c.horizontal){const v=e.w*g,w=p.size||h.height;lc(p.start)&&(l=p.start),h.fullSize?ih(h,r.left,l,t.outerWidth-r.right-r.left,w):ih(h,e.left+p.placed,l,v,w),p.start=l,p.placed+=v,l=h.bottom}else{const v=e.h*g,w=p.size||h.width;lc(p.start)&&(o=p.start),h.fullSize?ih(h,o,r.top,w,t.outerHeight-r.bottom-r.top):ih(h,o,e.top+p.placed,w,v),p.start=o,p.placed+=v,o=h.right}}e.x=o,e.y=l}var Bn={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=Hn(n.options.layout.padding),o=Math.max(e-r.width,0),l=Math.max(t-r.height,0),c=RO(n.boxes),h=c.vertical,p=c.horizontal;Qe(n.boxes,A=>{typeof A.beforeLayout=="function"&&A.beforeLayout()});const g=h.reduce((A,b)=>b.box.options&&b.box.options.display===!1?A:A+1,0)||1,v=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/g,hBoxMaxHeight:l/2}),w=Object.assign({},r);QT(w,Hn(i));const T=Object.assign({maxPadding:w,w:o,h:l,x:r.left,y:r.top},r),I=AO(h.concat(p),v);Ul(c.fullSize,T,v,I),Ul(h,T,v,I),Ul(p,T,v,I)&&Ul(h,T,v,I),DO(T),ow(c.leftAndTop,T,v,I),T.x+=T.w,T.y+=T.h,ow(c.rightAndBottom,T,v,I),n.chartArea={left:T.left,top:T.top,right:T.left+T.w,bottom:T.top+T.h,height:T.h,width:T.w},Qe(c.chartArea,A=>{const b=A.box;Object.assign(b,n.chartArea),b.update(T.w,T.h,{left:0,top:0,right:0,bottom:0})})}};class YT{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class MO extends YT{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Sh="$chartjs",OO={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},aw=n=>n===null||n==="";function LO(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Sh]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",aw(r)){const o=K0(n,"width");o!==void 0&&(n.width=o)}if(aw(i))if(n.style.height==="")n.height=n.width/(e||2);else{const o=K0(n,"height");o!==void 0&&(n.height=o)}return n}const XT=GM?{passive:!0}:!1;function VO(n,e,t){n&&n.addEventListener(e,t,XT)}function FO(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,XT)}function jO(n,e){const t=OO[n.type]||n.type,{x:i,y:r}=no(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Zh(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function UO(n,e,t){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const c of o)l=l||Zh(c.addedNodes,i),l=l&&!Zh(c.removedNodes,i);l&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function zO(n,e,t){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const c of o)l=l||Zh(c.removedNodes,i),l=l&&!Zh(c.addedNodes,i);l&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const uc=new Map;let lw=0;function JT(){const n=window.devicePixelRatio;n!==lw&&(lw=n,uc.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function BO(n,e){uc.size||window.addEventListener("resize",JT),uc.set(n,e)}function $O(n){uc.delete(n),uc.size||window.removeEventListener("resize",JT)}function HO(n,e,t){const i=n.canvas,r=i&&Vg(i);if(!r)return;const o=RT((c,h)=>{const p=r.clientWidth;t(c,h),p<r.clientWidth&&t()},window),l=new ResizeObserver(c=>{const h=c[0],p=h.contentRect.width,g=h.contentRect.height;p===0&&g===0||o(p,g)});return l.observe(r),BO(n,o),l}function Op(n,e,t){t&&t.disconnect(),e==="resize"&&$O(n)}function WO(n,e,t){const i=n.canvas,r=RT(o=>{n.ctx!==null&&t(jO(o,n))},n);return VO(i,e,r),r}class qO extends YT{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(LO(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[Sh])return!1;const i=t[Sh].initial;["height","width"].forEach(o=>{const l=i[o];rt(l)?t.removeAttribute(o):t.setAttribute(o,l)});const r=i.style||{};return Object.keys(r).forEach(o=>{t.style[o]=r[o]}),t.width=t.width,delete t[Sh],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),l={attach:UO,detach:zO,resize:HO}[t]||WO;r[t]=l(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:Op,detach:Op,resize:Op}[t]||FO)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return KM(e,t,i,r)}isAttached(e){const t=e&&Vg(e);return!!(t&&t.isConnected)}}function KO(n){return!Lg()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?MO:qO}class vs{constructor(){$e(this,"x");$e(this,"y");$e(this,"active",!1);$e(this,"options");$e(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Yh(this.x)&&Yh(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}$e(vs,"defaults",{}),$e(vs,"defaultRoutes");function GO(n,e){const t=n.options.ticks,i=QO(n),r=Math.min(t.maxTicksLimit||i,i),o=t.major.enabled?XO(e):[],l=o.length,c=o[0],h=o[l-1],p=[];if(l>r)return JO(e,p,o,l/r),p;const g=YO(o,e,r);if(l>0){let v,w;const T=l>1?Math.round((h-c)/(l-1)):null;for(rh(e,p,g,rt(T)?0:c-T,c),v=0,w=l-1;v<w;v++)rh(e,p,g,o[v],o[v+1]);return rh(e,p,g,h,rt(T)?e.length:h+T),p}return rh(e,p,g),p}function QO(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(i,r))}function YO(n,e,t){const i=ZO(n),r=e.length/t;if(!i)return Math.max(r,1);const o=iM(i);for(let l=0,c=o.length-1;l<c;l++){const h=o[l];if(h>r)return h}return Math.max(r,1)}function XO(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function JO(n,e,t,i){let r=0,o=t[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===o&&(e.push(n[l]),r++,o=t[r*i])}function rh(n,e,t,i,r){const o=Ye(i,0),l=Math.min(Ye(r,n.length),n.length);let c=0,h,p,g;for(t=Math.ceil(t),r&&(h=r-i,t=h/Math.floor(h/t)),g=o;g<0;)c++,g=Math.round(o+c*t);for(p=Math.max(o,0);p<l;p++)p===g&&(e.push(n[p]),c++,g=Math.round(o+c*t))}function ZO(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const e2=n=>n==="left"?"right":n==="right"?"left":n,cw=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,uw=(n,e)=>Math.min(e||n,n);function hw(n,e){const t=[],i=n.length/e,r=n.length;let o=0;for(;o<r;o+=i)t.push(n[Math.floor(o)]);return t}function t2(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),o=n._startPixel,l=n._endPixel,c=1e-6;let h=n.getPixelForTick(r),p;if(!(t&&(i===1?p=Math.max(h-o,l-h):e===0?p=(n.getPixelForTick(1)-h)/2:p=(h-n.getPixelForTick(r-1))/2,h+=r<e?p:-p,h<o-c||h>l+c)))return h}function n2(n,e){Qe(n,t=>{const i=t.gc,r=i.length/2;let o;if(r>e){for(o=0;o<r;++o)delete t.data[i[o]];i.splice(0,r)}})}function Nl(n){return n.drawTicks?n.tickLength:0}function dw(n,e){if(!n.display)return 0;const t=Yt(n.font,e),i=Hn(n.padding);return(bt(n.text)?n.text.length:1)*t.lineHeight+i.height}function i2(n,e){return Ua(n,{scale:e,type:"scale"})}function r2(n,e,t){return Ua(n,{tick:t,index:e,type:"tick"})}function s2(n,e,t){let i=Rg(n);return(t&&e!=="right"||!t&&e==="right")&&(i=e2(i)),i}function o2(n,e,t,i){const{top:r,left:o,bottom:l,right:c,chart:h}=n,{chartArea:p,scales:g}=h;let v=0,w,T,I;const A=l-r,b=c-o;if(n.isHorizontal()){if(T=Kt(i,o,c),qe(t)){const D=Object.keys(t)[0],V=t[D];I=g[D].getPixelForValue(V)+A-e}else t==="center"?I=(p.bottom+p.top)/2+A-e:I=cw(n,t,e);w=c-o}else{if(qe(t)){const D=Object.keys(t)[0],V=t[D];T=g[D].getPixelForValue(V)-b+e}else t==="center"?T=(p.left+p.right)/2-b+e:T=cw(n,t,e);I=Kt(i,l,r),v=t==="left"?-ci:ci}return{titleX:T,titleY:I,maxWidth:w,rotation:v}}class za extends vs{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=Ci(e,Number.POSITIVE_INFINITY),t=Ci(t,Number.NEGATIVE_INFINITY),i=Ci(i,Number.POSITIVE_INFINITY),r=Ci(r,Number.NEGATIVE_INFINITY),{min:Ci(e,i),max:Ci(t,r),minDefined:$n(e),maxDefined:$n(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),l;if(r&&o)return{min:t,max:i};const c=this.getMatchingVisibleMetas();for(let h=0,p=c.length;h<p;++h)l=c[h].controller.getMinMax(this,e),r||(t=Math.min(t,l.min)),o||(i=Math.max(i,l.max));return t=o&&t>i?i:t,i=r&&t>i?t:i,{min:Ci(t,Ci(i,t)),max:Ci(i,Ci(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){nt(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:o,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=DM(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?hw(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=GO(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){nt(this.options.afterUpdate,[this])}beforeSetDimensions(){nt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){nt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),nt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){nt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,o;for(i=0,r=e.length;i<r;i++)o=e[i],o.label=nt(t.callback,[o.value,i,e],this)}afterTickToLabelConversion(){nt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){nt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=uw(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,o=t.maxRotation;let l=r,c,h,p;if(!this._isVisible()||!t.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const g=this._getLabelSizes(),v=g.widest.width,w=g.highest.height,T=ui(this.chart.width-v,0,this.maxWidth);c=e.offset?this.maxWidth/i:T/(i-1),v+6>c&&(c=T/(i-(e.offset?.5:1)),h=this.maxHeight-Nl(e.grid)-t.padding-dw(e.title,this.chart.options.font),p=Math.sqrt(v*v+w*w),l=oM(Math.min(Math.asin(ui((g.highest.height+6)/c,-1,1)),Math.asin(ui(h/p,-1,1))-Math.asin(ui(w/p,-1,1)))),l=Math.max(r,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){nt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){nt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:o}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const h=dw(r,t.options.font);if(c?(e.width=this.maxWidth,e.height=Nl(o)+h):(e.height=this.maxHeight,e.width=Nl(o)+h),i.display&&this.ticks.length){const{first:p,last:g,widest:v,highest:w}=this._getLabelSizes(),T=i.padding*2,I=ro(this.labelRotation),A=Math.cos(I),b=Math.sin(I);if(c){const D=i.mirror?0:b*v.width+A*w.height;e.height=Math.min(this.maxHeight,e.height+D+T)}else{const D=i.mirror?0:A*v.width+b*w.height;e.width=Math.min(this.maxWidth,e.width+D+T)}this._calculatePadding(p,g,b,A)}}this._handleMargins(),c?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:o,padding:l},position:c}=this.options,h=this.labelRotation!==0,p=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let w=0,T=0;h?p?(w=r*e.width,T=i*t.height):(w=i*e.height,T=r*t.width):o==="start"?T=t.width:o==="end"?w=e.width:o!=="inner"&&(w=e.width/2,T=t.width/2),this.paddingLeft=Math.max((w-g+l)*this.width/(this.width-g),0),this.paddingRight=Math.max((T-v+l)*this.width/(this.width-v),0)}else{let g=t.height/2,v=e.height/2;o==="start"?(g=0,v=e.height):o==="end"&&(g=t.height,v=0),this.paddingTop=g+l,this.paddingBottom=v+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){nt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)rt(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=hw(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:r,_longestTextCache:o}=this,l=[],c=[],h=Math.floor(t/uw(t,i));let p=0,g=0,v,w,T,I,A,b,D,V,$,G,Y;for(v=0;v<t;v+=h){if(I=e[v].label,A=this._resolveTickFontOptions(v),r.font=b=A.string,D=o[b]=o[b]||{data:{},gc:[]},V=A.lineHeight,$=G=0,!rt(I)&&!bt(I))$=z0(r,D.data,D.gc,$,I),G=V;else if(bt(I))for(w=0,T=I.length;w<T;++w)Y=I[w],!rt(Y)&&!bt(Y)&&($=z0(r,D.data,D.gc,$,Y),G+=V);l.push($),c.push(G),p=Math.max($,p),g=Math.max(G,g)}n2(o,t);const J=l.indexOf(p),R=c.indexOf(g),C=P=>({width:l[P]||0,height:c[P]||0});return{first:C(0),last:C(t-1),widest:C(J),highest:C(R),widths:l,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return uM(this._alignToPixels?Zs(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=r2(this.getContext(),e,i))}return this.$context||(this.$context=i2(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=ro(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),o=this._getLabelSizes(),l=e.autoSkipPadding||0,c=o?o.widest.width+l:0,h=o?o.highest.height+l:0;return this.isHorizontal()?h*i>c*r?c/i:h/r:h*r<c*i?h/i:c/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:o,position:l,border:c}=r,h=o.offset,p=this.isHorizontal(),v=this.ticks.length+(h?1:0),w=Nl(o),T=[],I=c.setContext(this.getContext()),A=I.display?I.width:0,b=A/2,D=function(De){return Zs(i,De,A)};let V,$,G,Y,J,R,C,P,O,L,F,N;if(l==="top")V=D(this.bottom),R=this.bottom-w,P=V-b,L=D(e.top)+b,N=e.bottom;else if(l==="bottom")V=D(this.top),L=e.top,N=D(e.bottom)-b,R=V+b,P=this.top+w;else if(l==="left")V=D(this.right),J=this.right-w,C=V-b,O=D(e.left)+b,F=e.right;else if(l==="right")V=D(this.left),O=e.left,F=D(e.right)-b,J=V+b,C=this.left+w;else if(t==="x"){if(l==="center")V=D((e.top+e.bottom)/2+.5);else if(qe(l)){const De=Object.keys(l)[0],Ee=l[De];V=D(this.chart.scales[De].getPixelForValue(Ee))}L=e.top,N=e.bottom,R=V+b,P=R+w}else if(t==="y"){if(l==="center")V=D((e.left+e.right)/2);else if(qe(l)){const De=Object.keys(l)[0],Ee=l[De];V=D(this.chart.scales[De].getPixelForValue(Ee))}J=V-b,C=J-w,O=e.left,F=e.right}const Ne=Ye(r.ticks.maxTicksLimit,v),Se=Math.max(1,Math.ceil(v/Ne));for($=0;$<v;$+=Se){const De=this.getContext($),Ee=o.setContext(De),oe=c.setContext(De),me=Ee.lineWidth,le=Ee.color,B=oe.dash||[],X=oe.dashOffset,fe=Ee.tickWidth,xe=Ee.tickColor,Te=Ee.tickBorderDash||[],Ie=Ee.tickBorderDashOffset;G=t2(this,$,h),G!==void 0&&(Y=Zs(i,G,me),p?J=C=O=F=Y:R=P=L=N=Y,T.push({tx1:J,ty1:R,tx2:C,ty2:P,x1:O,y1:L,x2:F,y2:N,width:me,color:le,borderDash:B,borderDashOffset:X,tickWidth:fe,tickColor:xe,tickBorderDash:Te,tickBorderDashOffset:Ie}))}return this._ticksLength=v,this._borderValue=V,T}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:o}=i,l=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:p,padding:g,mirror:v}=o,w=Nl(i.grid),T=w+g,I=v?-g:T,A=-ro(this.labelRotation),b=[];let D,V,$,G,Y,J,R,C,P,O,L,F,N="middle";if(r==="top")J=this.bottom-I,R=this._getXAxisLabelAlignment();else if(r==="bottom")J=this.top+I,R=this._getXAxisLabelAlignment();else if(r==="left"){const Se=this._getYAxisLabelAlignment(w);R=Se.textAlign,Y=Se.x}else if(r==="right"){const Se=this._getYAxisLabelAlignment(w);R=Se.textAlign,Y=Se.x}else if(t==="x"){if(r==="center")J=(e.top+e.bottom)/2+T;else if(qe(r)){const Se=Object.keys(r)[0],De=r[Se];J=this.chart.scales[Se].getPixelForValue(De)+T}R=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")Y=(e.left+e.right)/2-T;else if(qe(r)){const Se=Object.keys(r)[0],De=r[Se];Y=this.chart.scales[Se].getPixelForValue(De)}R=this._getYAxisLabelAlignment(w).textAlign}t==="y"&&(h==="start"?N="top":h==="end"&&(N="bottom"));const Ne=this._getLabelSizes();for(D=0,V=c.length;D<V;++D){$=c[D],G=$.label;const Se=o.setContext(this.getContext(D));C=this.getPixelForTick(D)+o.labelOffset,P=this._resolveTickFontOptions(D),O=P.lineHeight,L=bt(G)?G.length:1;const De=L/2,Ee=Se.color,oe=Se.textStrokeColor,me=Se.textStrokeWidth;let le=R;l?(Y=C,R==="inner"&&(D===V-1?le=this.options.reverse?"left":"right":D===0?le=this.options.reverse?"right":"left":le="center"),r==="top"?p==="near"||A!==0?F=-L*O+O/2:p==="center"?F=-Ne.highest.height/2-De*O+O:F=-Ne.highest.height+O/2:p==="near"||A!==0?F=O/2:p==="center"?F=Ne.highest.height/2-De*O:F=Ne.highest.height-L*O,v&&(F*=-1),A!==0&&!Se.showLabelBackdrop&&(Y+=O/2*Math.sin(A))):(J=C,F=(1-L)*O/2);let B;if(Se.showLabelBackdrop){const X=Hn(Se.backdropPadding),fe=Ne.heights[D],xe=Ne.widths[D];let Te=F-X.top,Ie=0-X.left;switch(N){case"middle":Te-=fe/2;break;case"bottom":Te-=fe;break}switch(R){case"center":Ie-=xe/2;break;case"right":Ie-=xe;break;case"inner":D===V-1?Ie-=xe:D>0&&(Ie-=xe/2);break}B={left:Ie,top:Te,width:xe+X.width,height:fe+X.height,color:Se.backdropColor}}b.push({label:G,font:P,textOffset:F,options:{rotation:A,color:Ee,strokeColor:oe,strokeWidth:me,textAlign:le,textBaseline:N,translation:[Y,J],backdrop:B}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-ro(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,l=this._getLabelSizes(),c=e+o,h=l.widest.width;let p,g;return t==="left"?r?(g=this.right+o,i==="near"?p="left":i==="center"?(p="center",g+=h/2):(p="right",g+=h)):(g=this.right-c,i==="near"?p="right":i==="center"?(p="center",g-=h/2):(p="left",g=this.left)):t==="right"?r?(g=this.left+o,i==="near"?p="right":i==="center"?(p="center",g-=h/2):(p="left",g-=h)):(g=this.left+c,i==="near"?p="left":i==="center"?(p="center",g+=h/2):(p="right",g=this.right)):p="right",{textAlign:p,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:o,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,o,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(o=>o.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,l;const c=(h,p,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(p.x,p.y),i.stroke(),i.restore())};if(t.display)for(o=0,l=r.length;o<l;++o){const h=r[o];t.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),l=i.display?o.width:0;if(!l)return;const c=r.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let p,g,v,w;this.isHorizontal()?(p=Zs(e,this.left,l)-l/2,g=Zs(e,this.right,c)+c/2,v=w=h):(v=Zs(e,this.top,l)-l/2,w=Zs(e,this.bottom,c)+c/2,p=g=h),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(p,v),t.lineTo(g,w),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Pg(i,r);const o=this.getLabelItems(e);for(const l of o){const c=l.options,h=l.font,p=l.label,g=l.textOffset;cc(i,p,0,g,h,c)}r&&Dg(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const o=Yt(i.font),l=Hn(i.padding),c=i.align;let h=o.lineHeight/2;t==="bottom"||t==="center"||qe(t)?(h+=l.bottom,bt(i.text)&&(h+=o.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:p,titleY:g,maxWidth:v,rotation:w}=o2(this,h,t,c);cc(e,i.text,0,0,o,{color:i.color,maxWidth:v,rotation:w,textAlign:s2(c,t,r),textBaseline:"middle",translation:[p,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=Ye(e.grid&&e.grid.z,-1),r=Ye(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==za.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,l;for(o=0,l=t.length;o<l;++o){const c=t[o];c[i]===this.id&&(!e||c.type===e)&&r.push(c)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Yt(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class sh{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;c2(t)&&(i=this.register(t));const r=this.items,o=e.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in r||(r[o]=e,a2(e,l,i),this.override&&_t.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in _t[r]&&(delete _t[r][i],this.override&&delete ho[i])}}function a2(n,e,t){const i=ac(Object.create(null),[t?_t.get(t):{},_t.get(e),n.defaults]);_t.set(e,i),n.defaultRoutes&&l2(e,n.defaultRoutes),n.descriptors&&_t.describe(e,n.descriptors)}function l2(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),o=[n].concat(i).join("."),l=e[t].split("."),c=l.pop(),h=l.join(".");_t.route(o,r,h,c)})}function c2(n){return"id"in n&&"defaults"in n}class u2{constructor(){this.controllers=new sh(Yl,"datasets",!0),this.elements=new sh(vs,"elements"),this.plugins=new sh(Object,"plugins"),this.scales=new sh(za,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(e,o,r):Qe(r,l=>{const c=i||this._getRegistryForType(l);this._exec(e,c,l)})})}_exec(e,t,i){const r=Cg(e);nt(i["before"+r],[],i),t[e](i),nt(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Ri=new u2;class h2{constructor(){this._init=[]}notify(e,t,i,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=r?this._descriptors(e).filter(r):this._descriptors(e),l=this._notify(o,e,t,i);return t==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,t,i,r){r=r||{};for(const o of e){const l=o.plugin,c=l[i],h=[t,r,o.options];if(nt(c,h,l)===!1&&r.cancelable)return!1}return!0}invalidate(){rt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=Ye(i.options&&i.options.plugins,{}),o=d2(i);return r===!1&&!t?[]:p2(e,o,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(o,l)=>o.filter(c=>!l.some(h=>c.plugin.id===h.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function d2(n){const e={},t=[],i=Object.keys(Ri.plugins.items);for(let o=0;o<i.length;o++)t.push(Ri.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const l=r[o];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function f2(n,e){return!e&&n===!1?null:n===!0?{}:n}function p2(n,{plugins:e,localIds:t},i,r){const o=[],l=n.getContext();for(const c of e){const h=c.id,p=f2(i[h],r);p!==null&&o.push({plugin:c,options:m2(n.config,{plugin:c,local:t[h]},p,l)})}return o}function m2(n,{plugin:e,local:t},i,r){const o=n.pluginScopeKeys(e),l=n.getOptionScopes(i,o);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function mm(n,e){const t=_t.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function g2(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function y2(n,e){return n===e?"_index_":"_value_"}function fw(n){if(n==="x"||n==="y"||n==="r")return n}function _2(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function gm(n,...e){if(fw(n))return n;for(const t of e){const i=t.axis||_2(t.position)||n.length>1&&fw(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function pw(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function v2(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return pw(n,"x",t[0])||pw(n,"y",t[0])}return{}}function w2(n,e){const t=ho[n.type]||{scales:{}},i=e.scales||{},r=mm(n.type,e),o=Object.create(null);return Object.keys(i).forEach(l=>{const c=i[l];if(!qe(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=gm(l,c,v2(l,n),_t.scales[c.type]),p=y2(h,r),g=t.scales||{};o[l]=Kl(Object.create(null),[{axis:h},c,g[h],g[p]])}),n.data.datasets.forEach(l=>{const c=l.type||n.type,h=l.indexAxis||mm(c,e),g=(ho[c]||{}).scales||{};Object.keys(g).forEach(v=>{const w=g2(v,h),T=l[w+"AxisID"]||w;o[T]=o[T]||Object.create(null),Kl(o[T],[{axis:w},i[T],g[v]])})}),Object.keys(o).forEach(l=>{const c=o[l];Kl(c,[_t.scales[c.type],_t.scale])}),o}function ZT(n){const e=n.options||(n.options={});e.plugins=Ye(e.plugins,{}),e.scales=w2(n,e)}function eS(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function E2(n){return n=n||{},n.data=eS(n.data),ZT(n),n}const mw=new Map,tS=new Set;function oh(n,e){let t=mw.get(n);return t||(t=e(),mw.set(n,t),tS.add(t)),t}const Ml=(n,e,t)=>{const i=Ca(e,t);i!==void 0&&n.add(i)};class x2{constructor(e){this._config=E2(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=eS(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),ZT(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return oh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return oh(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return oh(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return oh(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:o}=this,l=this._cachedScopes(e,i),c=l.get(t);if(c)return c;const h=new Set;t.forEach(g=>{e&&(h.add(e),g.forEach(v=>Ml(h,e,v))),g.forEach(v=>Ml(h,r,v)),g.forEach(v=>Ml(h,ho[o]||{},v)),g.forEach(v=>Ml(h,_t,v)),g.forEach(v=>Ml(h,pm,v))});const p=Array.from(h);return p.length===0&&p.push(Object.create(null)),tS.has(t)&&l.set(t,p),p}chartOptionScopes(){const{options:e,type:t}=this;return[e,ho[t]||{},_t.datasets[t]||{},{type:t},_t,pm]}resolveNamedOptions(e,t,i,r=[""]){const o={$shared:!0},{resolver:l,subPrefixes:c}=gw(this._resolverCache,e,r);let h=l;if(S2(l,t)){o.$shared=!1,i=_s(i)?i():i;const p=this.createResolver(e,i,c);h=Aa(l,i,p)}for(const p of t)o[p]=h[p];return o}createResolver(e,t,i=[""],r){const{resolver:o}=gw(this._resolverCache,e,i);return qe(t)?Aa(o,t,void 0,r):o}}function gw(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let o=i.get(r);return o||(o={resolver:Ng(e,t),subPrefixes:t.filter(c=>!c.toLowerCase().includes("hover"))},i.set(r,o)),o}const T2=n=>qe(n)&&Object.getOwnPropertyNames(n).some(e=>_s(n[e]));function S2(n,e){const{isScriptable:t,isIndexable:i}=jT(n);for(const r of e){const o=t(r),l=i(r),c=(l||o)&&n[r];if(o&&(_s(c)||T2(c))||l&&bt(c))return!0}return!1}var I2="4.4.7";const b2=["top","bottom","left","right","chartArea"];function yw(n,e){return n==="top"||n==="bottom"||b2.indexOf(n)===-1&&e==="x"}function _w(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function vw(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),nt(t&&t.onComplete,[n],e)}function k2(n){const e=n.chart,t=e.options.animation;nt(t&&t.onProgress,[n],e)}function nS(n){return Lg()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Ih={},ww=n=>{const e=nS(n);return Object.values(Ih).filter(t=>t.canvas===e).pop()};function C2(n,e,t){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=e){const l=n[r];delete n[r],(t>0||o>e)&&(n[o+t]=l)}}}function A2(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}function ah(n,e,t){return n.options.clip?n[t]:e[t]}function R2(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:ah(t,e,"left"),right:ah(t,e,"right"),top:ah(i,e,"top"),bottom:ah(i,e,"bottom")}:e}var Qr;let Ad=(Qr=class{static register(...e){Ri.add(...e),Ew()}static unregister(...e){Ri.remove(...e),Ew()}constructor(e,t){const i=this.config=new x2(t),r=nS(e),o=ww(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||KO(r)),this.platform.updateConfig(i);const c=this.platform.acquireContext(r,l.aspectRatio),h=c&&c.canvas,p=h&&h.height,g=h&&h.width;if(this.id=QN(),this.ctx=c,this.canvas=h,this.width=g,this.height=p,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new h2,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=pM(v=>this.update(v),l.resizeDelay||0),this._dataChanges=[],Ih[this.id]=this,!c||!h){console.error("Failed to create chart: can't acquire context from the given item");return}cr.listen(this,"complete",vw),cr.listen(this,"progress",k2),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:r,_aspectRatio:o}=this;return rt(e)?t&&o?o:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ri}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():q0(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return B0(this.canvas,this.ctx),this}stop(){return cr.stop(this),this}resize(e,t){cr.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,e,t,o),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,q0(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),nt(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Qe(t,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,r=Object.keys(i).reduce((l,c)=>(l[c]=!1,l),{});let o=[];t&&(o=o.concat(Object.keys(t).map(l=>{const c=t[l],h=gm(l,c),p=h==="r",g=h==="x";return{options:c,dposition:p?"chartArea":g?"bottom":"left",dtype:p?"radialLinear":g?"category":"linear"}}))),Qe(o,l=>{const c=l.options,h=c.id,p=gm(h,c),g=Ye(c.type,l.dtype);(c.position===void 0||yw(c.position,p)!==yw(l.dposition))&&(c.position=l.dposition),r[h]=!0;let v=null;if(h in i&&i[h].type===g)v=i[h];else{const w=Ri.getScale(g);v=new w({id:h,type:g,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(c,e)}),Qe(r,(l,c)=>{l||delete i[c]}),Qe(i,l=>{Bn.configure(this,l,l.options),Bn.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((r,o)=>r.index-o.index),i>t){for(let r=t;r<i;++r)this._destroyDatasetMeta(r);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(_w("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,r)=>{t.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=t.length;i<r;i++){const o=t[i];let l=this.getDatasetMeta(i);const c=o.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=c,l.indexAxis=o.indexAxis||mm(c,this.options),l.order=o.order||0,l.index=i,l.label=""+o.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=Ri.getController(c),{datasetElementType:p,dataElementType:g}=_t.datasets[c];Object.assign(h,{dataElementType:Ri.getElement(g),datasetElementType:p&&Ri.getElement(p)}),l.controller=new h(this,i),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Qe(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let p=0,g=this.data.datasets.length;p<g;p++){const{controller:v}=this.getDatasetMeta(p),w=!r&&o.indexOf(v)===-1;v.buildOrUpdateElements(w),l=Math.max(+v.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),r||Qe(o,p=>{p.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(_w("z","_idx"));const{_active:c,_lastEvent:h}=this;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Qe(this.scales,e=>{Bn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!D0(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of t){const l=i==="_removeElements"?-o:o;C2(e,r,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=o=>new Set(e.filter(l=>l[0]===o).map((l,c)=>c+","+l.splice(1).join(","))),r=i(0);for(let o=1;o<t;o++)if(!D0(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Bn.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],Qe(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,_s(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(cr.has(this)?this.attached&&!cr.running(this)&&cr.start(this):(this.draw(),vw({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let r,o;for(r=0,o=t.length;r<o;++r){const l=t[r];(!e||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i=e._clip,r=!i.disabled,o=R2(e,this.chartArea),l={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",l)!==!1&&(r&&Pg(t,{left:i.left===!1?0:o.left-i.left,right:i.right===!1?this.width:o.right+i.right,top:i.top===!1?0:o.top-i.top,bottom:i.bottom===!1?this.height:o.bottom+i.bottom}),e.controller.draw(),r&&Dg(t),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(e){return LT(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,r){const o=bO.modes[t];return typeof o=="function"?o(this,e,i,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let r=i.filter(o=>o&&o._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Ua(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const r=i?"show":"hide",o=this.getDatasetMeta(e),l=o.controller._resolveAnimations(void 0,r);lc(t)?(o.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),l.update(o,{visible:i}),this.update(c=>c.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),cr.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),B0(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Ih[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(o,l)=>{t.addEventListener(this,o,l),e[o]=l},r=(o,l,c)=>{o.offsetX=l,o.offsetY=c,this._eventHandler(o)};Qe(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(h,p)=>{t.addEventListener(this,h,p),e[h]=p},r=(h,p)=>{e[h]&&(t.removeEventListener(this,h,p),delete e[h])},o=(h,p)=>{this.canvas&&this.resize(h,p)};let l;const c=()=>{r("attach",c),this.attached=!0,this.resize(),i("resize",o),i("detach",l)};l=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",c)},t.isAttached(this.canvas)?c():l()}unbindEvents(){Qe(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Qe(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const r=i?"set":"remove";let o,l,c,h;for(t==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),c=0,h=e.length;c<h;++c){l=e[c];const p=l&&this.getDatasetMeta(l.datasetIndex).controller;p&&p[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:o,index:l})=>{const c=this.getDatasetMeta(o);if(!c)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:c.data[l],index:l}});!Kh(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const r=this.options.hover,o=(h,p)=>h.filter(g=>!p.some(v=>g.datasetIndex===v.datasetIndex&&g.index===v.index)),l=o(t,e),c=i?e:o(e,t);l.length&&this.updateHoverStyle(l,r.mode,!1),c.length&&r.mode&&this.updateHoverStyle(c,r.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:r=[],options:o}=this,l=t,c=this._getActiveElements(e,r,i,l),h=tM(e),p=A2(e,this._lastEvent,i,h);i&&(this._lastEvent=null,nt(o.onHover,[e,c,this],this),h&&nt(o.onClick,[e,c,this],this));const g=!Kh(c,r);return(g||t)&&(this._active=c,this._updateHoverStyles(c,r,t)),this._lastEvent=p,g}_getActiveElements(e,t,i,r){if(e.type==="mouseout")return[];if(!i)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,r)}},$e(Qr,"defaults",_t),$e(Qr,"instances",Ih),$e(Qr,"overrides",ho),$e(Qr,"registry",Ri),$e(Qr,"version",I2),$e(Qr,"getChart",ww),Qr);function Ew(){return Qe(Ad.instances,n=>n._plugins.invalidate())}function iS(n,e){const{x:t,y:i,base:r,width:o,height:l}=n.getProps(["x","y","base","width","height"],e);let c,h,p,g,v;return n.horizontal?(v=l/2,c=Math.min(t,r),h=Math.max(t,r),p=i-v,g=i+v):(v=o/2,c=t-v,h=t+v,p=Math.min(i,r),g=Math.max(i,r)),{left:c,top:p,right:h,bottom:g}}function rs(n,e,t,i){return n?0:ui(e,t,i)}function P2(n,e,t){const i=n.options.borderWidth,r=n.borderSkipped,o=FT(i);return{t:rs(r.top,o.top,0,t),r:rs(r.right,o.right,0,e),b:rs(r.bottom,o.bottom,0,t),l:rs(r.left,o.left,0,e)}}function D2(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=ya(r),l=Math.min(e,t),c=n.borderSkipped,h=i||qe(r);return{topLeft:rs(!h||c.top||c.left,o.topLeft,0,l),topRight:rs(!h||c.top||c.right,o.topRight,0,l),bottomLeft:rs(!h||c.bottom||c.left,o.bottomLeft,0,l),bottomRight:rs(!h||c.bottom||c.right,o.bottomRight,0,l)}}function N2(n){const e=iS(n),t=e.right-e.left,i=e.bottom-e.top,r=P2(n,t/2,i/2),o=D2(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:o},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Lp(n,e,t,i){const r=e===null,o=t===null,c=n&&!(r&&o)&&iS(n,i);return c&&(r||da(e,c.left,c.right))&&(o||da(t,c.top,c.bottom))}function M2(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function O2(n,e){n.rect(e.x,e.y,e.w,e.h)}function Vp(n,e,t={}){const i=n.x!==t.x?-e:0,r=n.y!==t.y?-e:0,o=(n.x+n.w!==t.x+t.w?e:0)-i,l=(n.y+n.h!==t.y+t.h?e:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+l,radius:n.radius}}class bh extends vs{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:l}=N2(this),c=M2(l.radius)?Xh:O2;e.save(),(l.w!==o.w||l.h!==o.h)&&(e.beginPath(),c(e,Vp(l,t,o)),e.clip(),c(e,Vp(o,-t,l)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),c(e,Vp(o,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,i){return Lp(this,e,t,i)}inXRange(e,t){return Lp(this,e,null,t)}inYRange(e,t){return Lp(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(t+r)/2:t,y:o?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}$e(bh,"id","bar"),$e(bh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),$e(bh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const xw=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},L2=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class Tw extends vs{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=nt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=Yt(i.font),o=r.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=xw(i,o);let p,g;t.font=r.string,this.isHorizontal()?(p=this.maxWidth,g=this._fitRows(l,o,c,h)+10):(g=this.maxHeight,p=this._fitCols(l,r,c,h)+10),this.width=Math.min(p,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:o,maxWidth:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],p=this.lineWidths=[0],g=r+c;let v=e;o.textAlign="left",o.textBaseline="middle";let w=-1,T=-g;return this.legendItems.forEach((I,A)=>{const b=i+t/2+o.measureText(I.text).width;(A===0||p[p.length-1]+b+2*c>l)&&(v+=g,p[p.length-(A>0?0:1)]=0,T+=g,w++),h[A]={left:0,top:T,row:w,width:b,height:r},p[p.length-1]+=b+c}),v}_fitCols(e,t,i,r){const{ctx:o,maxHeight:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],p=this.columnSizes=[],g=l-e;let v=c,w=0,T=0,I=0,A=0;return this.legendItems.forEach((b,D)=>{const{itemWidth:V,itemHeight:$}=V2(i,t,o,b,r);D>0&&T+$+2*c>g&&(v+=w+c,p.push({width:w,height:T}),I+=w+c,A++,w=T=0),h[D]={left:I,top:T,col:A,width:V,height:$},w=Math.max(w,V),T+=$+c}),v+=w,p.push({width:w,height:T}),v}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:o}}=this,l=_a(o,this.left,this.width);if(this.isHorizontal()){let c=0,h=Kt(i,this.left+r,this.right-this.lineWidths[c]);for(const p of t)c!==p.row&&(c=p.row,h=Kt(i,this.left+r,this.right-this.lineWidths[c])),p.top+=this.top+e+r,p.left=l.leftForLtr(l.x(h),p.width),h+=p.width+r}else{let c=0,h=Kt(i,this.top+e+r,this.bottom-this.columnSizes[c].height);for(const p of t)p.col!==c&&(c=p.col,h=Kt(i,this.top+e+r,this.bottom-this.columnSizes[c].height)),p.top=h,p.left+=this.left+r,p.left=l.leftForLtr(l.x(p.left),p.width),h+=p.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Pg(e,this),this._draw(),Dg(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:o,labels:l}=e,c=_t.color,h=_a(e.rtl,this.left,this.width),p=Yt(l.font),{padding:g}=l,v=p.size,w=v/2;let T;this.drawTitle(),r.textAlign=h.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=p.string;const{boxWidth:I,boxHeight:A,itemHeight:b}=xw(l,v),D=function(J,R,C){if(isNaN(I)||I<=0||isNaN(A)||A<0)return;r.save();const P=Ye(C.lineWidth,1);if(r.fillStyle=Ye(C.fillStyle,c),r.lineCap=Ye(C.lineCap,"butt"),r.lineDashOffset=Ye(C.lineDashOffset,0),r.lineJoin=Ye(C.lineJoin,"miter"),r.lineWidth=P,r.strokeStyle=Ye(C.strokeStyle,c),r.setLineDash(Ye(C.lineDash,[])),l.usePointStyle){const O={radius:A*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:P},L=h.xPlus(J,I/2),F=R+w;OT(r,O,L,F,l.pointStyleWidth&&I)}else{const O=R+Math.max((v-A)/2,0),L=h.leftForLtr(J,I),F=ya(C.borderRadius);r.beginPath(),Object.values(F).some(N=>N!==0)?Xh(r,{x:L,y:O,w:I,h:A,radius:F}):r.rect(L,O,I,A),r.fill(),P!==0&&r.stroke()}r.restore()},V=function(J,R,C){cc(r,C.text,J,R+b/2,p,{strikethrough:C.hidden,textAlign:h.textAlign(C.textAlign)})},$=this.isHorizontal(),G=this._computeTitleHeight();$?T={x:Kt(o,this.left+g,this.right-i[0]),y:this.top+g+G,line:0}:T={x:this.left+g,y:Kt(o,this.top+G+g,this.bottom-t[0].height),line:0},$T(this.ctx,e.textDirection);const Y=b+g;this.legendItems.forEach((J,R)=>{r.strokeStyle=J.fontColor,r.fillStyle=J.fontColor;const C=r.measureText(J.text).width,P=h.textAlign(J.textAlign||(J.textAlign=l.textAlign)),O=I+w+C;let L=T.x,F=T.y;h.setWidth(this.width),$?R>0&&L+O+g>this.right&&(F=T.y+=Y,T.line++,L=T.x=Kt(o,this.left+g,this.right-i[T.line])):R>0&&F+Y>this.bottom&&(L=T.x=L+t[T.line].width+g,T.line++,F=T.y=Kt(o,this.top+G+g,this.bottom-t[T.line].height));const N=h.x(L);if(D(N,F,J),L=mM(P,L+I+w,$?L+O:this.right,e.rtl),V(h.x(L),F,J),$)T.x+=O+g;else if(typeof J.text!="string"){const Ne=p.lineHeight;T.y+=rS(J,Ne)+g}else T.y+=Y}),HT(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=Yt(t.font),r=Hn(t.padding);if(!t.display)return;const o=_a(e.rtl,this.left,this.width),l=this.ctx,c=t.position,h=i.size/2,p=r.top+h;let g,v=this.left,w=this.width;if(this.isHorizontal())w=Math.max(...this.lineWidths),g=this.top+p,v=Kt(e.align,v,this.right-w);else{const I=this.columnSizes.reduce((A,b)=>Math.max(A,b.height),0);g=p+Kt(e.align,this.top,this.bottom-I-e.labels.padding-this._computeTitleHeight())}const T=Kt(c,v,v+w);l.textAlign=o.textAlign(Rg(c)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=i.string,cc(l,t.text,T,g,i)}_computeTitleHeight(){const e=this.options.title,t=Yt(e.font),i=Hn(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,o;if(da(e,this.left,this.right)&&da(t,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],da(e,r.left,r.left+r.width)&&da(t,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!U2(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,o=L2(r,i);r&&!o&&nt(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!o&&nt(t.onHover,[e,i,this],this)}else i&&nt(t.onClick,[e,i,this],this)}}function V2(n,e,t,i,r){const o=F2(i,n,e,t),l=j2(r,i,e.lineHeight);return{itemWidth:o,itemHeight:l}}function F2(n,e,t,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,l)=>o.length>l.length?o:l)),e+t.size/2+i.measureText(r).width}function j2(n,e,t){let i=n;return typeof e.text!="string"&&(i=rS(e,t)),i}function rS(n,e){const t=n.text?n.text.length:0;return e*t}function U2(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var z2={id:"legend",_element:Tw,start(n,e,t){const i=n.legend=new Tw({ctx:n.ctx,options:t,chart:n});Bn.configure(n,i,t),Bn.addBox(n,i)},stop(n){Bn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;Bn.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:o,useBorderRadius:l,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const p=h.controller.getStyle(t?0:void 0),g=Hn(p.borderWidth);return{text:e[h.index].label,fillStyle:p.backgroundColor,fontColor:o,hidden:!h.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:p.borderColor,pointStyle:i||p.pointStyle,rotation:p.rotation,textAlign:r||p.textAlign,borderRadius:l&&(c||p.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class sS extends vs{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const r=bt(i.text)?i.text.length:1;this._padding=Hn(i.padding);const o=r*Yt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:r,right:o,options:l}=this,c=l.align;let h=0,p,g,v;return this.isHorizontal()?(g=Kt(c,i,o),v=t+e,p=o-i):(l.position==="left"?(g=i+e,v=Kt(c,r,t),h=Xt*-.5):(g=o-e,v=Kt(c,t,r),h=Xt*.5),p=r-t),{titleX:g,titleY:v,maxWidth:p,rotation:h}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=Yt(t.font),o=i.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:h,rotation:p}=this._drawArgs(o);cc(e,t.text,0,0,i,{color:t.color,maxWidth:h,rotation:p,textAlign:Rg(t.align),textBaseline:"middle",translation:[l,c]})}}function B2(n,e){const t=new sS({ctx:n.ctx,options:e,chart:n});Bn.configure(n,t,e),Bn.addBox(n,t),n.titleBlock=t}var $2={id:"title",_element:sS,start(n,e,t){B2(n,t)},stop(n){const e=n.titleBlock;Bn.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;Bn.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const zl={average(n){if(!n.length)return!1;let e,t,i=new Set,r=0,o=0;for(e=0,t=n.length;e<t;++e){const c=n[e].element;if(c&&c.hasValue()){const h=c.tooltipPosition();i.add(h.x),r+=h.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((c,h)=>c+h)/i.size,y:r/o}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,o,l,c;for(o=0,l=n.length;o<l;++o){const h=n[o].element;if(h&&h.hasValue()){const p=h.getCenterPoint(),g=lM(e,p);g<r&&(r=g,c=h)}}if(c){const h=c.tooltipPosition();t=h.x,i=h.y}return{x:t,y:i}}};function Ai(n,e){return e&&(bt(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function ur(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function H2(n,e){const{element:t,datasetIndex:i,index:r}=e,o=n.getDatasetMeta(i).controller,{label:l,value:c}=o.getLabelAndValue(r);return{chart:n,label:l,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:c,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function Sw(n,e){const t=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:l,boxHeight:c}=e,h=Yt(e.bodyFont),p=Yt(e.titleFont),g=Yt(e.footerFont),v=o.length,w=r.length,T=i.length,I=Hn(e.padding);let A=I.height,b=0,D=i.reduce((G,Y)=>G+Y.before.length+Y.lines.length+Y.after.length,0);if(D+=n.beforeBody.length+n.afterBody.length,v&&(A+=v*p.lineHeight+(v-1)*e.titleSpacing+e.titleMarginBottom),D){const G=e.displayColors?Math.max(c,h.lineHeight):h.lineHeight;A+=T*G+(D-T)*h.lineHeight+(D-1)*e.bodySpacing}w&&(A+=e.footerMarginTop+w*g.lineHeight+(w-1)*e.footerSpacing);let V=0;const $=function(G){b=Math.max(b,t.measureText(G).width+V)};return t.save(),t.font=p.string,Qe(n.title,$),t.font=h.string,Qe(n.beforeBody.concat(n.afterBody),$),V=e.displayColors?l+2+e.boxPadding:0,Qe(i,G=>{Qe(G.before,$),Qe(G.lines,$),Qe(G.after,$)}),V=0,t.font=g.string,Qe(n.footer,$),t.restore(),b+=I.width,{width:b,height:A}}function W2(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function q2(n,e,t,i){const{x:r,width:o}=i,l=t.caretSize+t.caretPadding;if(n==="left"&&r+o+l>e.width||n==="right"&&r-o-l<0)return!0}function K2(n,e,t,i){const{x:r,width:o}=t,{width:l,chartArea:{left:c,right:h}}=n;let p="center";return i==="center"?p=r<=(c+h)/2?"left":"right":r<=o/2?p="left":r>=l-o/2&&(p="right"),q2(p,n,e,t)&&(p="center"),p}function Iw(n,e,t){const i=t.yAlign||e.yAlign||W2(n,t);return{xAlign:t.xAlign||e.xAlign||K2(n,e,t,i),yAlign:i}}function G2(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function Q2(n,e,t){let{y:i,height:r}=n;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function bw(n,e,t,i){const{caretSize:r,caretPadding:o,cornerRadius:l}=n,{xAlign:c,yAlign:h}=t,p=r+o,{topLeft:g,topRight:v,bottomLeft:w,bottomRight:T}=ya(l);let I=G2(e,c);const A=Q2(e,h,p);return h==="center"?c==="left"?I+=p:c==="right"&&(I-=p):c==="left"?I-=Math.max(g,w)+r:c==="right"&&(I+=Math.max(v,T)+r),{x:ui(I,0,i.width-e.width),y:ui(A,0,i.height-e.height)}}function lh(n,e,t){const i=Hn(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function kw(n){return Ai([],ur(n))}function Y2(n,e,t){return Ua(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Cw(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const oS={beforeTitle:lr,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:lr,beforeBody:lr,beforeLabel:lr,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return rt(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:lr,afterBody:lr,beforeFooter:lr,footer:lr,afterFooter:lr};function gn(n,e,t,i){const r=n[e].call(t,i);return typeof r>"u"?oS[e].call(t,i):r}class ym extends vs{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&t.options.animation&&i.animations,o=new WT(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=Y2(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,r=gn(i,"beforeTitle",this,e),o=gn(i,"title",this,e),l=gn(i,"afterTitle",this,e);let c=[];return c=Ai(c,ur(r)),c=Ai(c,ur(o)),c=Ai(c,ur(l)),c}getBeforeBody(e,t){return kw(gn(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,r=[];return Qe(e,o=>{const l={before:[],lines:[],after:[]},c=Cw(i,o);Ai(l.before,ur(gn(c,"beforeLabel",this,o))),Ai(l.lines,gn(c,"label",this,o)),Ai(l.after,ur(gn(c,"afterLabel",this,o))),r.push(l)}),r}getAfterBody(e,t){return kw(gn(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,r=gn(i,"beforeFooter",this,e),o=gn(i,"footer",this,e),l=gn(i,"afterFooter",this,e);let c=[];return c=Ai(c,ur(r)),c=Ai(c,ur(o)),c=Ai(c,ur(l)),c}_createItems(e){const t=this._active,i=this.chart.data,r=[],o=[],l=[];let c=[],h,p;for(h=0,p=t.length;h<p;++h)c.push(H2(this.chart,t[h]));return e.filter&&(c=c.filter((g,v,w)=>e.filter(g,v,w,i))),e.itemSort&&(c=c.sort((g,v)=>e.itemSort(g,v,i))),Qe(c,g=>{const v=Cw(e.callbacks,g);r.push(gn(v,"labelColor",this,g)),o.push(gn(v,"labelPointStyle",this,g)),l.push(gn(v,"labelTextColor",this,g))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=c,c}update(e,t){const i=this.options.setContext(this.getContext()),r=this._active;let o,l=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const c=zl[i.position].call(this,r,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=Sw(this,i),p=Object.assign({},c,h),g=Iw(this.chart,i,p),v=bw(i,p,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,o={opacity:1,x:v.x,y:v.y,width:h.width,height:h.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,r){const o=this.getCaretPosition(e,i,r);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,i){const{xAlign:r,yAlign:o}=this,{caretSize:l,cornerRadius:c}=i,{topLeft:h,topRight:p,bottomLeft:g,bottomRight:v}=ya(c),{x:w,y:T}=e,{width:I,height:A}=t;let b,D,V,$,G,Y;return o==="center"?(G=T+A/2,r==="left"?(b=w,D=b-l,$=G+l,Y=G-l):(b=w+I,D=b+l,$=G-l,Y=G+l),V=b):(r==="left"?D=w+Math.max(h,g)+l:r==="right"?D=w+I-Math.max(p,v)-l:D=this.caretX,o==="top"?($=T,G=$-l,b=D-l,V=D+l):($=T+A,G=$+l,b=D+l,V=D-l),Y=$),{x1:b,x2:D,x3:V,y1:$,y2:G,y3:Y}}drawTitle(e,t,i){const r=this.title,o=r.length;let l,c,h;if(o){const p=_a(i.rtl,this.x,this.width);for(e.x=lh(this,i.titleAlign,i),t.textAlign=p.textAlign(i.titleAlign),t.textBaseline="middle",l=Yt(i.titleFont),c=i.titleSpacing,t.fillStyle=i.titleColor,t.font=l.string,h=0;h<o;++h)t.fillText(r[h],p.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+c,h+1===o&&(e.y+=i.titleMarginBottom-c)}}_drawColorBox(e,t,i,r,o){const l=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:h,boxWidth:p}=o,g=Yt(o.bodyFont),v=lh(this,"left",o),w=r.x(v),T=h<g.lineHeight?(g.lineHeight-h)/2:0,I=t.y+T;if(o.usePointStyle){const A={radius:Math.min(p,h)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},b=r.leftForLtr(w,p)+p/2,D=I+h/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,$0(e,A,b,D),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,$0(e,A,b,D)}else{e.lineWidth=qe(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const A=r.leftForLtr(w,p),b=r.leftForLtr(r.xPlus(w,1),p-2),D=ya(l.borderRadius);Object.values(D).some(V=>V!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Xh(e,{x:A,y:I,w:p,h,radius:D}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),Xh(e,{x:b,y:I+1,w:p-2,h:h-2,radius:D}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(A,I,p,h),e.strokeRect(A,I,p,h),e.fillStyle=l.backgroundColor,e.fillRect(b,I+1,p-2,h-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:r}=this,{bodySpacing:o,bodyAlign:l,displayColors:c,boxHeight:h,boxWidth:p,boxPadding:g}=i,v=Yt(i.bodyFont);let w=v.lineHeight,T=0;const I=_a(i.rtl,this.x,this.width),A=function(C){t.fillText(C,I.x(e.x+T),e.y+w/2),e.y+=w+o},b=I.textAlign(l);let D,V,$,G,Y,J,R;for(t.textAlign=l,t.textBaseline="middle",t.font=v.string,e.x=lh(this,b,i),t.fillStyle=i.bodyColor,Qe(this.beforeBody,A),T=c&&b!=="right"?l==="center"?p/2+g:p+2+g:0,G=0,J=r.length;G<J;++G){for(D=r[G],V=this.labelTextColors[G],t.fillStyle=V,Qe(D.before,A),$=D.lines,c&&$.length&&(this._drawColorBox(t,e,G,I,i),w=Math.max(v.lineHeight,h)),Y=0,R=$.length;Y<R;++Y)A($[Y]),w=v.lineHeight;Qe(D.after,A)}T=0,w=v.lineHeight,Qe(this.afterBody,A),e.y-=o}drawFooter(e,t,i){const r=this.footer,o=r.length;let l,c;if(o){const h=_a(i.rtl,this.x,this.width);for(e.x=lh(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=h.textAlign(i.footerAlign),t.textBaseline="middle",l=Yt(i.footerFont),t.fillStyle=i.footerColor,t.font=l.string,c=0;c<o;++c)t.fillText(r[c],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+i.footerSpacing}}drawBackground(e,t,i,r){const{xAlign:o,yAlign:l}=this,{x:c,y:h}=e,{width:p,height:g}=i,{topLeft:v,topRight:w,bottomLeft:T,bottomRight:I}=ya(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(c+v,h),l==="top"&&this.drawCaret(e,t,i,r),t.lineTo(c+p-w,h),t.quadraticCurveTo(c+p,h,c+p,h+w),l==="center"&&o==="right"&&this.drawCaret(e,t,i,r),t.lineTo(c+p,h+g-I),t.quadraticCurveTo(c+p,h+g,c+p-I,h+g),l==="bottom"&&this.drawCaret(e,t,i,r),t.lineTo(c+T,h+g),t.quadraticCurveTo(c,h+g,c,h+g-T),l==="center"&&o==="left"&&this.drawCaret(e,t,i,r),t.lineTo(c,h+v),t.quadraticCurveTo(c,h,c+v,h),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const l=zl[e.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=Sw(this,e),h=Object.assign({},l,this._size),p=Iw(t,e,h),g=bw(e,h,p,t);(r._to!==g.x||o._to!==g.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Hn(t.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&c&&(e.save(),e.globalAlpha=i,this.drawBackground(o,e,r,t),$T(e,t.textDirection),o.y+=l.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),HT(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,r=e.map(({datasetIndex:c,index:h})=>{const p=this.chart.getDatasetMeta(c);if(!p)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:p.data[h],index:h}}),o=!Kh(i,r),l=this._positionChanged(r,t);(o||l)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],l=this._getActiveElements(e,o,t,i),c=this._positionChanged(l,e),h=t||!Kh(l,o)||c;return h&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,i,r){const o=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,o.mode,o,i);return o.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:i,caretY:r,options:o}=this,l=zl[o.position].call(this,e,t);return l!==!1&&(i!==l.x||r!==l.y)}}$e(ym,"positioners",zl);var X2={id:"tooltip",_element:ym,positioners:zl,afterInit(n,e,t){t&&(n.tooltip=new ym({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:oS},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const J2=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function Z2(n,e,t,i){const r=n.indexOf(e);if(r===-1)return J2(n,e,t,i);const o=n.lastIndexOf(e);return r!==o?t:r}const eL=(n,e)=>n===null?null:ui(Math.round(n),0,e);function Aw(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class _m extends za{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:r,label:o}of t)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(rt(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:Z2(i,e,Ye(t,e),this._addedLabels),eL(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=e===0&&t===o.length-1?o:o.slice(e,t+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=e;l<=t;l++)r.push({value:l});return r}getLabelForValue(e){return Aw.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}$e(_m,"id","category"),$e(_m,"defaults",{ticks:{callback:Aw}});function tL(n,e){const t=[],{bounds:r,step:o,min:l,max:c,precision:h,count:p,maxTicks:g,maxDigits:v,includeBounds:w}=n,T=o||1,I=g-1,{min:A,max:b}=e,D=!rt(l),V=!rt(c),$=!rt(p),G=(b-A)/(v+1);let Y=M0((b-A)/I/T)*T,J,R,C,P;if(Y<1e-14&&!D&&!V)return[{value:A},{value:b}];P=Math.ceil(b/Y)-Math.floor(A/Y),P>I&&(Y=M0(P*Y/I/T)*T),rt(h)||(J=Math.pow(10,h),Y=Math.ceil(Y*J)/J),r==="ticks"?(R=Math.floor(A/Y)*Y,C=Math.ceil(b/Y)*Y):(R=A,C=b),D&&V&&o&&rM((c-l)/o,Y/1e3)?(P=Math.round(Math.min((c-l)/Y,g)),Y=(c-l)/P,R=l,C=c):$?(R=D?l:R,C=V?c:C,P=p-1,Y=(C-R)/P):(P=(C-R)/Y,xh(P,Math.round(P),Y/1e3)?P=Math.round(P):P=Math.ceil(P));const O=Math.max(O0(Y),O0(R));J=Math.pow(10,rt(h)?O:h),R=Math.round(R*J)/J,C=Math.round(C*J)/J;let L=0;for(D&&(w&&R!==l?(t.push({value:l}),R<l&&L++,xh(Math.round((R+L*Y)*J)/J,l,Rw(l,G,n))&&L++):R<l&&L++);L<P;++L){const F=Math.round((R+L*Y)*J)/J;if(V&&F>c)break;t.push({value:F})}return V&&w&&C!==c?t.length&&xh(t[t.length-1].value,c,Rw(c,G,n))?t[t.length-1].value=c:t.push({value:c}):(!V||C===c)&&t.push({value:C}),t}function Rw(n,e,{horizontal:t,minRotation:i}){const r=ro(i),o=(t?Math.sin(r):Math.cos(r))||.001,l=.75*e*(""+n).length;return Math.min(e/o,l)}class nL extends za{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return rt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const l=h=>r=t?r:h,c=h=>o=i?o:h;if(e){const h=us(r),p=us(o);h<0&&p<0?c(0):h>0&&p>0&&l(0)}if(r===o){let h=o===0?1:Math.abs(o*.05);c(o+h),e||l(r-h)}this.min=r,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,l=tL(r,o);return e.bounds==="ticks"&&sM(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return DT(e,this.chart.options.locale,this.options.ticks.format)}}class vm extends nL{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=$n(e)?e:0,this.max=$n(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=ro(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}$e(vm,"id","linear"),$e(vm,"defaults",{ticks:{callback:MT.formatters.numeric}});const Rd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},vn=Object.keys(Rd);function Pw(n,e){return n-e}function Dw(n,e){if(rt(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let l=e;return typeof i=="function"&&(l=i(l)),$n(l)||(l=typeof i=="string"?t.parse(l,i):t.parse(l)),l===null?null:(r&&(l=r==="week"&&(Yh(o)||o===!0)?t.startOf(l,"isoWeek",o):t.startOf(l,r)),+l)}function Nw(n,e,t,i){const r=vn.length;for(let o=vn.indexOf(n);o<r-1;++o){const l=Rd[vn[o]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(c*l.size))<=i)return vn[o]}return vn[r-1]}function iL(n,e,t,i,r){for(let o=vn.length-1;o>=vn.indexOf(t);o--){const l=vn[o];if(Rd[l].common&&n._adapter.diff(r,i,l)>=e-1)return l}return vn[t?vn.indexOf(t):0]}function rL(n){for(let e=vn.indexOf(n)+1,t=vn.length;e<t;++e)if(Rd[vn[e]].common)return vn[e]}function Mw(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:r}=Ag(t,e),o=t[i]>=e?t[i]:t[r];n[o]=!0}}function sL(n,e,t,i){const r=n._adapter,o=+r.startOf(e[0].value,i),l=e[e.length-1].value;let c,h;for(c=o;c<=l;c=+r.add(c,1,i))h=t[c],h>=0&&(e[h].major=!0);return e}function Ow(n,e,t){const i=[],r={},o=e.length;let l,c;for(l=0;l<o;++l)c=e[l],r[c]=l,i.push({value:c,major:!1});return o===0||!t?i:sL(n,i,r,t)}class ed extends za{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),r=this._adapter=new EO._date(e.adapters.date);r.init(t),Kl(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Dw(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:r,max:o,minDefined:l,maxDefined:c}=this.getUserBounds();function h(p){!l&&!isNaN(p.min)&&(r=Math.min(r,p.min)),!c&&!isNaN(p.max)&&(o=Math.max(o,p.max))}(!l||!c)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),r=$n(r)&&!isNaN(r)?r:+t.startOf(Date.now(),i),o=$n(o)&&!isNaN(o)?o:+t.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,l=this.max,c=dM(r,o,l);return this._unit=t.unit||(i.autoSkip?Nw(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):iL(this,c.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:rL(this._unit),this.initOffsets(r),e.reverse&&c.reverse(),Ow(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,r,o;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?i=o:i=(o-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=ui(t,0,l),i=ui(i,0,l),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,r=this.options,o=r.time,l=o.unit||Nw(o.minUnit,t,i,this._getLabelCapacity(t)),c=Ye(r.ticks.stepSize,1),h=l==="week"?o.isoWeekday:!1,p=Yh(h)||h===!0,g={};let v=t,w,T;if(p&&(v=+e.startOf(v,"isoWeek",h)),v=+e.startOf(v,p?"day":l),e.diff(i,t,l)>1e5*c)throw new Error(t+" and "+i+" are too far apart with stepSize of "+c+" "+l);const I=r.ticks.source==="data"&&this.getDataTimestamps();for(w=v,T=0;w<i;w=+e.add(w,c,l),T++)Mw(g,w,I);return(w===i||r.bounds==="ticks"||T===1)&&Mw(g,w,I),Object.keys(g).sort(Pw).map(A=>+A)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,o=this._unit,l=t||r[o];return this._adapter.format(e,l)}_tickFormatFunction(e,t,i,r){const o=this.options,l=o.ticks.callback;if(l)return nt(l,[e,t,i],this);const c=o.time.displayFormats,h=this._unit,p=this._majorUnit,g=h&&c[h],v=p&&c[p],w=i[t],T=p&&v&&w&&w.major;return this._adapter.format(e,r||(T?v:g))}generateTickLabels(e){let t,i,r;for(t=0,i=e.length;t<i;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,r=ro(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(r),l=Math.sin(r),c=this._resolveTickFontOptions(0).size;return{w:i*o+c*l,h:i*l+c*o}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,r=i[t.unit]||i.millisecond,o=this._tickFormatFunction(e,0,Ow(this,[e],this._majorUnit),r),l=this._getLabelSize(o),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,i=r.length;t<i;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const r=this.getLabels();for(t=0,i=r.length;t<i;++t)e.push(Dw(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return CT(e.sort(Pw))}}$e(ed,"id","time"),$e(ed,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ch(n,e,t){let i=0,r=n.length-1,o,l,c,h;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=fm(n,"pos",e)),{pos:o,time:c}=n[i],{pos:l,time:h}=n[r]):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=fm(n,"time",e)),{time:o,pos:c}=n[i],{time:l,pos:h}=n[r]);const p=l-o;return p?c+(h-c)*(e-o)/p:c}class Lw extends ed{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=ch(t,this.min),this._tableRange=ch(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],o=[];let l,c,h,p,g;for(l=0,c=e.length;l<c;++l)p=e[l],p>=t&&p<=i&&r.push(p);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(l=0,c=r.length;l<c;++l)g=r[l+1],h=r[l-1],p=r[l],Math.round((g+h)/2)!==p&&o.push({time:p,pos:l/(c-1)});return o}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(ch(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return ch(this._table,i*this._tableRange+this._minPos,!0)}}$e(Lw,"id","timeseries"),$e(Lw,"defaults",ed.defaults);const aS="label";function Vw(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function oL(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function lS(n,e){n.labels=e}function cS(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:aS;const i=[];n.datasets=e.map(r=>{const o=n.datasets.find(l=>l[t]===r[t]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function aL(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:aS;const t={labels:[],datasets:[]};return lS(t,n.labels),cS(t,n.datasets,e),t}function lL(n,e){const{height:t=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:l,data:c,options:h,plugins:p=[],fallbackContent:g,updateMode:v,...w}=n,T=z.useRef(null),I=z.useRef(null),A=()=>{T.current&&(I.current=new Ad(T.current,{type:l,data:aL(c,o),options:h&&{...h},plugins:p}),Vw(e,I.current))},b=()=>{Vw(e,null),I.current&&(I.current.destroy(),I.current=null)};return z.useEffect(()=>{!r&&I.current&&h&&oL(I.current,h)},[r,h]),z.useEffect(()=>{!r&&I.current&&lS(I.current.config.data,c.labels)},[r,c.labels]),z.useEffect(()=>{!r&&I.current&&c.datasets&&cS(I.current.config.data,c.datasets,o)},[r,c.datasets]),z.useEffect(()=>{I.current&&(r?(b(),setTimeout(A)):I.current.update(v))},[r,h,c.labels,c.datasets,v]),z.useEffect(()=>{I.current&&(b(),setTimeout(A))},[l]),z.useEffect(()=>(A(),()=>b()),[]),Uw.createElement("canvas",{ref:T,role:"img",height:t,width:i,...w},g)}const cL=z.forwardRef(lL);function uL(n,e){return Ad.register(e),z.forwardRef((t,i)=>Uw.createElement(cL,{...t,ref:i,type:n}))}const Fw=uL("bar",Th);Ad.register(_m,vm,bh,$2,X2,z2);const uS=()=>{var v,w,T,I,A,b,D,V,$,G,Y,J,R,C,P,O;const[n,e]=z.useState([]),[t,i]=z.useState(""),[r,o]=z.useState({});z.useEffect(()=>{Id().then(L=>{e(L)})},[]);const l=L=>{i(L.target.value),c(L.target.value)},c=L=>{const F={plan1:{Efectivo:0,Transferencia:0,ganancia:0,precio:100},plan2:{Efectivo:0,Transferencia:0,ganancia:0,precio:150},metodosPago:{Efectivo:0,Transferencia:0}},N=100,Ne=150;n.forEach(Se=>{if(Se.pago&&Se.pago[L]){const De=Se.pago[L],Ee=Se.plan;Ee&&(De==="Efectivo"?(F[Ee].Efectivo+=1,F.metodosPago.Efectivo+=1):De==="Transferencia"&&(F[Ee].Transferencia+=1,F.metodosPago.Transferencia+=1))}}),F.plan1.ganancia=(F.plan1.Efectivo+F.plan1.Transferencia)*N,F.plan2.ganancia=(F.plan2.Efectivo+F.plan2.Transferencia)*Ne,o(F)},h={labels:["Plan 1","Plan 2"],datasets:[{label:"Número de Personas",data:[((v=r.plan1)==null?void 0:v.Efectivo)+((w=r.plan1)==null?void 0:w.Transferencia)||0,((T=r.plan2)==null?void 0:T.Efectivo)+((I=r.plan2)==null?void 0:I.Transferencia)||0],backgroundColor:"rgba(75, 192, 192, 0.6)"}]},p={labels:["Efectivo","Transferencia"],datasets:[{label:"Método de Pago",data:[((A=r.metodosPago)==null?void 0:A.Efectivo)||0,((b=r.metodosPago)==null?void 0:b.Transferencia)||0],backgroundColor:["rgba(75, 192, 192, 0.6)","rgba(153, 102, 255, 0.6)"]}]},g=(((D=r.plan1)==null?void 0:D.ganancia)||0)+(((V=r.plan2)==null?void 0:V.ganancia)||0);return x.jsxs("div",{style:{textAlign:"center"},children:[x.jsx("h2",{children:"Estadísticas de Pagos"}),x.jsxs("div",{style:{marginBottom:"20px"},children:[x.jsx("label",{htmlFor:"mes",children:"Selecciona un mes:"}),x.jsxs("select",{id:"mes",value:t,onChange:l,style:{padding:"5px 10px",fontSize:"16px"},children:[x.jsx("option",{value:"",children:"-- Elige un mes --"}),x.jsx("option",{value:"enero",children:"Enero"}),x.jsx("option",{value:"febrero",children:"Febrero"}),x.jsx("option",{value:"marzo",children:"Marzo"}),x.jsx("option",{value:"abril",children:"Abril"})]})]}),x.jsx("div",{children:t&&x.jsxs(x.Fragment,{children:[x.jsxs("table",{className:"table",style:{width:"80%",margin:"0 auto",textAlign:"center"},children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{style:{width:"20%"},children:"Plan"}),x.jsx("th",{style:{width:"15%"},children:"Precio"}),x.jsx("th",{style:{width:"15%"},children:"Efectivo"}),x.jsx("th",{style:{width:"15%"},children:"Transferencia"}),x.jsx("th",{style:{width:"15%"},children:"Ganancia Total"})]})}),x.jsxs("tbody",{children:[x.jsxs("tr",{children:[x.jsx("td",{children:"Plan 1"}),x.jsx("td",{children:(($=r.plan1)==null?void 0:$.precio)||0}),x.jsx("td",{children:((G=r.plan1)==null?void 0:G.Efectivo)||0}),x.jsx("td",{children:((Y=r.plan1)==null?void 0:Y.Transferencia)||0}),x.jsx("td",{children:((J=r.plan1)==null?void 0:J.ganancia)||0})]}),x.jsxs("tr",{children:[x.jsx("td",{children:"Plan 2"}),x.jsx("td",{children:((R=r.plan2)==null?void 0:R.precio)||0}),x.jsx("td",{children:((C=r.plan2)==null?void 0:C.Efectivo)||0}),x.jsx("td",{children:((P=r.plan2)==null?void 0:P.Transferencia)||0}),x.jsx("td",{children:((O=r.plan2)==null?void 0:O.ganancia)||0})]}),x.jsxs("tr",{children:[x.jsx("td",{colSpan:"4",style:{textAlign:"center"},children:"Total"}),x.jsx("td",{children:g||0})]})]})]}),x.jsxs("div",{style:{display:"block",width:"60%",margin:"20px auto"},children:[x.jsx("h3",{style:{marginBottom:"10px"},children:"Distribución de Personas por Plan"}),x.jsx(Fw,{data:h,options:{responsive:!0},height:200,width:300})]}),x.jsxs("div",{style:{display:"block",width:"60%",margin:"20px auto"},children:[x.jsx("h3",{style:{marginBottom:"10px"},children:"Distribución de Métodos de Pago"}),x.jsx(Fw,{data:p,options:{responsive:!0},height:200,width:300})]})]})})]})},hS=()=>{const[n,e]=z.useState([]),[t,i]=z.useState(""),[r,o]=z.useState(""),[l,c]=z.useState("pTransferencia"),[h,p]=z.useState(1),[g,v]=z.useState("");z.useEffect(()=>{(async()=>{const V=await TN();e(V)})()},[]);const w=async()=>{if(!t)return alert("El nombre del producto es requerido");const D=new Date,$={vendidas:0,pTransferencia:0,pEfectivo:0,mesAnio:`${D.getMonth()+1}-${D.getFullYear()}`};await xN(t,$),e([...n,{id:t,...$}]),i("")},T=async()=>{if(!r||!l||h<=0)return alert("Debe seleccionar un producto, un método de pago y una cantidad válida");const D=n.find(Y=>Y.id===r);if(!D)return alert("Producto no encontrado");const V=new Date,$=`${V.getMonth()+1}-${V.getFullYear()}`,G={vendidas:D.vendidas+h,[l]:D[l]+h,mesAnio:$};await b0(r,G),e(n.map(Y=>Y.id===r?{...Y,...G}:Y))},I=async D=>{await SN(D),e(n.filter(V=>V.id!==D))},A=async D=>{const V={vendidas:0,pTransferencia:0,pEfectivo:0,mesAnio:`${new Date().getMonth()+1}-${new Date().getFullYear()}`};await b0(D,V),e(n.map($=>$.id===D?{...$,...V}:$))},b=n.map(D=>g&&D.mesAnio!==g?{...D,pTransferencia:0,pEfectivo:0,vendidas:0}:D);return x.jsxs("div",{className:"ventas-page",children:[x.jsx("h1",{children:"Gestión de Ventas"}),x.jsxs("section",{children:[x.jsx("h2",{children:"Filtrar por Mes"}),x.jsxs("select",{onChange:D=>v(D.target.value),value:g,children:[x.jsx("option",{value:"",children:"Selecciona un mes"}),n.map(D=>D.mesAnio).filter((D,V,$)=>$.indexOf(D)===V).map(D=>x.jsx("option",{value:D,children:D},D))]})]}),x.jsxs("section",{children:[x.jsx("h2",{children:"Listado de Ventas"}),x.jsxs("table",{className:"ventas-table",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{children:"Producto"}),x.jsx("th",{children:"Vendidas"}),x.jsx("th",{children:"Transferencia"}),x.jsx("th",{children:"Efectivo"}),x.jsx("th",{children:"Acciones"})]})}),x.jsx("tbody",{children:b.map(D=>x.jsxs("tr",{children:[x.jsx("td",{children:D.id}),x.jsx("td",{children:D.vendidas}),x.jsx("td",{children:D.pTransferencia}),x.jsx("td",{children:D.pEfectivo}),x.jsxs("td",{children:[x.jsx("button",{className:"btn-delete",onClick:()=>I(D.id),children:"Eliminar"}),x.jsx("button",{className:"btn-reset",onClick:()=>A(D.id),children:"Restablecer"})]})]},D.id))})]})]}),x.jsxs("section",{className:"form-section",children:[x.jsx("h2",{children:"Añadir Compra"}),x.jsxs("div",{className:"form-elements",children:[x.jsxs("select",{value:r,onChange:D=>o(D.target.value),children:[x.jsx("option",{value:"",children:"Selecciona un producto"}),n.map(D=>x.jsx("option",{value:D.id,children:D.id},D.id))]}),x.jsxs("select",{value:l,onChange:D=>c(D.target.value),children:[x.jsx("option",{value:"pTransferencia",children:"Transferencia"}),x.jsx("option",{value:"pEfectivo",children:"Efectivo"})]}),x.jsx("input",{type:"number",min:"1",placeholder:"Cantidad",value:h,onChange:D=>p(Number(D.target.value))}),x.jsx("button",{onClick:T,children:"Añadir Compra"})]})]}),x.jsxs("section",{className:"form-section",children:[x.jsx("h2",{children:"Añadir Producto"}),x.jsxs("div",{className:"form-elements",children:[x.jsx("input",{type:"text",placeholder:"Nombre del producto",value:t,onChange:D=>i(D.target.value)}),x.jsx("button",{onClick:w,children:"Añadir Producto"})]})]})]})};function hL(){const[n,e]=z.useState("principal"),[t,i]=z.useState([]),[r,o]=z.useState([]),l=fc(),c=[{hora:"9:00 AM",clase:"Yoga",alumnos:12},{hora:"11:00 AM",clase:"Crossfit",alumnos:15},{hora:"5:00 PM",clase:"Funcional",alumnos:10},{hora:"7:00 PM",clase:"Zumba",alumnos:20}];z.useEffect(()=>{h()},[]);const h=async()=>{const w=await Id();i(w),p(w)},p=w=>{const T=new Date,I=w.filter(A=>{const b=new Date(A.fecha),D=new Date(b);D.setMonth(b.getMonth()+1);const V=new Date(D);V.setDate(D.getDate()-10);const $=Math.ceil((V-T)/(1e3*3600*24));return $<=0&&$>-11});o(I)},g=()=>{localStorage.removeItem("authToken"),sessionStorage.removeItem("authToken"),l("/login")},v=()=>{switch(n){case"principal":return x.jsx(IN,{personasFiltradas:r,clasesDelDia:c});case"usuarios":return x.jsx(xT,{});case"clases":return x.jsx(bN,{});case"reportes":return x.jsx(uS,{});case"ventas":return x.jsx(hS,{});default:return x.jsx("h2",{children:"Página no encontrada"})}};return x.jsxs("div",{className:"admin-container",children:[x.jsxs("aside",{className:"sidebar",children:[x.jsxs("div",{className:"profile",children:[x.jsx("div",{className:"profile-picture"}),x.jsx("p",{children:"Administrador"})]}),x.jsxs("nav",{className:"menu",children:[x.jsx("button",{className:`menu-item ${n==="principal"?"active":""}`,onClick:()=>e("principal"),children:"Principal"}),x.jsx("button",{className:`menu-item ${n==="usuarios"?"active":""}`,onClick:()=>e("usuarios"),children:"Usuarios"}),x.jsx("button",{className:`menu-item ${n==="clases"?"active":""}`,onClick:()=>e("clases"),children:"Clases"}),x.jsx("button",{className:`menu-item ${n==="reportes"?"active":""}`,onClick:()=>e("reportes"),children:"Reportes"}),x.jsx("button",{className:`menu-item ${n==="ventas"?"active":""}`,onClick:()=>e("ventas"),children:"Ventas"})]}),x.jsx("button",{className:"logout",onClick:g,children:"Cerrar Sesión"})]}),x.jsx("main",{className:"main-content",children:v()})]})}const dL=()=>{const[n,e]=z.useState(""),[t,i]=z.useState(""),r=fc(),o=async l=>{if(l.preventDefault(),n==="admin"&&t==="admin"){console.log("Acceso como administrador"),r("/admin");return}n&&t?(console.log("Acceso como usuario"),r(`/user/${n}`)):alert("Por favor, ingresa usuario y contraseña válidos.")};return x.jsx("div",{className:"login-container",children:x.jsxs("form",{onSubmit:o,className:"login-form",children:[x.jsx("h2",{children:"Iniciar Sesión"}),x.jsxs("div",{className:"input-group",children:[x.jsx("label",{htmlFor:"username",children:"Usuario:"}),x.jsx("input",{type:"text",id:"username",placeholder:"Usuario",value:n,onChange:l=>e(l.target.value)})]}),x.jsxs("div",{className:"input-group",children:[x.jsx("label",{htmlFor:"password",children:"Contraseña:"}),x.jsx("input",{type:"password",id:"password",placeholder:"Contraseña",value:t,onChange:l=>i(l.target.value)})]}),x.jsx("button",{type:"submit",className:"login-btn",children:"Ingresar"})]})})},fL=()=>{const{userId:n}=t1(),[e,t]=z.useState(null),[i,r]=z.useState([]),[o,l]=z.useState([]),[c,h]=z.useState(!1),p=fc();z.useEffect(()=>{(async()=>{try{const A=await yN(n);t(A);const b=await Sg();console.log(b);const D=[],V=[];b.forEach($=>{$.inscritos&&$.inscritos.includes(A.nombre)?D.push($):V.push($)}),l(D),r(V)}catch(A){console.error("Error al cargar datos:",A)}})()},[n]);const g=async I=>{const A=i.find(b=>b.id===I);if(A&&e)try{const b=fi(wn,"clases",I);await Sd(b,{inscritos:FD(e.nombre)}),l([...o,A]),r(i.filter(D=>D.id!==I)),console.log(`Usuario ${e.nombre} registrado en la clase ${I}`)}catch(b){console.error("Error al registrar al usuario en la clase:",b)}},v=()=>{p("/login")},T=(()=>{if(!e)return{status:"Cargando...",color:"gray"};const I=new Date,A=new Date(e.fecha),b=Math.ceil((A-I)/(1e3*60*60*24));return b<0?{status:`VENCIDA desde ${Math.abs(b)} días`,color:"red"}:b<=10?{status:`PRÓXIMA A VENCER en ${b} días`,color:"orange"}:{status:`AL DÍA con ${b} días restantes`,color:"green"}})();return x.jsxs("div",{className:"dashboard-container",children:[x.jsxs("header",{className:"dashboard-header",children:[x.jsxs("h1",{children:["Bienvenido, ",e?e.nombre:"Cargando..."]}),x.jsxs("div",{className:"buttons-container",children:[x.jsx("button",{className:"primary-button",onClick:()=>h(!0),children:"Ver Datos"}),x.jsx("button",{className:"secondary-button",onClick:v,children:"Cerrar Sesión"})]})]}),x.jsxs("main",{className:"dashboard-main",children:[x.jsxs("section",{className:"classes-section",children:[x.jsx("h2",{children:"Clases Disponibles"}),x.jsxs("table",{className:"classes-table",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{children:"Clase"}),x.jsx("th",{children:"Fecha"}),x.jsx("th",{children:"Hora"}),x.jsx("th",{children:"Acciones"})]})}),x.jsx("tbody",{children:i.length>0?i.map(I=>x.jsxs("tr",{children:[x.jsx("td",{children:I.nombre}),x.jsx("td",{children:I.fecha}),x.jsx("td",{children:I.hora}),x.jsx("td",{children:x.jsx("button",{className:"secondary-button",onClick:()=>g(I.id),children:"Registrar"})})]},I.id)):x.jsx("tr",{children:x.jsx("td",{colSpan:"4",children:"No hay clases disponibles."})})})]})]}),x.jsxs("section",{className:"user-details-section columns",children:[x.jsxs("div",{className:"registered-classes",children:[x.jsx("h2",{children:"Clases Registradas"}),x.jsxs("table",{className:"classes-table",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{children:"Clase"}),x.jsx("th",{children:"Fecha"}),x.jsx("th",{children:"Hora"})]})}),x.jsx("tbody",{children:o.length>0?o.map(I=>x.jsxs("tr",{children:[x.jsx("td",{children:I.nombre}),x.jsx("td",{children:I.fecha}),x.jsx("td",{children:I.hora})]},I.id)):x.jsx("tr",{children:x.jsx("td",{colSpan:"3",children:"Aún no estás registrado en ninguna clase."})})})]})]}),x.jsxs("div",{className:"membership-status",style:{color:T.color,backgroundColor:"rgba(0, 0, 0, 0.1)",padding:"20px",borderRadius:"10px",fontSize:"1.5em",fontWeight:"bold",textAlign:"center",width:"100%",margin:"20px 0"},children:[x.jsx("h2",{children:"Estado de la Membresía"}),x.jsxs("p",{children:[x.jsx("strong",{children:"Membresía:"})," ",T.status]})]})]})]}),c&&x.jsx("div",{className:"modal",children:x.jsxs("div",{className:"modal-content",children:[x.jsx("h2",{children:"Datos del Usuario"}),e?x.jsxs(x.Fragment,{children:[x.jsxs("p",{children:[x.jsx("strong",{children:"ID:"})," ",e.id]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Nombre:"})," ",e.nombre]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Teléfono:"})," ",e.telefono]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Fecha:"})," ",e.fecha]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Dirección:"})," ",e.direccion]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Grupo Sanguíneo:"})," ",e.grupoSanguineo]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Ocupación:"})," ",e.ocupacion]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Talla:"})," ",e.talla]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Nivel de Estudio:"})," ",e.nivelEstudio]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Familiares:"})," ",JSON.stringify(e.familiares)]}),x.jsxs("p",{children:[x.jsx("strong",{children:"EPS:"})," ",e.eps]}),x.jsxs("p",{children:[x.jsx("strong",{children:"ARL:"})," ",e.arl]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Lesiones:"})," ",e.lesiones]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Alergias:"})," ",e.alergias]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Medicamentos:"})," ",e.medicamentos]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Problemas Pulmonares:"})," ",e.problemasPulmonares?"Sí":"No"]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Enfermedades Cardiacas:"})," ",e.enfermedadesCardiacas?"Sí":"No"]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Enfermedad Renal:"})," ",e.enfermedadRenal?"Sí":"No"]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Sistema Inmunitario Debilitado:"})," ",e.sistemaInmunitarioDebilitado?"Sí":"No"]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Plan:"})," ",e.plan]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Días Seleccionados:"})," ",JSON.stringify(e.diasSeleccionados)]})]}):x.jsx("p",{children:"Cargando datos..."}),x.jsx("button",{className:"close-button",onClick:()=>h(!1),children:"Cerrar"})]})})]})};function pL(){return x.jsx("div",{className:"App",children:x.jsxs(g1,{children:[x.jsx(Yr,{path:"/",element:x.jsx(Y1,{})})," ",x.jsx(Yr,{path:"/admin",element:x.jsx(hL,{})})," ",x.jsx(Yr,{path:"/login",element:x.jsx(dL,{})})," ",x.jsx(Yr,{path:"/user/:userId",element:x.jsx(fL,{})})," ",x.jsx(Yr,{path:"/usuarios",element:x.jsx(xT,{})})," ",x.jsx(Yr,{path:"/reportes",element:x.jsx(uS,{})})," ",x.jsx(Yr,{path:"/ventas",element:x.jsx(hS,{})})," "]})})}II.createRoot(document.getElementById("app")).render(x.jsx(U1,{children:x.jsx(pL,{})}));
